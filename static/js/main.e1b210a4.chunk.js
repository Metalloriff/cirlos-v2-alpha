(this.webpackJsonpcirlos=this.webpackJsonpcirlos||[]).push([[0],[,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return h}));var r=n(14),a=n.n(r);function c(){for(var e="",t=0;t<arguments.length;t++){if(typeof arguments[t]===(Array.isArray(arguments[t])&&"boolean"===typeof arguments[t][0]&&"object"))!0===arguments[t][0]?e+=arguments[t][1]:arguments[t][2]&&(e+=arguments[t][2]);else e+=arguments[t];e+=" "}return e.trim()}function s(){return Math.random().toString(36).substr(7)}function i(e){return e.split(/\s/).slice(0,2).map((function(e){return e[0]})).join("").toUpperCase()}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prependOn,r=void 0===n||n,a=864e5,c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=new Date,i=(Math.round(s-e)/a).toFixed(0);return i<0?"in the future apparently":"0"===i?"today":"1"===i?"yesterday":i<7?(r?"on ":"")+c[e.getDay()]:(r?"on ":"")+e.toLocaleDateString()}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t){var n=e.type,r=void 0===n?"*":n,c=a.a.assign(document.createElement("input"),{type:"file",accept:r,style:"display:none",onchange:function(){return t(c.files),document.body.removeChild(c)}});document.body.appendChild(c),c.click()}))}function l(e){return 1024*function(e){return 1024*e}(e)}var d={PAGE_UPDATE:"PAGE_UPDATE",LOCAL_USER_UPDATE:"LOCAL_USER_UPDATE",USER_UPDATE:"USER_UPDATE",CIRCLE_UPDATE:"CIRCLE_UPDATE",CIRCLE_UPDATE_GROUPS:"CIRCLE_UPDATE_GROUPS",BATCH_UPDATE_DMS:"BATCH_UPDATE_DMS",GROUP_UPDATE:"GROUP_UPDATE",DM_UPDATE:"DM_UPDATE",UPDATE_CSS_VAR:"UPDATE_CSS_VAR",BATCH_UPDATE_CSS_VARS:"BATCH_UPDATE_CSS_VARS",MESSAGE_CREATE:"MESSAGE_CREATE",MESSAGE_UPDATE:"MESSAGE_UPDATE",MESSAGE_DELETE:"MESSAGE_DELETE",CHAT_UPDATE:"CHAT_UPDATE",FETCH_EMOTE:"FETCH_EMOTE"},j={FOLDER:0,TEXT:1,VOICE:2,ANNOUNCEMENTS:3},h={OFFLINE:0,ONLINE:1,AWAY:2,BUSY:3,BOT:100}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(13),a=n(12),c=n(2),s=n(5),i=n(4),o=n.n(i),u=function(){function e(){Object(c.a)(this,e),this._callbacks={}}return Object(s.a)(e,[{key:"subscribe",value:function(e,t){return this._callbacks[e]||(this._callbacks[e]=new Set),this._callbacks[e].add(t),this.unsubscribe.bind(this,e,t)}},{key:"unsubscribe",value:function(e,t){this._callbacks[e]&&this._callbacks[e].delete(t)}},{key:"dispatch",value:function(e){var t=e.type;if(this._callbacks[t]){var n,r=Object(a.a)(this._callbacks[t]);try{for(r.s();!(n=r.n()).done;){(0,n.value)(e)}}catch(c){r.e(c)}finally{r.f()}}}},{key:"useForceUpdater",get:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=o.a.useReducer((function(e){return e+1}),0),s=Object(r.a)(c,2),i=s[1];o.a.useEffect((function(){return e.subscribe(t,(function(e){"function"===typeof n?n(e)&&i():i()}))}),a)}}}]),e}(),l=new u},,function(e,t,n){"use strict";var r=n(13),a=n(0),c=n.n(a),s=n(3),i=n(16),o=n(2),u=n(5),l=n(59),d=n(46),j=n(43),h=n(35),f=n(4),b=n.n(f),p={apiKey:"AIzaSyCWL2SBBGhjsKq922QaI2W6XwDEeFZ-YQY",authDomain:"www.cirlos.net",projectId:"cirlos",storageBucket:"cirlos.appspot.com",messagingSenderId:"624454143510",appId:"1:624454143510:web:beb8a88238bc3b9ea72f37",measurementId:"G-ZYXVMY55WD",tosUrl:"https://www.cirlos.net/terms",privacyPolicyUrl:"https://www.cirlos.net/privacy"};t.a=new(function(){function e(){Object(o.a)(this,e),this.app=Object(l.a)(p),this.auth=Object(d.b)(),this.db=Object(h.f)(),this.storage=Object(j.b)(),this.storageCache={}}return Object(u.a)(e,[{key:"doc",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.c.apply(void 0,[this.db].concat(t))}},{key:"collection",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.b.apply(void 0,[this.db].concat(t))}},{key:"formatDocument",value:function(e,t){return t?Object(i.a)({_ref:e,_snapshot:t,id:t.id},t.data()):null}},{key:"getDoc",value:function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)(t);case 2:if((n=e.sent).exists()){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",this.formatDocument(t,n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDocs",value:function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.e)(t);case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return r.formatDocument(e.ref,e)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSnapshotListener",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onReady,c=Object(h.g)(e,(function(r){var s,o=e instanceof h.a?n.formatDocument(e,r):{changes:r.docChanges().map((function(e){return Object(i.a)(Object(i.a)({},e),{},{data:n.formatDocument(e.doc.ref,e.doc)})})),items:r.docs.map((function(e){return n.formatDocument(e.ref,e)}))};o&&(o._unbindListener=c),t(o),null===(s=a)||void 0===s||s(o),a=null}));return c}},{key:"useSnapshot",get:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.processor,i=b.a.useState(void 0),o=Object(r.a)(i,2),u=o[0],l=o[1];return b.a.useEffect((function(){return e.createSnapshotListener(t,function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"===typeof a){e.next=2;break}return e.abrupt("return",l(t));case 2:if(!Array.isArray(t.items)){e.next=13;break}e.t0=c.a.keys(t.items);case 4:if((e.t1=e.t0()).done){e.next=11;break}return n=e.t1.value,e.next=8,a(t.items[n]);case 8:t.items[n]=e.sent,e.next=4;break;case 11:e.next=16;break;case 13:return e.next=15,a(t);case 15:t=e.sent;case 16:l(t);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n)}),[]),u}}},{key:"serializeObject",value:function(e){var t=Object(i.a)({},e);return delete t._ref,delete t._snapshot,delete t._unbindListener,delete t.id,t}},{key:"set",value:function(){var e=Object(s.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.h)(t,this.serializeObject(n)).catch((function(e){return console.error('Error setting doc data at "'.concat(t.path,'"\n').concat(e.stack))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.i)(t,this.serializeObject(n)).catch((function(){return r.set(t,n)})).catch((function(e){return console.error('Error updating doc data at "'.concat(t.path,'"\n').concat(e.stack))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getStorageUrl",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,n,r,a,s,i,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r];return a=n.join("/"),s=Object(j.c)(this.storage,a),e.next=5,Object(j.a)(s);case 5:return i=e.sent,e.abrupt("return",this.storageCache[a]=i);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadStorage",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=r.join("/"),o=Object(j.c)(this.storage,i);return Object(j.d)(o,e).then(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,t.getStorageUrl.apply(t,r);case 3:return e.t1=e.sent,e.abrupt("return",{result:e.t0,url:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}())},function(e,t,n){"use strict";var r=n(6),a=n(2),c=n(5),s=n(9),i=n(10),o=n(14),u=n.n(o),l=n(11),d=n(17),j=n(15),h=n(32),f=n(0),b=n.n(f),p=n(3),v=n(13),O=n(4),m=n.n(O),x=(n(80),n(24)),g=n(113),y=n(114),C=n(115),k=n(34),w=n(23),E=n(111),S=n(112),N=n(105),A=n(39),T=n(47),U=n(21),I=(n(87),n(1));function D(e){var t,n=e.userId,r=G.useState((function(){return G.getUser(n)})),a=G.getLocalUser(),c=m.a.useRef(),s=m.a.useRef(),i=m.a.useState(!1),o=Object(v.a)(i,2),u=o[0],h=o[1],f=m.a.useState(!1),O=Object(v.a)(f,2),x=O[0],g=O[1];function y(){return C.apply(this,arguments)}function C(){return C=Object(p.a)(b.a.mark((function e(){var t,n,r,c,s=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]&&s[0],e.next=3,Object(l.i)({type:"image/*"});case 3:if(n=e.sent,r=Object(v.a)(n,1),c=r[0]){e.next=8;break}return e.abrupt("return");case 8:if(!(c.size>Object(l.h)(10))){e.next=10;break}return e.abrupt("return",U.a.showToast("You cannot upload a background above 10MiB","Failure"));case 10:d.a.uploadStorage(c,t?"profilebgNsfw":"profilebg",a.id).then((function(e){return a[t?"profileBackgroundNsfw":"profileBackground"]=e.url,U.a.showToast("Background updated - changes will show after confirming changes","Warning",10)})).catch((function(e){return console.error(e),U.a.showToast("There was an error uploading your background image","Failure")}));case 11:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}return j.a.useForceUpdater(l.a.USER_UPDATE,(function(e){return e.user.id===n})),Object(I.jsxs)("div",{className:"UserProfileModal Flex",children:[Object(I.jsxs)("div",{className:"Background",children:[Object(I.jsx)("img",{ref:c,className:"Image",src:r.profileBackground,onLoad:function(e){return e.target.style.opacity=1}}),r.profileBackgroundNsfw&&Object(I.jsx)("img",{ref:s,className:"Image",src:r.profileBackgroundNsfw})]}),Object(I.jsxs)("div",{className:"LeftSection Flex",children:[Object(I.jsx)(r.AvatarComponent,{size:250}),Object(I.jsx)("h3",{className:"Username",children:r.displayName}),u?Object(I.jsx)(T.a,{defaultValue:r.feed,id:"UserFeed",children:"Specify what you're up to currently with your user feed."}):r.feed&&Object(I.jsx)("div",{className:"Feed",children:A.a.parse(r.feed)}),Object(I.jsx)("div",{className:"AboutFields",children:null===(t=r.about)||void 0===t?void 0:t.map((function(e,t){return Object(I.jsxs)("div",{className:"AboutField",children:[Object(I.jsx)("h3",{className:"Title",children:e.title}),Object(I.jsx)("div",{className:"Body",children:e.field})]},t)}))}),u&&Object(I.jsxs)(m.a.Fragment,{children:[Object(I.jsx)("h4",{className:"Button",onClick:function(){return y()},children:"Pick Background Image"}),Object(I.jsx)("h4",{className:"Button",onClick:function(){return y(!0)},children:"Pick NSFW Background"})]}),r.profileBackgroundNsfw&&Object(I.jsxs)("h4",{className:"Button NsfwToggle",onClick:function(){return g(!x),s.current.style.opacity=x?0:1},children:[x?"Hide":"Show"," NSFW Background"]})]}),Object(I.jsx)("div",{className:"RightSection Flex",children:Object(I.jsxs)("div",{children:[Object(I.jsx)("h1",{className:"Header",children:"Bio"}),Object(I.jsx)("div",{className:Object(l.g)("Bio MessageGroup",[u,"EditMode"]),children:u?Object(I.jsx)(T.a,{defaultValue:r.bio,id:"UserBio",children:"Describe yourself with a personal bio."}):r.bio?A.a.parse(r.bio):Object(I.jsx)("div",{className:"Placeholder",children:"This user has no bio."})})]})}),Object(I.jsxs)("div",{className:"Buttons",children:[r===a&&(u?Object(I.jsx)(E.a,{className:"Button",onClick:function(){return h(!1),Object.assign(a,{feed:document.getElementById("UserFeed").value,bio:document.getElementById("UserBio").value}),d.a.update(a._ref,a).then((function(){return U.a.showToast("Successfully updated profile")}))}}):Object(I.jsx)(S.a,{className:"Button",onClick:function(){return h(!0)}})),Object(I.jsx)(N.a,{className:"Button",onClick:function(){return w.a.pop()}})]})]})}var P,M,F=function(){function e(t){Object(a.a)(this,e),this.id="",this.displayName="",this.avatarUrl="",u.a.extend(this,t)}return Object(c.a)(e,[{key:"AvatarComponent",get:function(){var e=this;return function(t){var n=t.size,r=void 0===n?40:n,a=t.className,c=void 0===a?"":a,s=G.useState((function(){return e.avatarUrl})),i=G.useState((function(){return e.displayName})),o=m.a.useState(!1),u=Object(v.a)(o,2),d=u[0],j=u[1];return Object(I.jsx)("div",{className:Object(l.g)("AvatarContainer StyleSquare FlexCenter",c),style:{width:r,height:r},children:d?Object(I.jsx)(g.a,{className:"DefaultAvatar"}):Object(I.jsx)("img",{className:"Avatar",src:s,alt:i,width:r,height:r,onError:function(){return j(!0)}})})}}},{key:"StatusText",get:function(){var e=this;return function(t){var n=t.tooltipDirection,r=void 0===n?"right":n,a=G.useState((function(){return e.status})),c=e.lastOnline?new Date(e.lastOnline):null;switch(a){default:case l.c.OFFLINE:return Object(I.jsxs)("div",{className:"Flex StatusContainer",children:[Object(I.jsx)("div",{className:"Status Offline"}),Object(I.jsx)("div",{children:"Offline"}),c&&"none"!==r&&Object(I.jsxs)(x.a,{direction:r,children:["Last online ",Object(l.d)(c)," at ",c.toLocaleTimeString("en-US")]})]});case l.c.ONLINE:return Object(I.jsxs)("div",{className:"Flex StatusContainer",children:[Object(I.jsx)("div",{className:"Status Online"}),Object(I.jsx)("div",{children:"Online"})]});case l.c.AWAY:return Object(I.jsxs)("div",{className:"Flex StatusContainer",children:[Object(I.jsx)("div",{className:"Status Away"}),Object(I.jsx)("div",{children:"Away"})]});case l.c.BUSY:return Object(I.jsxs)("div",{className:"Flex StatusContainer",children:[Object(I.jsx)("div",{className:"Status Busy"}),Object(I.jsx)("div",{children:"Busy"})]});case l.c.BOT:return Object(I.jsxs)("div",{className:"Flex StatusContainer",children:[Object(I.jsx)("div",{className:"Status Bot"}),Object(I.jsx)("div",{children:"Bot"})]})}}}},{key:"Mention",get:function(){var e=this;return function(){var t=G.useState((function(){return e.displayName}));return Object(I.jsxs)(k.a.Wrapper,{menu:Object(I.jsx)(e.ContextMenu,{}),wrapperClassName:"UserMention",children:[Object(I.jsx)(e.AvatarComponent,{size:19}),Object(I.jsx)("div",{className:"Username",children:t})]})}}},{key:"ContextMenu",get:function(){var e=this;return function(){return Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Item,{icon:Object(I.jsx)(g.a,{}),onClick:function(){return w.a.push(Object(I.jsx)(D,{userId:e.id}))},autoClose:!0,children:"Profile"}),Object(I.jsx)(k.a.Item,{icon:Object(I.jsx)(y.a,{}),autoClose:!0,children:"Message"}),Object(I.jsx)(k.a.SubMenuItem,{label:"Avatar",icon:Object(I.jsx)(C.a,{}),children:"you're mom"})]})}}}],[{key:"selectAvatar",value:function(){var e=Object(p.a)(b.a.mark((function e(){var t,n,r,a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.i)({type:"image/*"});case 2:if(t=e.sent,n=Object(v.a)(t,1),r=n[0]){e.next=7;break}return e.abrupt("return");case 7:if(!(r.size>Object(l.h)(8))){e.next=9;break}return e.abrupt("return",U.a.showToast("You cannot upload an avatar above 8MiB","Failure"));case 9:d.a.uploadStorage(r,"avatar",G.getLocalUser().id).then((function(e){return a.avatarUrl=e.url,U.a.showToast("Avatar updated")})).catch((function(e){return console.error(e),U.a.showToast("There was an error uploading your avatar","Failure")}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),L=n.p+"static/media/Logo.8c80fb7a.svg",_={SYSTEM:new F({id:"SYSTEM",displayName:"System",status:l.c.BOT,avatarUrl:L,profileBackground:"https://c.tenor.com/Z6gmDPeM6dgAAAAC/dance-moves.gif?nsfw"})},B=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"getLocalUser",value:function(){return M}},{key:"getUser",value:function(e){var t;return null!==(t=_[e])&&void 0!==t?t:(this.fetchUser(e),_[e]=new F({id:e,loading:!0,displayName:"..."}))}},{key:"getUsers",value:function(){return _}},{key:"fetchUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?new Promise((function(n){var r=d.a.createSnapshotListener(d.a.doc("userdata",e),(function(a){var c,s;(null===(c=_[e])||void 0===c?void 0:c.loading)&&delete _[e];var i=a?u.a.extend(null!==(s=_[e])&&void 0!==s?s:new F,a):new F({id:e,displayName:"Deleted User"});j.a.dispatch({type:l.a.USER_UPDATE,user:i}),t&&r(),n(i)}))})):null}}]),n}(h.a),R=new B(j.a,(P={},Object(r.a)(P,l.a.LOCAL_USER_UPDATE,(function(e){var t=e.user;M=t})),Object(r.a)(P,l.a.USER_UPDATE,(function(e){var t=e.user;_[t.id]=t})),P)),G=t.a=R},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(20),a=n(2),c=n(5),s=n(9),i=n(10),o=n(13),u=n(4),l=n.n(u),d=(n(71),n(11)),j=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(a.a)(this,e),this.callback=t,this.duration=n,this.remainingTime=n,r&&this.resume()}return Object(c.a)(e,[{key:"resume",value:function(){this.startTime=Date.now(),clearTimeout(this.id),this.id=setTimeout(this.callback,this.remainingTime)}},{key:"pause",value:function(){clearTimeout(this.id),this.remainingTime-=Date.now()-this.startTime}},{key:"end",value:function(){clearTimeout(this.id),this.callback()}}]),e}(),h=n(1);function f(e){var t=e.children,n=e.type,r=e.life,a=e.remove,c=e.callback,s=e.color,i=e.fixedTime,u=void 0!==i&&i,f=function(){O(!0),setTimeout(a,500)},b=l.a.useState(!1),p=Object(o.a)(b,2),v=p[0],O=p[1],m=l.a.useMemo((function(){return new j(f,1e3*r,!1)}),[]),x=l.a.useRef(),g=function(){m.pause(),x.current.style.animationPlayState="paused"},y=function(){m.resume(),x.current.style.animationPlayState="running"};return l.a.useEffect((function(){var e=function(){return!u&&y()},t=function(){return!u&&g()};return window.addEventListener("focus",e),window.addEventListener("blur",t),(u||document.hasFocus())&&y(),function(){window.removeEventListener("focus",e),window.removeEventListener("blur",t)}})),Object(h.jsxs)("div",{className:Object(d.g)("Toast",[v,"Closing"],n),onMouseEnter:u?null:g,onMouseLeave:u?null:y,onClick:c?function(e){c(e),m.end()}:function(){m.end()},style:{cursor:c?"pointer":null,backgroundColor:s},children:[t,Object(h.jsx)("div",{className:"ProgressBarContainer",children:Object(h.jsx)("div",{ref:x,className:"ProgressBar",style:{animationDuration:r+"s"}})})]})}var b=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={toasts:[]},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){n.instance=this}},{key:"horizontalStyle",get:function(){return"Center"}},{key:"verticalStyle",get:function(){return"Bottom"}},{key:"render",value:function(){var e,t=this;return Object(h.jsxs)("div",{ref:n.ref,className:Object(d.g)("ToastsContainer",this.horizontalStyle,this.verticalStyle),children:[Object(h.jsx)("div",{className:Object(d.g)("ClearButton",[!!(null===(e=this.state.toasts)||void 0===e?void 0:e.length),"Visible"]),onClick:function(){return t.setState({toasts:[]})},children:Object(h.jsx)("u",{children:"Close all"})}),this.state.toasts]})}}],[{key:"showToast",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=c.callback,i=void 0===s?null:s,o=c.color,u=void 0===o?null:o,j=c.fixedTime,h=void 0!==j&&j,b=l.a.createElement(f,{key:Object(d.f)(),children:e,type:n,life:a,color:u,fixedTime:h,remove:function(){t.instance.setState({toasts:t.instance.state.toasts.filter((function(e){return e!==b}))})},callback:i});return this.instance.setState({toasts:[].concat(Object(r.a)(this.instance.state.toasts),[b])}),b}}]),n}(l.a.Component);b.ref=l.a.createRef()},,function(e,t,n){"use strict";n.d(t,"e",(function(){return N})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return D})),n.d(t,"a",(function(){return F}));var r=n(16),a=n(0),c=n.n(a),s=n(20),i=n(2),o=n(5),u=n(9),l=n(10),d=n(13),j=n(3),h=n(4),f=n.n(h),b=(n(68),n(40)),p=n(21),v=n(36),O=n(11),m=n(24),x=(n(75),n(1)),g=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(x.jsx)("a",Object(r.a)(Object(r.a)({className:"LinkWrapper"},this.props),{},{children:this.props.children}))}}]),n}(f.a.Component),y=n(100),C=n(101),k=n(102),w=n(103),E=n(104),S=n(99);function N(e){F.push(e)}function A(){F.pop().catch(console.error.bind(console,"Failed to pop modal!"))}function T(e){return U.apply(this,arguments)}function U(){return(U=Object(j.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.navigator.clipboard.writeText(t);case 3:p.a.showToast(Object(x.jsxs)("span",{children:[Object(x.jsx)("b",{children:t.length>=100?t.substr(0,100)+"...":t})," copied to clipboard"]}),"Success"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),P({title:"Failed To Copy",description:"Your browser does not support copying to clipboard, you can manually copy here.",value:t});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function I(e){var t=e.url,n=e.getSources,r="function"===typeof n?n().filter((function(e){return e})):[t],a=f.a.useState(r.indexOf(t)),c=Object(d.a)(a,2),s=c[0],i=c[1],o=function(e){return r[s+e]?(N(!1),U(!1),i(s+e)):p.a.showToast("No more images in this direction!","Failure")},u=f.a.useState(!1),l=Object(d.a)(u,2),j=l[0],h=l[1],b=f.a.useState(!1),v=Object(d.a)(b,2),N=(v[0],v[1]),A=f.a.useState(!1),T=Object(d.a)(A,2),U=(T[0],T[1]);return Object(x.jsxs)("div",{className:"ImageModal",onClick:function(e){return e.target===e.currentTarget&&F.pop()},children:[Object(x.jsx)("div",{className:Object(O.g)("ImageContainer",[j,"Expanded"]),onMouseDown:F.pop.bind(F),children:Object(x.jsx)("img",{src:r[s],alt:"Image failed to load",onLoad:function(){return N(!0),U(!1)},onError:function(){return N(!0),U(!0)}})}),Object(x.jsxs)("div",{className:"Footer",children:[Object(x.jsxs)("div",{className:Object(O.g)("Button Arrow Left",[!r.length||!s,"Disabled"]),onClick:function(){return o(-1)},children:[Object(x.jsx)(y.a,{}),Object(x.jsx)(m.a,{children:"Previous Image"})]}),Object(x.jsx)("div",{className:"Divider"}),Object(x.jsx)("div",{className:"Filename",children:r[s].split("?")[0].split("/").slice(-1)[0].split("_").slice(-1)[0].replaceAll("%20"," ")}),Object(x.jsx)("div",{className:"Divider"}),Object(x.jsxs)("div",{className:"Button",onClick:function(){return h(!j)},children:[j?Object(x.jsx)(C.a,{}):Object(x.jsx)(k.a,{}),Object(x.jsx)(m.a,{children:j?"Compress":"Expand"})]}),Object(x.jsxs)("div",{className:"Button",children:[Object(x.jsx)(w.a,{}),Object(x.jsx)(m.a,{children:"Copy URL"})]}),Object(x.jsxs)(g,{className:"Button",style:{display:"block",color:"white"},href:r[s],children:[Object(x.jsx)(E.a,{}),Object(x.jsx)(m.a,{children:"Open In Browser"})]}),Object(x.jsx)("div",{className:"Divider"}),Object(x.jsxs)("div",{className:Object(O.g)("Button Arrow Right",[!r.length||s+1>=r.length,"Disabled"]),onClick:function(){return o(1)},children:[Object(x.jsx)(S.a,{}),Object(x.jsx)(m.a,{children:"Next Image"})]})]})]})}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;F.push(Object(x.jsx)(I,{url:e,getSources:t}))}function P(){return M.apply(this,arguments)}function M(){return M=Object(j.a)(c.a.mark((function e(){var t,n,a,s,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=t.async,a=void 0!==n&&n,e.next=4,new Promise((function(e){F.push(Object(x.jsx)(L,Object(r.a)({resolve:e},t)))}));case 4:return s=e.sent,!a&&F.pop(),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}var F=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={stack:[],closing:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){n.instance=this}},{key:"handleBackdropClick",value:function(e){var t;if(e.target===e.currentTarget){var r=this.state.stack;if(r[r.length-1]&&"function"===typeof(null===(t=r[r.length-1].props)||void 0===t?void 0:t.onBackdropClick))return r[r.length-1].props.onBackdropClick();n.pop().catch(console.error.bind(console,"Failed to pop modal!"))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.stack,r=t.closing;return Object(x.jsx)("div",{className:"ModalStack"+(n.length>r.length?" Active":""),children:n.map((function(t,a){return Object(x.jsx)(b.a,{children:Object(x.jsx)("div",{className:"ModalContainer"+(~r.indexOf(t)||a<n.length-1?" Closing":""),onMouseDown:e.handleBackdropClick.bind(e),style:{zIndex:10*a},children:t},a)})}))})}}],[{key:"push",value:function(e){this.instance.setState({stack:[].concat(Object(s.a)(this.instance.state.stack),[e])})}},{key:"pop",value:function(){var e=Object(j.a)(c.a.mark((function e(){var t,n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.instance.state,n=t.stack,r=t.closing,a=n[n.length-1],n.length&&a){e.next=4;break}return e.abrupt("return");case 4:return this.instance.setState({closing:[].concat(Object(s.a)(r),[a])}),e.next=7,new Promise((function(e){return setTimeout(e,150)}));case 7:this.instance.setState({stack:this.instance.state.stack.filter((function(e){return e!==a})),closing:this.instance.state.closing.filter((function(e){return e!==a}))});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(f.a.Component);function L(e){var t=e.title,n=void 0===t?"":t,r=e.description,a=void 0===r?"":r,c=e.yesText,s=void 0===c?"Confirm":c,i=e.noText,o=void 0===i?"Cancel":i,u=e.yesColor,l=void 0===u?"":u,j=e.noColor,h=void 0===j?"":j,b=e.value,p=void 0===b?"":b,O=e.onChange,m=void 0===O?null:O,g=(e.rich,e.resolve),y=e.id,C=f.a.useState(!1),k=Object(d.a)(C,2),w=k[0],E=k[1],S=f.a.useState(!1),N=Object(d.a)(S,2),A=N[0],T=N[1];return Object(x.jsxs)("div",{className:"StringModal PrimaryBg",children:[Object(x.jsx)("div",{className:"Title",dangerouslySetInnerHTML:{__html:n}}),Object(x.jsx)("div",{className:"Description",dangerouslySetInnerHTML:{__html:a}}),Object(x.jsx)("input",{id:y,className:"Field TertiaryBg",defaultValue:p,onChange:m}),Object(x.jsxs)("div",{className:"Footer",children:[Object(x.jsx)("div",{className:"Button TertiaryBg",onClick:function(){return g(null),E(!0)},style:{backgroundColor:h},children:w?Object(x.jsx)(v.a,{}):o}),Object(x.jsx)("div",{className:"Button TertiaryBg",onClick:function(){return g(document.getElementById(y).value),T(!0)},style:{backgroundColor:l},children:A?Object(x.jsx)(v.a,{}):s})]})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(16);var r=n(13),a=n(4),c=n.n(a),s=(n(74),n(11)),i=(n(41),n(1));function o(e){var t=e.children,n=void 0===t?null:t,a=e.direction,o=void 0===a?"up":a,u=e.className,l=void 0===u?"":u,d=e.color,j=e.style,h=void 0===j?null:j,f=e.onClick,b=void 0===f?null:f,p=c.a.useState(!1),v=Object(r.a)(p,2),O=v[0],m=(v[1],c.a.useRef());return c.a.useEffect((function(){return m.current.parentElement.classList.add("HasTooltip"),function(){m.current&&m.current.parentElement.classList.remove("HasTooltip")}}),[n,o]),Object(i.jsxs)("div",{ref:m,className:Object(s.g)("TooltipContainer",o.toLowerCase(),[O,"Visible"],l),style:h,onClick:b,children:[Object(i.jsx)("div",{className:"Tooltip",style:{backgroundColor:d},children:n}),Object(i.jsx)("div",{className:"TooltipArrow",style:{backgroundColor:d}})]})}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(20),a=n(13),c=n(12),s=n(2),i=n(5),o=n(4),u=n.n(o),l=function(){function e(t,n){var r=this;if(Object(s.a)(this,e),this._listeners=new Set,this._dispatcher=t,"object"===typeof n){var a=function(e){t.subscribe(e,(function(t){var a;!1!==(null===(a=n[e])||void 0===a?void 0:a.call(n,t))&&r.emitChange()}))};for(var c in n)a(c)}this._actionHandlers=n}return Object(i.a)(e,[{key:"emitChange",value:function(){var e,t=Object(c.a)(this._listeners);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(n){t.e(n)}finally{t.f()}}},{key:"addListener",value:function(e){return this._listeners.add(e)}},{key:"removeListener",value:function(e){return this._listeners.delete(e)}},{key:"useState",get:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=u.a.useState(t(e)),s=Object(a.a)(c,2),i=s[0],o=s[1];return u.a.useEffect((function(){var n=function(){return o(t(e))};return e.addListener(n),function(){e.removeListener(n)}}),[i].concat(Object(r.a)(n))),i}}}]),e}()},,function(e,t,n){"use strict";var r,a,c=n(0),s=n.n(c),i=n(13),o=n(3),u=n(30),l=n(16),d=n(2),j=n(5),h=n(9),f=n(10),b=n(4),p=n.n(b),v=n(41),O=n.n(v),m=n(99),x=(n(81),n(40)),g=n(1);var y=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).ref=Object(b.createRef)(),e.docClickEv=function(t){!e.ref.current||e.ref.current.contains(t.target)||document.getElementsByClassName("ContextMenu")[0].contains(t.target)||e.close()},e}return Object(j.a)(n,[{key:"close",value:function(){n.activeWrapper&&n.activeWrapper.setState({menu:null,open:!1})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.docClickEv)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.docClickEv)}},{key:"render",value:function(){return Object(g.jsx)(x.a,{children:Object(g.jsx)("div",Object(l.a)(Object(l.a)({className:"ContextMenu"},this.props),{},{ref:this.ref,children:this.props.children}))})}}]),n}(p.a.Component);y.Handler=(a=r=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsx)(x.a,{children:Object(g.jsx)("div",{ref:y.Handler.ref,className:"ContextMenuWrapper MainContextMenuContainer"})})}}]),n}(p.a.Component),r.ref=Object(b.createRef)(),a),y.Wrapper=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={menu:null,open:!1},e.ref=Object(b.createRef)(),e.handleContextMenu=function(t){var n,r,a,c;if("function"===typeof t.preventDefault&&t.preventDefault(),y.activeWrapper){if(e.ref.current.contains(y.activeWrapper.ref.current)&&y.activeWrapper.props.menu!==e.props.menu)return;y.activeWrapper.setState({menu:null,open:!1})}y.activeWrapper=Object(u.a)(e);for(var s=(null===(n=(r=e.props.menu.props).overrideY)||void 0===n?void 0:n.call(r))||t.clientY,i=(null===(a=(c=e.props.menu.props).overrideX)||void 0===a?void 0:a.call(c))||t.clientX;i+200>window.innerWidth;)i-=10;e.setState({menu:O.a.createPortal(Object(g.jsx)("div",Object(l.a)(Object(l.a)({className:"ContextMenuContainer SecondaryBg"},e.publicProps),{},{style:{position:"fixed",top:s,left:i},children:e.props.menu})),y.Handler.ref.current),open:!0})},e}return Object(j.a)(n,[{key:"publicProps",get:function(){return function(e){for(var t=Object.assign({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var c=0,s=r;c<s.length;c++){delete t[s[c]]}return t}(this.props,"menu","openOnClick","wrapperClassName","overrideX","overrideY")}},{key:"componentDidUpdate",value:function(){var e=Object(o.a)(s.a.mark((function e(t,n,r){var a,c,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.activeWrapper!==this||this.state.open||(y.activeWrapper=null),this.state.open&&this.ref.current&&(a=document.getElementsByClassName("ContextMenuContainer"),c=Object(i.a)(a,1),o=c[0],u=o.getBoundingClientRect(),o.style.transform=u.y+u.height>window.innerHeight?"translateY(".concat(window.innerHeight-(u.y+u.height)-20,"px)"):null);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.menu?Object(g.jsx)(x.a,{children:Object(g.jsxs)("div",Object(l.a)(Object(l.a)({ref:this.ref,className:"ContextMenuWrapper "+(this.props.wrapperClassName||""),onClick:this.props.openOnClick?function(t){"function"!==typeof t.target.onClick&&e.handleContextMenu(e.props.openOnClick())}:null},this.publicProps),{},{onContextMenu:this.handleContextMenu,children:[this.props.children,Object(g.jsx)(x.a,{children:this.state.open?this.state.menu:null})]}))}):this.props.children}}]),n}(p.a.Component),y.Item=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(t){t.preventDefault(),t.stopPropagation(),y.activeWrapper&&e.props.autoClose&&y.activeWrapper.setState({menu:null,open:!1}),e.props.onClick&&e.props.onClick(Object(u.a)(e))},e}return Object(j.a)(n,[{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.autoClose,delete e.icon,Object(g.jsxs)("div",Object(l.a)(Object(l.a)({className:"ContextMenuItem"},e),{},{onClick:this.handleClick,children:[this.props.icon,this.props.children]}))}}]),n}(p.a.Component),y.SubMenuItem=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={open:!1},e.handleMouseEnter=function(){e.setState({open:!0})},e.handleMouseLeave=function(){e.setState({open:!1})},e.handleClick=function(t){t.target===t.currentTarget&&(y.activeWrapper&&e.props.autoClose&&y.activeWrapper.setState({menu:null,open:!1}),e.props.onClick&&e.props.onClick(Object(u.a)(e)))},e}return Object(j.a)(n,[{key:"mount",value:function(e){if(e){var t=e.getBoundingClientRect();e.style.transform=t.y+t.height>window.innerHeight?"translateY(".concat(window.innerHeight-(t.y+t.height)-20,"px)"):null,t.x+t.width>window.innerWidth&&(e.style.left="unset",e.style.right="100%")}}},{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.autoClose,delete e.label,delete e.icon,Object(g.jsxs)("div",Object(l.a)(Object(l.a)({className:"ContextMenuItem HasSubMenu"},e),{},{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[this.props.icon,this.props.label," ",Object(g.jsx)(m.a,{className:"ContextSubMenuChevron"}),this.state.open?Object(g.jsx)("div",{className:"ContextMenuContainer SubMenuContainer SecondaryBg",ref:this.mount,children:Object(g.jsx)("div",{className:"ContextMenu SubMenu",children:this.props.children})}):null]}))}}]),n}(p.a.Component),y.ToggleItem=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={checked:!1},e.callback=function(){y.activeWrapper&&e.props.autoClose&&y.activeWrapper.setState({menu:null,open:!1});var t=!e.state.checked;e.props.callback&&e.props.callback(t),e.setState({checked:t})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.setState({checked:this.props.checked})}},{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.autoClose,delete e.callback,Object(g.jsxs)("div",Object(l.a)(Object(l.a)({className:"ContextMenuItem ToggleItem"},e),{},{onClick:this.callback,children:[Object(g.jsx)("div",{className:"ToggleBox"+(this.state.checked?" Checked":""),children:this.state.checked?Object(g.jsx)("div",{className:"ToggleBoxTick"}):null}),this.props.children]}))}}]),n}(p.a.Component),y.Divider=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",Object(l.a)({className:"ContextMenuDivider"},this.props))}}]),n}(p.a.Component),t.a=y},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(4),n(73);var r=n(1);function a(){return Object(r.jsxs)("div",{className:"InlineLoadingContainer",children:[Object(r.jsx)("div",{className:"Dot A"}),Object(r.jsx)("div",{className:"Dot B"}),Object(r.jsx)("div",{className:"Dot C"})]})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u}));n(20);var r=n(13),a=n(4),c=n.n(a);n(56);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];c.a.useEffect((function(){var r=setInterval(e,t);return n&&e(),function(){return clearInterval(r)}}),r)}function i(){var e=c.a.useRef(!1);return c.a.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.target,a=void 0===r?document:r,s=n.dependencies,i=void 0===s?[]:s,o=n.init,u=void 0!==o&&o;c.a.useEffect((function(){return a.addEventListener(e,t),u&&t(),function(){return a.removeEventListener(e,t)}}),i)}function u(e,t){var n=c.a.useMemo((function(){return window.matchMedia("(".concat(e,": ").concat(t,"px)"))}),[e,t]),a=c.a.useState(n.matches),s=Object(r.a)(a,2),i=s[0],o=s[1];return c.a.useEffect((function(){var e=function(e){return o(e.matches)};return n.addEventListener("change",e),function(){return n.removeEventListener("change",e)}}),[e,t]),i}},,function(e,t,n){"use strict";var r=n(16),a=n(2),c=n(5),s=n(14),i=n.n(s),o=n(4),u=n.n(o),l=n(48),d=n(13),j=n(110),h=n(37),f=n(36),b=(n(82),n(1));function p(e){var t=e.src,n=(e.message,u.a.useState(!1)),r=Object(d.a)(n,2),a=r[0],c=r[1],s=u.a.useState(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],p=Object(h.d)();return u.a.useEffect((function(){var e=Object.assign(document.createElement("img"),{style:"display:none",src:t,onload:function(){return p&&c(!0),e.remove()},onerror:function(){return p&&l(!0),e.remove()}});return document.body.appendChild(e),function(){return e.remove()}}),[t]),Object(b.jsx)("div",{className:"ImageContainer FlexCenter",children:o?Object(b.jsxs)("div",{className:"FailedPlaceholder FlexCenter",children:[Object(b.jsx)(j.a,{}),Object(b.jsx)("h4",{children:"Image 404"})]}):a?Object(b.jsx)("img",{className:"Image",src:t}):Object(b.jsx)("div",{className:"LoadingPlaceholder FlexCenter",children:Object(b.jsx)(f.a,{})})})}var v=n(11),O=n(15),m=n(6),x=n(0),g=n.n(x),y=n(3),C=n(9),k=n(10),w=n(17),E=n(32),S=(n(83),function(){function e(t){Object(a.a)(this,e),i.a.extend(this,t)}return Object(c.a)(e,[{key:"Component",get:function(){var e=this;return function(){var t=u.a.useRef(),n=u.a.useState("1.25em"),r=Object(d.a)(n,2),a=r[0],c=r[1],s=T.useState((function(){return e.url}));return u.a.useEffect((function(){var e,n;1===(null===(e=t.current)||void 0===e||null===(n=e.parentElement)||void 0===n?void 0:n.childNodes.length)&&c("4em")}),[]),Object(b.jsx)("div",{className:"Emote",ref:t,style:{width:a,height:a},children:Object(b.jsx)("img",{className:"EmoteImage",src:s,alt:""})})}}}]),e}()),N={},A=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"getEmote",value:function(e,t){var n;return null!==(n=i.a.get(N,[e,t]))&&void 0!==n?n:(this.fetchEmote(e,t),i.a.set(N,[e,t],new S({packId:e,id:t,loading:!0})),i.a.get(N,[e,t]))}},{key:"getCachedEmotes",value:function(){return N}},{key:"fetchEmote",value:function(){var e=Object(y.a)(g.a.mark((function e(t,n){var a,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.getDoc(w.a.doc("emotepacks",t,"emotes",n));case 2:return c=e.sent,s=i.a.extend(null!==(a=i.a.get(N,[t,n]))&&void 0!==a?a:new S,Object(r.a)(Object(r.a)({},c),{},{packId:t,loading:!1})),O.a.dispatch({type:v.a.FETCH_EMOTE,packId:t,emoteId:n,emote:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(E.a),T=new A(O.a,Object(m.a)({},v.a.FETCH_EMOTE,(function(e){var t=e.packId,n=e.emoteId,r=e.emote;i.a.set(N,[t,n],r)}))),U=n(18);t.a=new(function(){function e(){Object(a.a)(this,e),this.rules=i.a.extend({},l.defaultRules,{image:{order:10,match:function(e){return/^https:\/\/(\S?)+\.(jpe?g|png|gif|bmp)\S*(\s|$)/i.exec(e)},parse:function(e,t,n){return{src:e[0].trim(),message:null===n||void 0===n?void 0:n.message,state:n}},react:function(e,t,n){return e.state.minimal?Object(b.jsx)("span",{className:"MinimalTag",children:"[image]"},n.key):Object(b.jsx)(p,{src:e.src,message:e.message},n.key)}},userMention:{order:10,match:function(e){return/^@(\S{28})/.exec(e)},parse:function(e,t,n){return{userId:e[1],state:n}},react:function(e,t,n){O.a.useForceUpdater(v.a.USER_UPDATE,(function(t){return t.user.id===e.userId}));var r=U.a.getUser(e.userId);return r?u.a.createElement(r.Mention,{key:n.key}):null}},emote:{order:10,match:function(e){return/^:(\S+)\.(\S+):/.exec(e)},parse:function(e,t,n){return{packId:e[1],emoteId:e[2],src:e.src,state:n}},react:function(e,t,n){var r=T.getEmote(e.packId,e.emoteId);return r?u.a.createElement(r.Component,{key:n.key}):null}},video:{order:10,match:function(e){return/^https:\/\/(\S?)+\.(mp4|webm)(\S?)+/.exec(e)},parse:function(e,t,n){return{src:e[0],state:n}},react:function(e,t,n){return Object(b.jsx)("video",{src:e.src,controls:!0},n.key)}},audio:{order:10,match:function(e){return/^https:\/\/(\S?)+\.(ogg|mp3|wav)(\S?)+/.exec(e)},parse:function(e,t,n){return{src:e[0],state:n}},react:function(e,t,n){return Object(b.jsx)("audio",{src:e.src,controls:!0},n.key)}},youtube:{order:10,match:function(e){return/^https:\/\/(www\.youtube\.com\/watch\?v=|youtu\.be\/)(\S+)/i.exec(e)},parse:function(e,t,n){return{id:e[2],state:n}},react:function(e,t,n){return Object(b.jsx)("iframe",{className:"YouTubeEmbed",src:"https://www.youtube.com/embed/".concat(e.id),allowFullScreen:!0},n.key)}}}),this.parser=Object(l.parserFor)(this.rules),this.render=Object(l.reactFor)(Object(l.ruleOutput)(this.rules,"react"))}return Object(c.a)(e,[{key:"parse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.render(this.parser(e,Object(r.a)({inline:!0,message:t},n)))}}]),e}())},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),a=n(5),c=n(9),s=n(10),i=n(4),o=n.n(i),u=(n(69),n(23)),l=n(1),d=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={error:null,errorInfo:null,moreInfo:!1},a}return Object(a.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"showErrorInfo",value:function(){var e=this.state,t=e.error,n=e.errorInfo;Object(u.e)(Object(l.jsxs)("div",{className:"ErrorInfoModal PrimaryBg",onClick:function(){return Object(u.b)()},children:[Object(l.jsx)("h1",{children:t.message}),n.componentStack.split("\n").slice(0,10).map((function(e,t){return Object(l.jsx)("h2",{children:e},t)}))]}))}},{key:"renderError",value:function(){var e=this;this.state.moreInfo;return Object(l.jsxs)("div",{className:"ErrorBoundaryHandler",children:[Object(l.jsx)("h1",{children:"There was an error with this component!"}),Object(l.jsx)("h2",{children:"This is due to a plugin error or application error."}),Object(l.jsxs)("div",{className:"ErrorBoundaryFooter",children:[Object(l.jsx)("div",{className:"ErrorBoundaryButton TertiaryBg",onClick:function(){return e.showErrorInfo()},children:"More Info"}),Object(l.jsx)("div",{className:"ErrorBoundaryButton BackgroundDanger",onClick:function(){return e.setState({error:null})},children:"Retry"})]})]})}},{key:"render",value:function(){return this.state.error?this.renderError():this.props.children}}]),n}(o.a.Component)},,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(16),a=n(0),c=n.n(a),s=n(3),i=n(13),o=n(14),u=n.n(o),l=n(4),d=n.n(l),j=(n(86),n(11)),h=n(37),f=n(39),b=n(1);function p(t){var n,a=d.a.useRef(),o=d.a.useRef(),l=d.a.useState(null!==(n=t.defaultValue)&&void 0!==n?n:""),p=Object(i.a)(l,2),v=p[0],O=p[1],m=d.a.useState(!1),x=Object(i.a)(m,2),g=x[0],y=x[1],C=d.a.useState([0,0]),k=Object(i.a)(C,2),w=k[0],E=k[1],S=d.a.useMemo((function(){return Object(b.jsx)("div",{className:"Caret"},Object(j.f)())}),[v,w]),N={onInput:function(e){var n;null===(n=t.onInput)||void 0===n||n.call(t,e),O(e.target.value)},onKeyDown:function(){var e=Object(s.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(r=t.onKeyDown)||void 0===r||r.call(t),e.t0=n.key,e.next="Enter"===e.t0?4:13;break;case 4:if(n.shiftKey){e.next=12;break}return n.preventDefault(),e.next=8,null===(a=t.onSend)||void 0===a?void 0:a.call(t,v);case 8:if(e.t1=e.sent,!0!==e.t1){e.next=12;break}O(""),o.current.value="";case 12:return e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onFocus:function(){return y(!0)},onBlur:function(){return y(!1)}};return Object(h.a)("selectionchange",(function(){var e=document.getSelection();(null===e||void 0===e?void 0:e.anchorNode)===a.current&&E([o.current.selectionStart,o.current.selectionEnd])})),Object(b.jsxs)("div",{ref:a,className:Object(j.g)("RichTextArea",[g,"Focused"]),onClick:function(){return e((function(){return o.current.focus()}))},children:[Object(b.jsx)("textarea",Object(r.a)(Object(r.a)({ref:o},u.a.omit(t,"children","onInput","onChange","onSend","onKeyDown")),N)),v?Object(b.jsxs)("div",{className:"Renderer",children:[f.a.parse(v.slice(0,w[0])),w[1]-w[0]>0&&Object(b.jsx)("span",{className:"SelectedText",children:v.slice(w[0],w[1])}),S,f.a.parse(v.slice(w[1]))]}):Object(b.jsxs)("div",{className:"Renderer Placeholder",children:[S,t.children]})]})}}).call(this,n(84).setImmediate)},,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return et})),n.d(t,"a",(function(){return tt})),n.d(t,"b",(function(){return rt}));var r,a,c=n(0),s=n.n(c),i=n(3),o=n(58),u=n(4),l=n.n(u),d=(n(66),n(67),n(23)),j=(n(78),["title","titleId"]);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b(e,t){var n=e.title,c=e.titleId,s=f(e,j);return u.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{isolation:"isolate"},viewBox:"0 0 3840 1080",width:"3840pt",height:"1080pt",ref:t,"aria-labelledby":c},s),n?u.createElement("title",{id:c},n):null,r||(r=u.createElement("defs",null,u.createElement("clipPath",{id:"_clipPath_9ysGc3cj8hVy9CQFlwXLbt9IIMadCtby"},u.createElement("rect",{width:3840,height:1080})))),a||(a=u.createElement("g",{clipPath:"url(#_clipPath_9ysGc3cj8hVy9CQFlwXLbt9IIMadCtby)"},u.createElement("path",{d:" M 0 540 Q 440.909 859.091 960 540 Q 1479.091 220.909 1920 540 L 1920 1080 L 0 1080 L 0 540 Z ",fill:"currentColor"}),u.createElement("path",{d:" M 1920 540 Q 2360.909 859.091 2880 540 Q 3399.091 220.909 3840 540 L 3840 1080 L 1920 1080 L 1920 540 Z ",fill:"currentColor"}))))}var p=u.forwardRef(b),v=(n.p,n(120)),O=n(121),m=n(106),x=n(122),g=n(13),y=(n(79),n(105)),C=n(107),k=n(108),w=n(109),E=n(21),S=n(46),N=n(17),A=n(37),T=n(1);function U(){var e=l.a.useState(!1),t=Object(g.a)(e,2),n=t[0],r=t[1],a=l.a.useState(!1),c=Object(g.a)(a,2),s=c[0],i=c[1],o=l.a.useRef(),u={handleSignUp:function(){if(!s){var e=o.current.getElementsByTagName("input"),t=Object(g.a)(e,3),n=t[0],r=t[1];if(t[2].value!==r.value)return E.a.showToast("Passwords must match!","Failure");if(!n.value.trim())return E.a.showToast("You must input an email address","Failure");if(!r.value.trim())return E.a.showToast("You must input a password","Failure");i(!0),Object(S.a)(N.a.auth,n.value,r.value).then((function(){return d.a.pop(),E.a.showToast("Welcome to Cirlos!","Success"),window.location.assign("#app")})).catch((function(e){E.a.showToast("An unknown error has occured! Check console for details","Failure"),console.error(e)}))}},handleLogIn:function(){if(!s){var e=o.current.getElementsByTagName("input"),t=Object(g.a)(e,2),n=t[0],r=t[1];i(!0),Object(S.c)(N.a.auth,n.value,r.value).then((function(){return d.a.pop(),window.location.assign("#app")})).catch((function(e){var t="Unknown";switch(e.code){case"auth/invalid-email":t="Invalid email address";break;case"auth/user-not-found":t="No user with this email found";break;case"auth/wrong-password":t="Incorrect password"}E.a.showToast("Failed to sign in! Reason - ".concat(t),"Failure",10),console.error(e)}))}}};return Object(A.a)("keydown",(function(e){return"Enter"===e.key&&(n?u.handleSignUp():u.handleLogIn())})),Object(T.jsxs)("div",{className:"AuthModal",ref:o,children:[Object(T.jsx)(y.a,{className:"CloseButton",onClick:d.a.pop.bind(d.a)}),n?Object(T.jsxs)(l.a.Fragment,{children:[Object(T.jsxs)("div",{className:"MainSection Flex",children:[Object(T.jsxs)("div",{className:"HelpSection",children:[Object(T.jsx)("div",{className:"Title",children:"NOTE"}),Object(T.jsxs)("div",{children:["By creating an account,",Object(T.jsx)("br",{}),"you agree to the following:",Object(T.jsx)("br",{}),Object(T.jsx)("a",{href:"/terms",children:"Terms of Service"}),Object(T.jsx)("br",{}),Object(T.jsx)("a",{href:"/guidelines",children:"Community Guidelines"}),Object(T.jsx)("br",{}),Object(T.jsx)("a",{href:"/privacy",children:"Privacy Policy"}),Object(T.jsx)("br",{})]})]}),Object(T.jsxs)("div",{className:"Fields",children:[Object(T.jsx)("h3",{children:"Sign Up"}),Object(T.jsx)("div",{className:"FieldContainer",children:Object(T.jsx)("input",{type:"email",placeholder:"Email Address"})}),Object(T.jsx)("div",{className:"FieldContainer",children:Object(T.jsx)("input",{type:"password",placeholder:"Password"})}),Object(T.jsx)("div",{className:"FieldContainer",children:Object(T.jsx)("input",{type:"password",placeholder:"Confirm Password"})})]})]}),Object(T.jsxs)("div",{className:"FooterSection Flex",children:[Object(T.jsxs)("div",{className:"Button",onClick:function(){return r(!1)},children:[Object(T.jsx)(m.a,{}),Object(T.jsx)("div",{children:"Log In"})]}),Object(T.jsxs)("div",{className:"Button",style:{marginLeft:"auto"},onClick:u.handleSignUp,children:[Object(T.jsx)(C.a,{}),Object(T.jsx)("div",{children:"Sign Up"})]})]})]}):Object(T.jsxs)(l.a.Fragment,{children:[Object(T.jsxs)("div",{className:"MainSection Flex",children:[Object(T.jsxs)("div",{className:"HelpSection",children:[Object(T.jsx)("div",{className:"Title",children:"Your"}),Object(T.jsx)("div",{children:"Mom."})]}),Object(T.jsxs)("div",{className:"Fields",children:[Object(T.jsx)("h3",{children:"Login"}),Object(T.jsx)("div",{className:"FieldContainer",children:Object(T.jsx)("input",{type:"email",placeholder:"Email Address"})}),Object(T.jsx)("div",{className:"FieldContainer",children:Object(T.jsx)("input",{type:"password",placeholder:"Password"})})]})]}),Object(T.jsxs)("div",{className:"FooterSection Flex",children:[Object(T.jsxs)("div",{className:"Button",onClick:function(){return r(!0)},children:[Object(T.jsx)(k.a,{}),Object(T.jsx)("div",{children:"Sign Up"})]}),Object(T.jsxs)("div",{className:"Button",style:{marginLeft:"auto"},children:[Object(T.jsx)(w.a,{}),Object(T.jsx)("div",{children:"Reset Password"})]}),Object(T.jsxs)("div",{className:"Button",onClick:u.handleLogIn,children:[Object(T.jsx)(m.a,{}),Object(T.jsx)("div",{children:"Log In"})]})]})]})]})}var I=n(18),D=(n(88),n(116)),P=n(117),M=n(118),F=n(119),L=n(114),_=n.p+"static/media/TwemojiHeart.a32c5071.svg",B=n(24);function R(){var e={website:function(){return window.open("https://metalloriff.github.io/","_blank")},github:function(){return window.open("https://github.com/metalloriff","_blank")},twitter:function(){return window.open("https://twitter.com/Metalloriff","_blank")},email:function(){return window.open("mailto:metalloriff@gmail.com","_blank")},discord:function(){return Object(d.c)("Metalloriff \ud83d\udc95\ud83c\udf08#2891")}};return Object(T.jsx)("footer",{children:Object(T.jsxs)("div",{className:"Flex",children:[Object(T.jsxs)("div",{className:"LeftSections",children:[Object(T.jsxs)("div",{className:"HeadSection FlexCenter",children:[Object(T.jsx)("img",{className:"Logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNWRHWFIAAAawSURBVGhD7VlbT1NZFJ4/5SXRTIaQyMOMiWiMRnzQiTo+6ZviMDMoCCMyCgKCgCgqeEHlMgIzVKRyv5QWgTIWaGmhpVBaKJVSoFC+OWvb1racHnpaaYjhS75Auy9nfWfvtdZeu9/dvNSIb4E7QrYbd4RsN0Yk5K/Ed8hLaeFtizYjElKU0Y5R5QxvW7QZkZDy/F6srbrQ8Pojb3s0GZGQZwW96O+exNSEDY9zenj7RIsRCbmf2YHhARPbYjPGBdxLb+PtFw1GJCSTc3bz1AJuXm5EWZ4MpslPyL/eirdVKvaXb8xWMSIhxEGZEc+L5Ox/2mokZrDXiOUlJ+RtE3iY1bVhzFYwYiEPbnVCr7Uik1sV+lzKGT4/54DBYEBSUhKamppg1FswpJhCY80wHt7eGmERCRnhQq9+zArrrAMt/6q93+debYaq34Tu7m4cOnQIe/fuRUJCAlJSUiCRSDAxZmGr+CS3B0+5VfSdM1yGJeSvK+/w6sEH2KxLaHozAu3ILNbX16Ho0Pv5xsv7fdxqzaGhoQEXL17Evn37sGvXLhw8eBDt7e3sJSzYlnHnj/d+84dD0UIK0loxO7OInp4eKJVKlHBbi74vze6G5qMZzpU1tPyjZmI9Y8ruypi/TE3OoqqqCkeOHMGePXvY/zqdDs1cf0/fcBnWirwoUnAGO9Hb24v6F0N+bRX3FZgzL8LEheNAfyA/evWgDwbdHAoLC9mWO3v2LCbH5/z6hUPRQl6W9GFYpca5c+cQHx+PCc1GI24nNUHWMg6ncw2dTVo8utPt105ntL5OA8rLy9lW6+8fYKtIPlf7TOnXN1SKEkLbaFg1itjYWGYAsba2Fn+XD/L2ryhWYHFhBQRKmM8LP4dpIq3OuHoOJ0+eRE1NDROVk5MDq9WK1w8/+M0TCkUJ0Y1acOLECa8I4oEDBzBpmEbxzQ7eMeT8k+PzTIzLtc5tvT5vW9XjfpSWliIuLg7aMT3aJBoWolt9ImCoDFkIhcv6+no/ER7SPp+Zmg96RLn1axMkdV1IT0/HtHEWt7nP9D1tOZPJhOTkZBauA8eJYchCNCozjh8/zivk9OnTsFgsLBxTggwc+0vCdW/furo6FnIpILjW1tlKUeg2cgfPwHFiGJKQ8nwZy9C+xnt44cIFLC8vM4MIK8urqHrU7zc+/sefWd8zZ85gbW3N3XMjuqRadm7zHRsqNxWS/bsUep2Fxf5AEbRCDofDbYY/FO16ZCVJkXHpLWK+j2MBYnp62t0K2Gw25uDXrl1lTk45iaCUG5GT3MxrixAFhdz7sw3jGgsSExM3iKAcMDIywh4eDD2d/Yj94SfWv7q62v3tRpjNZuZ/HjFLjlVI60a9vhQKeYVQnO98p4V5Zha5ubksshw9etRPSGpqKnuoEFZXV3H+/HmcOnWK+YFY2OaW8OYpF9pD2G5BV+QVl/iU8ilYpu1QKBSIiYnxE6LRaNyPE8b8/PymK7cZDLp5dgTis9NDwa11N7UFOq1+gwg6yUYblIOoIuWzkygopLVBg7S0ND8RxPz8fPf00UVlqX809KWgkNEhM4tWu3fvxuHDh71CpFKpe+rIYTQaYbfb3Z+EUVka/OgiKIQuFo4dO8bqCa1W6xUil8vdU0cOl8vF1SZtqKioQHFxEcv+2dlZKCkpgVqtdvf6DCrE+OwkCgqR1o6wo7q8fYIrgma9vtLR0eGeWjxWnS6W2R1256aRTCbr8QYV8hHKaXx2EgWF5F1r5mK6kzk9icrIyGBCKisr2eRiMCCbZJEn8/KXgivrNymGuMhIRxU+TXTkKctvY8UaHTx9bQukoBCip6amclTHnVD379+PGzduuB8VGuglBM7rIeUsaqc6hN66L+yfVlif91xyrK/wL+ACuakQX0oqP6KsrIw5fqiwmOzeG5bN2Fitco/6DM8LoAzvu5J8FCWEDKJTMB0UBwcH3Y8TRvd7He9cwUgXEh5UPx7g7cNHUUKI5Dd6nQkFBQXuxwlDUqXinScYqZQm0DYT85OFaCFEyrD6cRMWFxfZQ4VA+5tvjmAkn6FETLeVfO3BGJYQIr2tMZXFbW5wTOltIfuIh3R5kZMs7q4rbCEe1j5XctHlS2HFh74Ovd8911YwYiFEWh26bRQCRS/6QYhyEt8ckfKrCPGw+skAu/bZDFaLA+r/zPjQaWD3Xi+KFaK3XyC/qhAPn+TJ0MUZSPdW9oUVb6KjIwnV9PSbCmV0SaUKhVwVyjeHWG6JkEBSJKKkdutK6KWrWEZFSDS4I2S7cUfIduM3IqQR/wPMTZmSnhx+ZgAAAABJRU5ErkJggg==",alt:"Logo"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("h2",{children:"Metalloriff"}),Object(T.jsxs)("div",{children:["Made with ",Object(T.jsx)("img",{src:_,alt:"\u2665",width:15,height:15})]})]})]}),Object(T.jsxs)("div",{className:"ContactSection Flex",children:[Object(T.jsxs)("div",{className:"ContactEntry",onClick:e.website,children:[Object(T.jsx)(D.a,{}),Object(T.jsx)(B.a,{children:"Website"})]}),Object(T.jsxs)("div",{className:"ContactEntry",onClick:e.github,children:[Object(T.jsx)(P.a,{}),Object(T.jsx)(B.a,{children:"GitHub"})]}),Object(T.jsxs)("div",{className:"ContactEntry",onClick:e.twitter,children:[Object(T.jsx)(M.a,{}),Object(T.jsx)(B.a,{children:"Twitter"})]}),Object(T.jsxs)("div",{className:"ContactEntry",onClick:e.email,children:[Object(T.jsx)(F.a,{}),Object(T.jsx)(B.a,{children:"Email"})]}),Object(T.jsxs)("div",{className:"ContactEntry",onClick:e.discord,children:[Object(T.jsx)(L.a,{}),Object(T.jsx)(B.a,{children:"Discord"})]})]})]}),Object(T.jsx)("div",{className:"MiddleSection"}),Object(T.jsx)("div",{className:"RightSections FlexCenter",children:Object(T.jsxs)("div",{className:"LinksSection",children:[Object(T.jsx)("a",{href:"#clearlyiforgottoaddthis",children:"Source Code"}),Object(T.jsx)("a",{href:"https://feathericons.com/",children:"Icons Used"}),Object(T.jsx)("a",{href:"https://metalloriff.github.io/city-fog",children:"Color Palette"}),Object(T.jsxs)("a",{href:"https://paypal.me/israelboone",children:[Object(T.jsx)("img",{src:_,alt:"\u2665",width:15,height:15}),Object(T.jsx)("span",{style:{margin:"0 7px"},children:"Donate"}),Object(T.jsx)("img",{src:_,alt:"\u2665",width:15,height:15})]}),Object(T.jsxs)("div",{className:"Copyright",children:["Copyright \xa9 ",(new Date).getFullYear()," Israel Boone"]})]})})]})})}function G(){var e=I.a.useState(I.a.getLocalUser);return Object(T.jsxs)("div",{className:"HomePage",children:[Object(T.jsx)("div",{className:"HomeBackgroundContainer",children:Object(T.jsxs)("div",{className:"HomeBackground",children:[Object(T.jsx)(p,{}),Object(T.jsx)(p,{})]})}),Object(T.jsxs)("div",{className:"Hero",children:[Object(T.jsx)("h1",{children:"Cirlos"}),Object(T.jsxs)("h3",{children:["A simpler way to connect with friends and family,",Object(T.jsx)("br",{}),"with powerful ways to personalize your experience.",Object(T.jsx)("br",{})]}),Object(T.jsxs)("div",{className:"Buttons",children:[null!==e?Object(T.jsx)(l.a.Fragment,{children:Object(T.jsxs)("div",{className:"Button Focus",onClick:function(){return window.location.assign("#app")},children:[Object(T.jsx)(v.a,{}),"Continue To App"]})}):Object(T.jsxs)(l.a.Fragment,{children:[Object(T.jsxs)("div",{className:"Button Focus",onClick:function(){return d.a.push(Object(T.jsx)(U,{}))},children:[Object(T.jsx)(O.a,{}),"Sign Up"]}),Object(T.jsxs)("div",{className:"Button",onClick:function(){return d.a.push(Object(T.jsx)(U,{}))},children:[Object(T.jsx)(m.a,{}),"Sign In"]})]}),Object(T.jsxs)("div",{className:"Button",children:[Object(T.jsx)(x.a,{}),"Download"]})]})]})]})}var W,H,Y=n(11),V=n(34),K=n(15),z=n(49),Q=n(14),Z=n.n(Q),X=n(129),q=n(16),J=n(20),$=n(2),ee=n(5),te=(n(89),n(29)),ne=n(9),re=n(10),ae=(n(90),n(123)),ce=n(124),se=n(125),ie=n(6),oe=n(12),ue=n(32),le={},de=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"getCircle",value:function(e){var t;return null!==(t=le[e])&&void 0!==t?t:(this.fetchCircle(e),new we({id:e,loading:!0,name:"..."}))}},{key:"getCircles",value:function(){return le}},{key:"fetchCircle",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.abrupt("return",new Promise((function(e){var r=N.a.createSnapshotListener(N.a.doc("circles",t),(function(a){var c,s=a?Z.a.extend(null!==(c=le[t])&&void 0!==c?c:new we,a):new we({id:t,name:"Invalid Circle"});K.a.dispatch({type:Y.a.CIRCLE_UPDATE,circle:s}),n&&r(),e(s)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ue.a),je=new de(K.a,(W={},Object(ie.a)(W,Y.a.CIRCLE_UPDATE,(function(e){var t=e.circle;le[t.id]=t})),Object(ie.a)(W,Y.a.CIRCLE_UPDATE_GROUPS,(function(e){var t=e.circle,n=e.groups;le[t.id]._groups=n})),W)),he={},fe={},be=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"getGroup",value:function(e,t){return Z.a.get(he,[e,t])}},{key:"getSelectedGroup",value:function(){return"dms"===tt[0]?this.getGroup("dms",tt[1]):this.getGroup(tt[1],tt[3])}},{key:"getGroups",value:function(e){return he[e]||this.fetchGroups(e),he[e]}},{key:"fetchGroups",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe[t]){e.next=2;break}return e.abrupt("return");case 2:if("dms"!==t){e.next=6;break}return e.next=5,this.fetchDms();case 5:return e.abrupt("return",e.sent);case 6:if(n=je.getCircle(t)){e.next=9;break}return e.abrupt("return",console.error("Can't fetch groups for uncached circle with ID \"".concat(t,'"!')));case 9:if(!n.loading){e.next=14;break}return e.next=12,new Promise((function(e){return setTimeout(e,100)}));case 12:e.next=9;break;case 14:return e.abrupt("return",new Promise((function(e){var r=N.a.createSnapshotListener(N.a.collection("circles",t,"groups"),(function(){var r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.items,s=void 0===c?[]:c,i=Object(oe.a)(s);try{for(i.s();!(r=i.n()).done;){var o,u,l,d,j,h=r.value,f=Z.a.extend(null!==(o=Z.a.get(he,[t,h.id]))&&void 0!==o?o:new ve,h,{parent:null===(u=n.groupPositions)||void 0===u||null===(l=u[h.id])||void 0===l?void 0:l[0],position:null===(d=n.groupPositions)||void 0===d||null===(j=d[h.id])||void 0===j?void 0:j[1]});K.a.dispatch({type:Y.a.GROUP_UPDATE,circle:n,group:f})}}catch(b){i.e(b)}finally{i.f()}K.a.dispatch({type:Y.a.CIRCLE_UPDATE_GROUPS,circle:n,groups:he[t]}),e(he[t])}));fe[t]=r})));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDms",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=I.a.getLocalUser()){e.next=5;break}return e.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:e.next=0;break;case 5:return e.abrupt("return",new Promise((function(e){var n=N.a.createSnapshotListener(Object(te.k)(N.a.collection("userdata",t.id,"dms"),Object(te.j)("lastMessageDate","desc")),(function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.items,a=void 0===r?[]:r,c=Object(oe.a)(a);try{for(c.s();!(t=c.n()).done;){var s,i=t.value,o=Z.a.extend(null!==(s=Z.a.get(he,["dms",i.id]))&&void 0!==s?s:new Ce,i,{circleId:"dms",isDm:!0,userId:i.id});K.a.dispatch({type:Y.a.DM_UPDATE,group:o,userId:i.id})}}catch(u){c.e(u)}finally{c.f()}K.a.dispatch({type:Y.a.BATCH_UPDATE_DMS,groups:he.dms}),e(he.dms)}));fe.dms=n})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(ue.a),pe=new be(K.a,(H={},Object(ie.a)(H,Y.a.GROUP_UPDATE,(function(e){var t=e.circle,n=e.group;Z.a.set(he,[t.id,n.id],n)})),Object(ie.a)(H,Y.a.DM_UPDATE,(function(e){var t=e.group,n=e.userId;Z.a.set(he,["dms",n],t)})),H)),ve=function(){function e(t){Object($.a)(this,e),this.id="",this.title="",Z.a.extend(this,t)}return Object(ee.a)(e,[{key:"isNsfw",get:function(){return this.nsfw}},{key:"circle",get:function(){return je.getCircle(this.circleId)}},{key:"sendMessage",value:function(e){var t;return Object(te.b)(Object(te.c)(this._ref,"messages"),{senderId:null===(t=I.a.getLocalUser())||void 0===t?void 0:t.id,content:e,creationDate:Object(te.l)()})}},{key:"Component",get:function(){var e=this;return function(t){var n=t.children;if(K.a.useForceUpdater(Y.a.GROUP_UPDATE,(function(t){var n=t.circle,r=t.group;return n.id===e.circleId&&r.id===e.id})),e.isNsfw)return null;switch(e.type){default:return null;case Y.b.FOLDER:return Object(T.jsx)(Oe,{group:e,children:n});case Y.b.TEXT:return Object(T.jsx)(me,{group:e});case Y.b.VOICE:return Object(T.jsx)(xe,{group:e});case Y.b.ANNOUNCEMENTS:return Object(T.jsx)(ge,{group:e})}}}}]),e}();function Oe(e){var t=e.group,n=e.children;return Object(T.jsxs)("div",{className:"Group TypeFolder",children:[Object(T.jsxs)("div",{className:"Title",children:[Object(T.jsx)(ae.a,{})," ",t.title]}),Object(T.jsx)("div",{className:"FolderContents",children:n})]})}function me(e){var t=e.group,n={onClick:function(){et(t.circle.lastLocation="#app/circles/".concat(t.circleId,"/groups/").concat(t.id))}};return Object(T.jsx)("div",{className:Object(Y.g)("Group","TypeText",[pe.getSelectedGroup()===t,"Selected"]),children:Object(T.jsxs)("div",Object(q.a)(Object(q.a)({className:"Title"},n),{},{children:[Object(T.jsx)(L.a,{})," ",t.title]}))})}function xe(e){var t=e.group;return Object(T.jsx)("div",{className:Object(Y.g)("Group","TypeVoice",[pe.getSelectedGroup()===t,"Selected"]),children:Object(T.jsxs)("div",{className:"Title",children:[Object(T.jsx)(ce.a,{})," ",t.title]})})}function ge(e){var t=e.group;return Object(T.jsx)("div",{className:"Group TypeAnnouncement",children:Object(T.jsxs)("div",{className:"Title",children:[Object(T.jsx)(se.a,{})," ",t.title]})})}var ye,Ce=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(){var e;Object($.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).userId="",e}return Object(ee.a)(n,[{key:"isNsfw",get:function(){return!1}},{key:"_ref",get:function(){return N.a.doc("directmessages",[I.a.getLocalUser().id,this.userId].sort().join("_"))}},{key:"Component",get:function(){var e=this;return function(){var t=I.a.useState((function(){return I.a.getUser(e.userId)}));return(null===t||void 0===t?void 0:t.displayName)?Object(T.jsxs)("div",{className:"DirectMessageGroup UserSection Flex",onClick:function(){return et("#app/dms/".concat(t.id))},children:[Object(T.jsx)(t.AvatarComponent,{}),Object(T.jsxs)("div",{className:"Details",children:[Object(T.jsx)("h3",{className:"Username",children:t.displayName}),Object(T.jsx)(t.StatusText,{tooltipDirection:"none"})]})]}):null}}}]),n}(ve),ke=n(126),we=function(){function e(t){Object($.a)(this,e),this.id="",this.name="",this.iconUrl="",this._groups=null,Z.a.extend(this,t)}return Object(ee.a)(e,[{key:"getGroups",value:function(){return pe.getGroups(this.id)}},{key:"renderGroups",value:function(){var e=this.getGroups();if(e){var t=Object.values(e).sort((function(e,t){return e.position-t.position}));return[Object(T.jsx)("div",{className:Object(Y.g)("Group TypeButton",["overview"===tt[2],"Selected"]),children:Object(T.jsxs)("div",{className:"Title",onClick:function(){return et("#app/circles/".concat(tt[1],"/overview"))},children:[Object(T.jsx)(ke.a,{})," Overview"]})},"__overview")].concat(Object(J.a)(t.filter((function(t){return!t.parent||!e[t.parent]})).map((function e(n){return Object(T.jsx)(n.Component,{children:t.filter((function(e){return e.parent===n.id})).map(e)},n.id)}))))}}},{key:"BubbleComponent",get:function(){var e=this;return function(){K.a.useForceUpdater(Y.a.CIRCLE_UPDATE,(function(t){return t.circle.id===e.id}));var t={onClick:function(){var t,n=localStorage.getItem("lastGroup.".concat(e.id))||"overview";et(null!==(t=e.lastLocation)&&void 0!==t?t:"#app/circles/".concat(e.id,"/").concat(n))}};return Object(T.jsxs)("div",Object(q.a)(Object(q.a)({className:"Circle"},t),{},{children:[e.iconUrl?Object(T.jsx)("img",{className:"Icon",src:e.iconUrl,alt:e.name}):Object(T.jsx)("h3",{className:"Icon Acronym",children:Object(Y.e)(e.name)}),Object(T.jsx)(B.a,{direction:"right",children:e.name})]}))}}}]),e}(),Ee=n(30),Se={"group-panel-size":250};function Ne(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}var Ae=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(){var e;Object($.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];e=t.call.apply(t,[this].concat(a));var s=function t(){I.a.getLocalUser()&&(e._databaseReference=N.a.doc("usersettings",I.a.getLocalUser().id,"v2","cssVars"),N.a.getDoc(e._databaseReference).then((function(t){e._hasLoaded=!0,K.a.dispatch({type:Y.a.BATCH_UPDATE_CSS_VARS,entries:null!==t&&void 0!==t?t:{}})})),I.a.removeListener(t))};return I.a.addListener(s),e._save=Z.a.debounce(e._save.bind(Object(Ee.a)(e)),5e3),e}return Object(ee.a)(n,[{key:"_save",value:function(){this._hasLoaded&&N.a.set(this._databaseReference,Se).catch((function(e){return console.error("Error saving CSS variables!",e.stack)}))}},{key:"getStyle",value:function(e){return Se[Ne(e)]}},{key:"getStyles",value:function(){return Se}},{key:"Renderer",get:function(){return function(){return K.a.useForceUpdater(Y.a.UPDATE_CSS_VAR),K.a.useForceUpdater(Y.a.BATCH_UPDATE_CSS_VARS),l.a.createElement("style",{},"#root {\n\t\t\t\t\t".concat(Object.entries(Se).map((function(e){var t=Object(g.a)(e,2),n=t[0],r=t[1];return"--".concat(n,": ").concat(r,";")})).join("\n"),"\n\t\t\t\t}"))}}}]),n}(ue.a),Te=new Ae(K.a,(ye={},Object(ie.a)(ye,Y.a.UPDATE_CSS_VAR,(function(e){var t=e.key,n=e.value;Se[Ne(t)]=n,Te._save()})),Object(ie.a)(ye,Y.a.BATCH_UPDATE_CSS_VARS,(function(e){var t=e.entries;for(var n in t){var r=["string","number"];~r.indexOf(typeof n)&&~r.indexOf(typeof t[n])&&(Se[n]=t[n])}})),ye)),Ue=Te,Ie=n(127),De=n(128),Pe=(n(91),n(47));function Me(){var e={handleSend:function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.trim()){e.next=5;break}if(n=pe.getSelectedGroup()){e.next=4;break}return e.abrupt("return",E.a.showToast("No selected group!","Failure"));case 4:n.sendMessage(t);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return Object(T.jsxs)("div",{className:"ChatTextAreaContainer Flex",children:[Object(T.jsxs)(Pe.a,{id:"ChatTextArea",className:"ChatTextArea",onSend:e.handleSend,children:[Object(T.jsx)(L.a,{})," Say hi! "]}),Object(T.jsx)("div",{className:"Button",children:Object(T.jsx)(Ie.a,{})}),Object(T.jsx)("div",{className:"Button",onClick:function(){return document.getElementById("ChatTextArea").dispatchEvent(new KeyboardEvent("keydown",{key:"Enter",shiftKey:!1,bubbles:!0}))},children:Object(T.jsx)(De.a,{})})]})}var Fe,Le=n(36),_e=n(39),Be=function(){function e(t){Object($.a)(this,e),this.id="",this.content="",this.senderId="",this.creationDate=null,this.mentions=[],Z.a.extend(this,t)}return Object(ee.a)(e,[{key:"getContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _e.a.parse(this.content,this,e)}},{key:"getCreationDate",value:function(e){var t,n,r;if(!e&&!this.creationDate)return"";var a=null!==(t=null!==(n=null===e||void 0===e||null===(r=e.toDate)||void 0===r?void 0:r.call(e))&&void 0!==n?n:e)&&void 0!==t?t:this.creationDate.toDate();return"".concat(Object(Y.d)(a)," at ").concat(a.toLocaleTimeString("en-US"))}}]),e}(),Re={},Ge={},We=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"getMessage",value:function(e,t,n){return Z.a.get(Re,[e,t,n])}},{key:"getMessages",value:function(e,t){var n;return null!==(n=Z.a.get(Re,[e,t]))&&void 0!==n?n:(this.fetchMessages(e,t),null)}},{key:"getMessageGroups",value:function(e,t){var n=this.getMessages(e,t);if(!n)return null;for(var r,a,c=[],s=0,i=Object.values(n);s<i.length;s++){var o,u,l=i[s],d=(null===(o=r)||void 0===o?void 0:o.senderId)!==l.senderId,j=l.creationDate-(null===(u=r)||void 0===u?void 0:u.creationDate)>600;(!r||d||j)&&(a&&r&&c.push({key:"mg-"+r.id,userId:r.senderId,messages:a}),a=[]),a.push(l),r=l}return a&&c.push({key:"mg-"+a[0].id,userId:a[0].senderId,messages:a}),c.reverse()}},{key:"getAllCachedMessages",value:function(){return Re}},{key:"tickCache",value:function(e,t){var n=Z.a.get(Ge,[e,t]);null===n||void 0===n||n()}},{key:"fetchMessages",value:function(){var e=Object(i.a)(s.a.mark((function e(t,n){var r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var a="dms"===t?N.a.collection("directmessages",[I.a.getLocalUser().id,n].sort().join("_"),"messages"):N.a.collection("circles",t,"groups",n,"messages"),c=N.a.createSnapshotListener(Object(te.k)(a,Object(te.j)("creationDate"),Object(te.h)(50)),(function(){var a,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=c.changes,i=void 0===s?[]:s,o=Object(oe.a)(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;switch(u.type){case"added":K.a.dispatch({type:Y.a.MESSAGE_CREATE,circleId:t,groupId:n,message:new Be(u.data)});break;case"modified":var l;K.a.dispatch({type:Y.a.MESSAGE_UPDATE,circleId:t,groupId:n,message:Z.a.extend(null!==(l=r.getMessage(t,n))&&void 0!==l?l:new Be(u.data),u.data)});break;case"removed":K.a.dispatch({type:Y.a.MESSAGE_DELETE,circleId:t,groupId:n,messageId:u.doc.id})}}}catch(d){o.e(d)}finally{o.f()}K.a.dispatch({type:Y.a.CHAT_UPDATE,circleId:t,groupId:n}),e(Z.a.get(Re,[t,n]))}));Z.a.set(Ge,[t,n],Z.a.debounce((function(){c(),delete Re[t][n],delete Ge[t][n]}),6e5))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(ue.a),He=new We(K.a,(Fe={},Object(ie.a)(Fe,Y.a.MESSAGE_CREATE,(function(e){var t=e.circleId,n=e.groupId,r=e.message;Z.a.set(Re,[t,n,r.id],r)})),Object(ie.a)(Fe,Y.a.MESSAGE_UPDATE,(function(e){var t=e.circleId,n=e.groupId,r=e.message;Z.a.set(Re,[t,n,r.id],r)})),Object(ie.a)(Fe,Y.a.MESSAGE_DELETE,(function(e){var t,n,r=e.circleId,a=e.groupId,c=e.messageId;null===(t=Re[r])||void 0===t||(null===(n=t[a])||void 0===n||delete n[c])})),Fe));n(92);function Ye(e){var t=e.circleId,n=e.groupId;K.a.useForceUpdater(Y.a.CHAT_UPDATE,(function(e){return e.circleId==t&&e.groupId==n}));var r=l.a.useRef(),a=He.getMessageGroups(t,n),c=Object(A.c)("max-width",700),s=l.a.useMemo((function(){return c?{onTouchStart:function(e){var t=e.touches[0].clientX,n=e.touches[0].clientY,a=Ue.getStyle("groupPanelSize")+60,c=0,s=parseFloat(r.current.style.transform.match(/[0-9]+/g));isNaN(s)&&(s=0);var i,o=function(e){c=e.touches[0].clientX-t,Math.abs(c)<50||Math.abs(e.touches[0].clientY-n)>50||(c<0?c+=50:c-=50,Object.assign(r.current.style,{transform:"translateX(".concat(Z.a.clamp(s+c,0,a),"px)")}))};document.addEventListener("touchmove",o),document.addEventListener("touchend",i=function(){setTimeout((function(){Object.assign(r.current.style,{transform:c>a/3?"translateX(".concat(a,"px)"):"none"}),document.removeEventListener("touchmove",o),document.removeEventListener("touchend",i)}),100)})}}:{}}),[c]);return Object(A.b)((function(){return He.tickCache(t,n)}),1e3,!0,[t,n]),Object(T.jsx)("div",Object(q.a)(Object(q.a)({className:"Panel PanelChat",ref:r},s),{},{children:a?Object(T.jsx)("div",{className:"Messages",children:a.map((function(e){return Object(T.jsx)(Ve,Object(q.a)({},e))}))}):Object(T.jsx)("div",{className:"FlexCenter",style:{marginTop:50},children:Object(T.jsx)(Le.a,{})})}))}function Ve(e){var t,n=e.userId,r=e.messages,a=I.a.useState((function(){return I.a.getUser(n)}));return Object(T.jsxs)("div",{className:Object(Y.g)("MessageGroup",[n===(null===(t=I.a.getLocalUser())||void 0===t?void 0:t.id),"LocalUser"]),children:[Object(T.jsxs)(V.a.Wrapper,{menu:Object(T.jsx)(a.ContextMenu,{}),wrapperClassName:"UserSection Flex",children:[a&&Object(T.jsx)(a.AvatarComponent,{}),Object(T.jsxs)("div",{className:"Details",children:[Object(T.jsx)("h3",{className:"Username",children:a.displayName}),Object(T.jsx)(a.StatusText,{})]})]}),r.map((function(e){var t;return Object(T.jsxs)("div",{className:"Message Flex",children:[Object(T.jsxs)("div",{className:"TimestampContainer",children:[Object(T.jsx)("span",{className:"Timestamp",children:null===(t=e.creationDate)||void 0===t?void 0:t.toDate().toLocaleTimeString("en-US",{hour12:!1}).slice(0,-3)}),Object(T.jsxs)(B.a,{direction:"right",children:[Object(T.jsxs)("div",{children:["Sent ",e.getCreationDate()]}),e.editedAt&&Object(T.jsxs)("div",{children:["Edited ",e.getCreationDate(e.editedAt)]})]})]}),Object(T.jsx)("div",{className:"MessageContent",children:e.getContent()})]},e.id)}))]})}function Ke(e){var t=e.children,n=l.a.useRef(),r=l.a.useMemo((function(){return function(e){K.a.dispatch({type:Y.a.UPDATE_CSS_VAR,key:"groupPanelSize",value:Z.a.clamp(e.clientX-n.current.getBoundingClientRect().x,100,500)})}}),[t]),a={onMouseDown:function(){var e;document.addEventListener("mousemove",r),document.addEventListener("mouseup",e=function(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e)})}};return Object(T.jsxs)("div",{className:"Panel PanelGroups",ref:n,children:[t,Object(T.jsx)("div",Object(q.a)({className:"GroupsScaler"},a))]})}n(93);function ze(e){var t=e.circleId,n=je.getCircle(t);I.a.useState((function(){return I.a.getUser(null===n||void 0===n?void 0:n.ownerId)}));return n?Object(T.jsx)("div",{className:"CircleOverview FlexCenter",children:Object(T.jsxs)("div",{className:"Hero FlexCenter",children:[Object(T.jsx)("div",{className:"Circle",onClick:function(){return Object(d.d)(n.iconUrl)},children:n.iconUrl?Object(T.jsx)("img",{className:"Icon",src:n.iconUrl,alt:Object(Y.e)(n.name)}):Object(T.jsx)("h3",{className:"Icon Acronym",children:Object(Y.e)(n.name)})}),Object(T.jsx)("div",{className:"Banner",children:n.iconUrl&&Object(T.jsx)("img",{className:"BannerImage Default",src:n.iconUrl,alt:"banner"})}),Object(T.jsx)("h1",{className:"Title",children:n.name})]})}):null}n(94);function Qe(e){var t=e.circle;function n(){switch(tt[2]){case"groups":return Object(T.jsx)(Ye,{circleId:t.id,groupId:tt[3]});case"overview":return Object(T.jsx)(ze,{circleId:t.id})}return null}return K.a.useForceUpdater(Y.a.PAGE_UPDATE),K.a.useForceUpdater(Y.a.CIRCLE_UPDATE_GROUPS,(function(e){return e.circle.id===t.id}),[t]),Object(T.jsxs)("div",{className:"CirclePage Flex",children:[Object(T.jsx)(Ke,{children:t.renderGroups()}),Object(T.jsx)(n,{})]})}n(95);function Ze(){K.a.useForceUpdater(Y.a.PAGE_UPDATE),K.a.useForceUpdater(Y.a.BATCH_UPDATE_DMS);var e,t=pe.getGroups("dms");function n(){var e,t;return""===(null!==(e=null===(t=tt[1])||void 0===t?void 0:t.trim())&&void 0!==e?e:"")?null:Object(T.jsx)(Ye,{circleId:"dms",groupId:tt[1]})}return console.log(t),Object(T.jsxs)("div",{className:"DmsPage Flex",children:[Object(T.jsx)(Ke,{children:(e=t,e?Object.values(e).sort((function(e,t){return t.lastMessageDate-e.lastMessageDate})).map((function(e){return Object(T.jsx)(e.Component,{},e.groupId)})):null)}),Object(T.jsx)(n,{})]})}n(96);function Xe(){switch(K.a.useForceUpdater(Y.a.PAGE_UPDATE),tt[0]){case void 0:case"":return Object(T.jsxs)("div",{className:"AppHome FlexCenter",children:[Object(T.jsx)("h2",{children:"Welcome to the new Cirlos!"}),Object(T.jsx)("p",{children:"Cirlos has been completely redesigned and rewritten, from the ground up."}),Object(T.jsx)("p",{children:"This means better UI/UX, stability, and performance."})]});case"circles":var e=je.getCircle(tt[1]);return e?(console.log(e),Object(T.jsx)(Qe,{circle:e})):Object(T.jsxs)("div",{className:"AppHome FlexCenter",children:[Object(T.jsx)("h2",{children:"Oops!"}),Object(T.jsx)("p",{children:"This circle could not be loaded properly."})]});case"dms":return Object(T.jsx)(Ze,{})}return Object(T.jsx)("div",{className:"AppHome Flex"})}n(97);function qe(){var e=I.a.useState(I.a.getLocalUser);return null===e&&(E.a.showToast("You must be signed in to access the app","Failure"),window.location.assign(window.location.origin)),e?Object(T.jsx)("div",{className:"AppPage",children:Object(T.jsx)(Je,{localUser:e})}):null}function Je(e){var t,n=e.localUser,r=null!==(t=N.a.useSnapshot(N.a.collection("userdata",n.id,"circles"),{processor:function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=je.getCircles()[t.id])||void 0===n){e.next=4;break}e.t0=n,e.next=7;break;case 4:return e.next=6,je.fetchCircle(t.id);case 6:e.t0=e.sent;case 7:return r=e.t0,e.abrupt("return",Z.a.assign(r,t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))&&void 0!==t?t:{},a=r.items;return void 0===a?Object(T.jsx)($e,{}):Object(T.jsxs)("div",{className:"Core",children:[Object(T.jsx)(Ue.Renderer,{}),Object(T.jsx)($e,{hidden:!0}),Object(T.jsxs)("div",{className:"Panel PanelMain Flex",children:[Object(T.jsx)("div",{className:"Panel PanelCircles",children:a.map((function(e){return e instanceof we&&Object(T.jsx)(e.BubbleComponent,{},e.id)}))}),Object(T.jsx)("div",{className:"Panel PanelCore",children:Object(T.jsx)(Xe,{})})]}),Object(T.jsxs)("div",{className:"Panel PanelFooter FlexCenter",children:[Object(T.jsxs)("div",{className:"Circle",onClick:function(){return et("#app/dms/")},children:[Object(T.jsx)(X.a,{className:"Icon"}),Object(T.jsx)(B.a,{children:"DMs"})]}),Object(T.jsxs)("div",{className:"LocalUserHead FlexCenter",children:[Object(T.jsx)("div",{className:"Circle",children:Object(T.jsx)(n.AvatarComponent,{className:"Icon"})}),Object(T.jsxs)("div",{className:"Details",children:[Object(T.jsx)("h4",{className:"Username",children:n.displayName}),Object(T.jsx)(n.StatusText,{})]})]}),Object(T.jsx)("div",{className:"Divider"}),Object(T.jsx)(Me,{})]})]})}function $e(e){var t=e.hidden,n=void 0!==t&&t;return Object(T.jsx)("div",{className:Object(Y.g)("LoadingOverlay","FlexCenter",[n,"Hidden"]),children:Object(T.jsx)(Le.a,{style:{fontSize:"2em"}})})}function et(e){window.history.pushState({},null,e),K.a.dispatch({type:Y.a.PAGE_UPDATE})}window.addEventListener("popstate",(function(){K.a.dispatch({type:Y.a.PAGE_UPDATE})}));var tt=[];function nt(){var e;K.a.useForceUpdater(Y.a.PAGE_UPDATE);var t=(null!==(e=window.location.hash.split(/#\/?/)[1])&&void 0!==e?e:"").split("?")[0].split("/"),n=Object(o.a)(t),r=n[0],a=n.slice(1);return r,tt=a,"app"===r?Object(T.jsx)(qe,{}):Object(T.jsx)(G,{})}function rt(){return K.a.useForceUpdater(Y.a.PAGE_UPDATE),l.a.useEffect((function(){Object(z.c)(N.a.auth,function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!(null===t||void 0===t?void 0:t.uid)){e.next=5;break}return e.next=4,I.a.fetchUser(t.uid);case 4:n=e.sent;case 5:K.a.dispatch({type:Y.a.LOCAL_USER_UPDATE,user:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)("div",{className:"Main",children:Object(T.jsx)(nt,{})}),"#app"!==window.location.hash.split("/")[0].split("?")[0]&&Object(T.jsx)(R,{}),Object(T.jsx)(d.a,{}),Object(T.jsx)(E.a,{}),Object(T.jsx)(V.a.Handler,{})]})}},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),c=n(41),s=n.n(c),i=n(56);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(1);s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(i.b,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[98,1,2]]]);
//# sourceMappingURL=main.e1b210a4.chunk.js.map