/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={4258:(e,t,n)=>{"use strict";n.d(t,{Jn:()=>v,qX:()=>p,Xd:()=>f,Mq:()=>b,ZF:()=>y,KN:()=>w});var r=n(909),i=n(6934),o=n(4444);class s{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const a="@firebase/app",l=new i.Yd("@firebase/app"),c={[a]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},u=new Map,d=new Map;function h(e,t){try{e.container.addComponent(t)}catch(n){l.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function f(e){const t=e.name;if(d.has(t))return l.debug(`There were multiple attempts to register component ${t}.`),!1;d.set(t,e);for(const t of u.values())h(t,e);return!0}function p(e,t){return e.container.getProvider(t)}const m=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class g{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw m.create("app-deleted",{appName:this._name})}}const v="9.1.1";function y(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw m.create("bad-app-name",{appName:String(i)});const s=u.get(i);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw m.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const e of d.values())a.addComponent(e);const l=new g(e,n,a);return u.set(i,l),l}function b(e="[DEFAULT]"){const t=u.get(e);if(!t)throw m.create("no-app",{appName:e});return t}function w(e,t,n){var i;let o=null!==(i=c[e])&&void 0!==i?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void l.warn(e.join(" "))}f(new r.wA(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}f(new r.wA("platform-logger",(e=>new s(e)),"PRIVATE")),w(a,"0.7.2",undefined),w("fire-js","")},4894:(e,t,n)=>{"use strict";n.d(t,{Xb:()=>Ie,v0:()=>Rt,Aj:()=>Ne,e5:()=>xe,w7:()=>Pe,ck:()=>Oe});var r=n(4444),i=n(4258),o=n(655),s=n(6934),a=n(909);const l=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},c=new r.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),u=new s.Yd("@firebase/auth");function d(e,...t){u.logLevel<=s.in.ERROR&&u.error(`Auth (${i.Jn}): ${e}`,...t)}function h(e,...t){throw p(e,...t)}function f(e,...t){return p(e,...t)}function p(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return c.create(e,...t)}function m(e,t,...n){if(!e)throw p(t,...n)}function g(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function v(e,t){e||g(t)}const y=new Map;function b(e){v(e instanceof Function,"Expected a class definition");let t=y.get(e);return t?(v(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,y.set(e,t),t)}function w(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class E{constructor(e,t){this.shortDelay=e,this.longDelay=t,v(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===_()||"https:"===_()||(0,r.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function C(e,t){v(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class T{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void g("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void g("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void g("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},k=new E(3e4,6e4);function I(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function x(e,t,n,i,o={}){return O(e,o,(()=>{let o={},s={};i&&("GET"===t?s=i:o={body:JSON.stringify(i)});const a=(0,r.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),l=new(T.headers());return l.set("Content-Type","application/json"),l.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&l.set("X-Firebase-Locale",e.languageCode),T.fetch()(P(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))}))}async function O(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},S),t);try{const t=new A(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw R(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const t=o.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw R(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw R(e,"email-already-in-use",s);const c=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw function(e,t,n){const i=Object.assign(Object.assign({},l()),{[t]:n});return new r.LL("auth","Firebase",i).create(t,{appName:e.name})}(e,c,a);h(e,c)}}catch(t){if(t instanceof r.ZR)throw t;h(e,"network-request-failed")}}async function N(e,t,n,r,i={}){const o=await x(e,t,n,r,i);return"mfaPendingCredential"in o&&h(e,"multi-factor-auth-required",{serverResponse:o}),o}function P(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?C(e.config,i):`${e.config.apiScheme}://${i}`}class A{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(f(this.auth,"timeout"))),k.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function R(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=f(e,t,r);return i.customData._tokenResponse=n,i}function D(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function L(e){return 1e3*Number(e)}function M(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.tV)(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(e){return d("Caught error parsing JWT payload as JSON",e),null}}async function F(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof r.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class U{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class j{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=D(this.lastLoginAt),this.creationTime=D(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function B(e){var t;const n=e.auth,r=await e.getIdToken(),i=await F(e,async function(e,t){return x(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));m(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=(0,o._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],l=(c=e.providerData,u=a,[...c.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var c,u;const d=e.isAnonymous,h=!(e.email&&s.passwordHash||(null==l?void 0:l.length)),f=!!d&&h,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new j(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(e,p)}class z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){m(e.idToken,"internal-error"),m(void 0!==e.idToken,"internal-error"),m(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=M(e);return m(t,"internal-error"),m(void 0!==t.exp,"internal-error"),m(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return m(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await async function(e,t){const n=await O(e,{},(()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=P(e,i,"/v1/token",`key=${o}`);return T.fetch()(s,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new z;return n&&(m("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(m("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(m("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new z,this.toJSON())}_performRefresh(){return g("not implemented")}}function V(e,t){m("string"==typeof e||void 0===e,"internal-error",{appName:t})}class W{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,o._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new U(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.metadata=new j(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await F(this,this.stsTokenManager.getToken(this.auth,e));return m(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,r.m9)(e),i=await n.getIdToken(t),o=M(i);m(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"==typeof o.firebase?o.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:D(L(o.auth_time)),issuedAtTime:D(L(o.iat)),expirationTime:D(L(o.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,r.m9)(e);await B(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(m(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new W(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){m(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await B(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await F(this,async function(e,t){return x(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:_,providerData:E,stsTokenManager:C}=t;m(b&&C,e,"internal-error");const T=z.fromJSON(this.name,C);m("string"==typeof b,e,"internal-error"),V(u,e.name),V(d,e.name),m("boolean"==typeof w,e,"internal-error"),m("boolean"==typeof _,e,"internal-error"),V(h,e.name),V(f,e.name),V(p,e.name),V(g,e.name),V(v,e.name),V(y,e.name);const S=new W({uid:b,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:T,createdAt:v,lastLoginAt:y});return E&&Array.isArray(E)&&(S.providerData=E.map((e=>Object.assign({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t,n=!1){const r=new z;r.updateFromServerResponse(t);const i=new W({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await B(i),i}}class q{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}q.type="NONE";const G=q;function H(e,t,n){return`firebase:${e}:${t}:${n}`}class ${constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=H(this.userKey,r.apiKey,i),this.fullPersistenceKey=H("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?W._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new $(b(G),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||b(G);const o=H(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=W._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new $(i,e,n)):new $(i,e,n)}}function Z(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(X(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(K(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ee(t))return"Blackberry";if(te(t))return"Webos";if(Y(t))return"Safari";if((t.includes("chrome/")||Q(t))&&!t.includes("edge/"))return"Chrome";if(J(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function K(e=(0,r.z$)()){return/firefox\//i.test(e)}function Y(e=(0,r.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Q(e=(0,r.z$)()){return/crios\//i.test(e)}function X(e=(0,r.z$)()){return/iemobile/i.test(e)}function J(e=(0,r.z$)()){return/android/i.test(e)}function ee(e=(0,r.z$)()){return/blackberry/i.test(e)}function te(e=(0,r.z$)()){return/webos/i.test(e)}function ne(e=(0,r.z$)()){return/iphone|ipad|ipod/i.test(e)}function re(e=(0,r.z$)()){return ne(e)||J(e)||te(e)||ee(e)||/windows phone/i.test(e)||X(e)}function ie(e,t=[]){let n;switch(e){case"Browser":n=Z((0,r.z$)());break;case"Worker":n=`${Z((0,r.z$)())}-${e}`;break;default:n=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.Jn}/${o}`}class oe{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ae(this),this.idTokenSubscription=new ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=b(t)),this._initializationPromise=this.queue((async()=>{var n;this._deleted||(this.persistenceManager=await $.create(this,e),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this._deleted||(this._isInitialized=!0)))})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);r&&r!==i||!(null==o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?(m(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await B(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,r.m9)(e):null;return t&&m(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&m(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(b(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&b(e)||this._popupRedirectResolver;m(t,this,"argument-error"),this.redirectPersistenceManager=await $.create(this,[b(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return m(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return m(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function se(e){return(0,r.m9)(e)}class ae{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.ne)((e=>this.observer=e))}get next(){return m(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class le{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return g("not implemented")}_getIdTokenResponse(e){return g("not implemented")}_linkToIdToken(e,t){return g("not implemented")}_getReauthenticationResolver(e){return g("not implemented")}}class ce extends le{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ce(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ce(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return N(e,"POST","/v1/accounts:signInWithPassword",I(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{email:this._email,oobCode:this._password});default:h(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return x(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:h(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ue(e,t){return N(e,"POST","/v1/accounts:signInWithIdp",I(e,t))}class de extends le{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new de(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):h("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,o._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new de(n,r);return Object.assign(s,i),s}_getIdTokenResponse(e){return ue(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ue(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ue(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,r.xO)(t)}return e}}const he={USER_NOT_FOUND:"user-not-found"};class fe extends le{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new fe({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new fe({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await N(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t));if(n.temporaryProof)throw R(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),he)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new fe({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class pe{constructor(e){var t,n,i,o,s,a;const l=(0,r.zd)((0,r.pd)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);m(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,r.zd)((0,r.pd)(e)).link,n=t?(0,r.zd)((0,r.pd)(t)).deep_link_id:null,i=(0,r.zd)((0,r.pd)(e)).deep_link_id;return(i?(0,r.zd)((0,r.pd)(i)).link:null)||i||n||t||e}(e);try{return new pe(t)}catch(e){return null}}}class me{constructor(){this.providerId=me.PROVIDER_ID}static credential(e,t){return ce._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=pe.parseLink(t);return m(n,"argument-error"),ce._fromEmailAndCode(e,n.code,n.tenantId)}}me.PROVIDER_ID="password",me.EMAIL_PASSWORD_SIGN_IN_METHOD="password",me.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ge{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ve extends ge{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ye extends ve{constructor(){super("facebook.com")}static credential(e){return de._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ye.credentialFromTaggedObject(e)}static credentialFromError(e){return ye.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ye.credential(e.oauthAccessToken)}catch(e){return null}}}ye.FACEBOOK_SIGN_IN_METHOD="facebook.com",ye.PROVIDER_ID="facebook.com";class be extends ve{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return de._fromParams({providerId:be.PROVIDER_ID,signInMethod:be.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return be.credentialFromTaggedObject(e)}static credentialFromError(e){return be.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return be.credential(t,n)}catch(e){return null}}}be.GOOGLE_SIGN_IN_METHOD="google.com",be.PROVIDER_ID="google.com";class we extends ve{constructor(){super("github.com")}static credential(e){return de._fromParams({providerId:we.PROVIDER_ID,signInMethod:we.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return we.credentialFromTaggedObject(e)}static credentialFromError(e){return we.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return we.credential(e.oauthAccessToken)}catch(e){return null}}}we.GITHUB_SIGN_IN_METHOD="github.com",we.PROVIDER_ID="github.com";class _e extends ve{constructor(){super("twitter.com")}static credential(e,t){return de._fromParams({providerId:_e.PROVIDER_ID,signInMethod:_e.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _e.credentialFromTaggedObject(e)}static credentialFromError(e){return _e.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return _e.credential(t,n)}catch(e){return null}}}_e.TWITTER_SIGN_IN_METHOD="twitter.com",_e.PROVIDER_ID="twitter.com";class Ee{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await W._fromIdTokenResponse(e,n,r),o=Ce(n);return new Ee({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ce(n);return new Ee({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ce(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Te extends r.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,Te.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new Te(e,t,n,r)}}function Se(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Te._fromErrorAndOperation(e,n,t,r);throw n}))}async function ke(e,t,n=!1){const r="signIn",i=await Se(e,r,t),o=await Ee._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Ie(e,t,n){const r=se(e),i=await async function(e,t){return N(e,"POST","/v1/accounts:signUp",I(e,t))}(r,{returnSecureToken:!0,email:t,password:n}),o=await Ee._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function xe(e,t,n){return async function(e,t){return ke(se(e),t)}((0,r.m9)(e),me.credential(t,n))}async function Oe(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=(0,r.m9)(e),o={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await F(i,async function(e,t){return x(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function Ne(e,t,n,i){return(0,r.m9)(e).onAuthStateChanged(t,n,i)}function Pe(e){return(0,r.m9)(e).signOut()}new WeakMap;const Ae="__sak";class Re{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ae,"1"),this.storage.removeItem(Ae),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}class De extends Re{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,r.z$)();return Y(e)||ne(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=re(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,r.w1)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}De.type="LOCAL";const Le=De;class Me extends Re{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Me.type="SESSION";const Fe=Me;class Ue{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ue(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function je(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Ue.receivers=[];class Be{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=je("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ze(){return window}function Ve(){return void 0!==ze().WorkerGlobalScope&&"function"==typeof ze().importScripts}const We="firebaseLocalStorageDb",qe="firebaseLocalStorage",Ge="fbase_key";class He{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function $e(e,t){return e.transaction([qe],t?"readwrite":"readonly").objectStore(qe)}function Ze(){const e=indexedDB.open(We,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(qe,{keyPath:Ge})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(qe)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(We);return new He(e).toPromise()}(),t(await Ze()))}))}))}async function Ke(e,t,n){const r=$e(e,!0).put({[Ge]:t,value:n});return new He(r).toPromise()}function Ye(e,t){const n=$e(e,!0).delete(t);return new He(n).toPromise()}class Qe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ze()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ve()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ue._getInstance(Ve()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Be(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ze();return await Ke(e,Ae,"1"),await Ye(e,Ae),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ke(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=$e(e,!1).get(t),r=await new He(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ye(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=$e(e,!1).getAll();return new He(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Qe.type="LOCAL";const Xe=Qe;function Je(e){return`__${e}${Math.floor(1e6*Math.random())}`}Je("rcb"),new E(3e4,6e4);class et{constructor(e){this.providerId=et.PROVIDER_ID,this.auth=se(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let o;if(m("string"==typeof i,e,"argument-error"),m("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){m("enroll"===t.type,e,"internal-error");const n=await function(e,t){return x(e,"POST","/v2/accounts/mfaEnrollment:start",I(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{m("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;m(n,e,"missing-multi-factor-info");const s=await function(e,t){return x(e,"POST","/v2/accounts/mfaSignIn:start",I(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return x(e,"POST","/v1/accounts:sendVerificationCode",I(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,(0,r.m9)(t))}static credential(e,t){return fe._fromVerification(e,t)}static credentialFromResult(e){const t=e;return et.credentialFromTaggedObject(t)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?fe._fromTokenResponse(t,n):null}}et.PROVIDER_ID="phone",et.PHONE_SIGN_IN_METHOD="phone";class tt extends le{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ue(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ue(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ue(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nt(e){return ke(e.auth,new tt(e),e.bypassAuthState)}function rt(e){const{auth:t,user:n}=e;return m(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await F(e,Se(r,i,t,e),n);m(o.idToken,r,"internal-error");const s=M(o.idToken);m(s,r,"internal-error");const{sub:a}=s;return m(e.uid===a,r,"user-mismatch"),Ee._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&h(r,"user-mismatch"),e}}(n,new tt(e),e.bypassAuthState)}async function it(e){const{auth:t,user:n}=e;return m(n,t,"internal-error"),async function(e,t,n=!1){const r=await F(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ee._forOperation(e,"link",r)}(n,new tt(e),e.bypassAuthState)}class ot{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nt;case"linkViaPopup":case"linkViaRedirect":return it;case"reauthViaPopup":case"reauthViaRedirect":return rt;default:h(this.auth,"internal-error")}}resolve(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const st=new E(2e3,1e4);class at extends ot{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,at.currentPopupAction&&at.currentPopupAction.cancel(),at.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return m(e,this.auth,"internal-error"),e}async onExecution(){v(1===this.filter.length,"Popup operations only handle one event");const e=je();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(f(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,at.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,st.get())};e()}}at.currentPopupAction=null;const lt=new Map;class ct extends ot{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=lt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return H("pendingRedirect",e.config.apiKey,e.name)}(t),r="true"===await ut(e)._get(n);return await ut(e)._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}lt.set(this.auth._key(),e)}return e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ut(e){return b(e._redirectPersistence)}async function dt(e,t,n=!1){const r=se(e),i=function(e,t){return t?b(t):(m(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new ct(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class ht{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pt(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!pt(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(f(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ft(e))}saveEventToCache(e){this.cachedEventUids.add(ft(e)),this.lastProcessedEventTime=Date.now()}}function ft(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function pt({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const mt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gt=/^https?/;function vt(e){const t=w(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!gt.test(n))return!1;if(mt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yt=new E(3e4,6e4);function bt(){const e=ze().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let wt=null;function _t(e){return wt=wt||function(e){return new Promise(((t,n)=>{var r,i,o,s;function a(){bt(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bt(),n(f(e,"network-request-failed"))},timeout:yt.get()})}if(null===(i=null===(r=ze().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ze().gapi)||void 0===o?void 0:o.load)){const t=Je("iframefcb");return ze()[t]=()=>{gapi.load?a():n(f(e,"network-request-failed"))},s=`https://apis.google.com/js/api.js?onload=${t}`,new Promise(((e,t)=>{const n=document.createElement("script");var r,i;n.setAttribute("src",s),n.onload=e,n.onerror=e=>{const n=f("internal-error");n.customData=e,t(n)},n.type="text/javascript",n.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(n)}))}a()}})).catch((e=>{throw wt=null,e}))}(e),wt}const Et=new E(5e3,15e3),Ct={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Tt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function St(e){const t=e.config;m(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?C(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,o={apiKey:t.apiKey,appName:e.name,v:i.Jn},s=Tt.get(e.config.apiHost);s&&(o.eid=s);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${(0,r.xO)(o).slice(1)}`}const kt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class It{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function xt(e,t,n,o,s,a){m(e.config.authDomain,e,"auth-domain-config-required"),m(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:i.Jn,eventId:s};if(t instanceof ge){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,r.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof ve){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const e of Object.keys(c))void 0===c[e]&&delete c[e];return`${function({config:e}){return e.emulator?C(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,r.xO)(c).slice(1)}`}const Ot="webStorageSupport",Nt=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fe,this._completeRedirectFn=dt}async _openPopup(e,t,n,i){var o;return v(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),function(e,t,n,i=500,o=600){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c=Object.assign(Object.assign({},kt),{width:i.toString(),height:o.toString(),top:s,left:a}),u=(0,r.z$)().toLowerCase();n&&(l=Q(u)?"_blank":n),K(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=(0,r.z$)()){var t;return ne(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new It(null);const h=window.open(t||"",l,d);m(h,e,"popup-blocked");try{h.focus()}catch(e){}return new It(h)}(e,xt(e,t,n,w(),i),je())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=xt(e,t,n,w(),r),ze().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(v(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}async initAndGetManager(e){const t=await async function(e){const t=await _t(e),n=ze().gapi;return m(n,e,"internal-error"),t.open({where:document.body,url:St(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ct,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=f(e,"network-request-failed"),o=ze().setTimeout((()=>{r(i)}),Et.get());function s(){ze().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new ht(e);return t.register("authEvent",(t=>(m(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ot,{type:Ot},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),h(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return x(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(vt(e))return}catch(e){}h(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return re()||Y()||ne()}};var Pt;class At{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){m(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rt(e=(0,i.Mq)()){const t=(0,i.qX)(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=(0,i.qX)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!=t?t:{}))return e;h(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Nt,persistence:[Xe,Le,Fe]})}Pt="Browser",(0,i.Xd)(new a.wA("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{m(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),m(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:Pt,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ie(Pt)},o=new oe(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(b);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,i.Xd)(new a.wA("auth-internal",(e=>{return t=se(e.getProvider("auth").getImmediate()),new At(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KN)("@firebase/auth","0.18.1",void 0)},909:(e,t,n)=>{"use strict";n.d(t,{wA:()=>o,H0:()=>l});var r=n(655),i=n(4444),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),s="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),l=a[0],c=a[1],u=this.normalizeInstanceIdentifier(l);try{var d=this.getOrInitializeService({instanceIdentifier:u});c.resolve(d)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=s),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=s),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=s),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var u=(0,r.CR)(c.value,2),d=u[0],h=u[1];s===this.normalizeInstanceIdentifier(d)&&h.resolve(a)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var l=a.value;try{l(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===s?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=s),this.component?this.component.multipleInstances?e:s:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},3680:(e,t,n)=>{"use strict";n.d(t,{my:()=>Sc,ET:()=>Nu,hJ:()=>xc,oe:()=>Ou,JU:()=>Oc,Lx:()=>Eu,QT:()=>Tu,PL:()=>ku,ad:()=>Rc,vh:()=>wu,cf:()=>Pu,Xo:()=>yu,IO:()=>gu,Bt:()=>Du,pl:()=>Iu,r7:()=>xu});var r,i=n(4258),o=n(909),s=n(6934),a=n(4444),l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},c={},u=u||{},d=l||self;function h(){}function f(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function E(){this.s=this.s,this.o=this.o}var C={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++g)}(this);delete C[e]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},S=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function k(e){return Array.prototype.concat.apply([],arguments)}function I(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function x(e){return/^[\s\xa0]*$/.test(e)}var O,N=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function P(e,t){return-1!=e.indexOf(t)}function A(e,t){return e<t?-1:e>t?1:0}e:{var R=d.navigator;if(R){var D=R.userAgent;if(D){O=D;break e}}O=""}function L(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function M(e){const t={};for(const n in e)t[n]=e[n];return t}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<F.length;t++)n=F[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){return j[" "](e),e}j[" "]=h;var B,z,V=P(O,"Opera"),W=P(O,"Trident")||P(O,"MSIE"),q=P(O,"Edge"),G=q||W,H=P(O,"Gecko")&&!(P(O.toLowerCase(),"webkit")&&!P(O,"Edge"))&&!(P(O,"Trident")||P(O,"MSIE"))&&!P(O,"Edge"),$=P(O.toLowerCase(),"webkit")&&!P(O,"Edge");function Z(){var e=d.document;return e?e.documentMode:void 0}e:{var K="",Y=(z=O,H?/rv:([^\);]+)(\)|;)/.exec(z):q?/Edge\/([\d\.]+)/.exec(z):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(z):$?/WebKit\/(\S+)/.exec(z):V?/(?:Version)[ \/]?(\S+)/.exec(z):void 0);if(Y&&(K=Y?Y[1]:""),W){var Q=Z();if(null!=Q&&Q>parseFloat(K)){B=String(Q);break e}}B=K}var X,J={};function ee(){return e=J,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=N(String(B)).split("."),n=N("9").split("."),r=Math.max(t.length,n.length);for(let s=0;0==e&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=A(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||A(0==i[2].length,0==o[2].length)||A(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}();var e}d.document&&W?X=Z()||parseInt(B,10)||void 0:X=void 0;var te=X,ne=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{d.addEventListener("test",h,t),d.removeEventListener("test",h,t)}catch(e){}return e}();function re(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ie(e,t){if(re.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(H){e:{try{j(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:oe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ie.Z.h.call(this)}}re.prototype.h=function(){this.defaultPrevented=!0},_(ie,re);var oe={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),ae=0;function le(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ae,this.ca=this.fa=!1}function ce(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ue(e){this.src=e,this.g={},this.h=0}function de(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=T(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ce(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function he(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}ue.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=he(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new le(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var fe="closure_lm_"+(1e6*Math.random()|0),pe={};function me(e,t,n,r,i){if(r&&r.once)return ve(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)me(e,t[o],n,r,i);return null}return n=Te(n),e&&e[se]?e.N(t,n,p(r)?!!r.capture:!!r,i):ge(e,t,n,!1,r,i)}function ge(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=Ee(e);if(a||(e[fe]=a=new ue(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=_e;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ne||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ve(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ve(e,t[o],n,r,i);return null}return n=Te(n),e&&e[se]?e.O(t,n,p(r)?!!r.capture:!!r,i):ge(e,t,n,!0,r,i)}function ye(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ye(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=Te(n),e&&e[se]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=he(o=e.g[t],n,r,i))&&(ce(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Ee(e))&&(t=e.g[t.toString()],e=-1,t&&(e=he(t,n,r,i)),(n=-1<e?t[e]:null)&&be(n))}function be(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[se])de(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ee(t))?(de(n,e),0==n.h&&(n.src=null,t[fe]=null)):ce(e)}}}function we(e){return e in pe?pe[e]:pe[e]="on"+e}function _e(e,t){if(e.ca)e=!0;else{t=new ie(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&be(e),e=n.call(r,t)}return e}function Ee(e){return(e=e[fe])instanceof ue?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(e){return"function"==typeof e?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function Se(){E.call(this),this.i=new ue(this),this.P=this,this.I=null}function ke(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new re(t,e);else if(t instanceof re)t.target=t.target||e;else{var i=t;U(t=new re(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Ie(s,r,!0,t)&&i}if(i=Ie(s=t.g=e,r,!0,t)&&i,i=Ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ie(s=t.g=n[o],r,!1,t)&&i}function Ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,l=s.ia||s.src;s.fa&&de(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}_(Se,E),Se.prototype[se]=!0,Se.prototype.removeEventListener=function(e,t,n,r){ye(this,e,t,n,r)},Se.prototype.M=function(){if(Se.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ce(n[r]);delete t.g[e],t.h--}}this.I=null},Se.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Se.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xe=d.JSON.stringify;function Oe(){var e=Me;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ne,Pe=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ae),(e=>e.reset()));class Ae{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Re(e){d.setTimeout((()=>{throw e}),0)}function De(e,t){Ne||function(){var e=d.Promise.resolve(void 0);Ne=function(){e.then(Fe)}}(),Le||(Ne(),Le=!0),Me.add(e,t)}var Le=!1,Me=new class{constructor(){this.h=this.g=null}add(e,t){const n=Pe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Fe(){for(var e;e=Oe();){try{e.h.call(e.g)}catch(e){Re(e)}var t=Pe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Le=!1}function Ue(e,t){Se.call(this),this.h=e||1,this.g=t||d,this.j=b(this.kb,this),this.l=Date.now()}function je(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Be(e,t,n){if("function"==typeof e)n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:d.setTimeout(e,t||0)}function ze(e){e.g=Be((()=>{e.g=null,e.i&&(e.i=!1,ze(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}_(Ue,Se),(r=Ue.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ke(this,"tick"),this.da&&(je(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Ue.Z.M.call(this),je(this),delete this.g};class Ve extends E{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ze(this)}M(){super.M(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function We(e){E.call(this),this.h=e,this.g={}}_(We,E);var qe=[];function Ge(e,t,n,r){Array.isArray(n)||(n&&(qe[0]=n.toString()),n=qe);for(var i=0;i<n.length;i++){var o=me(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function He(e){L(e.g,(function(e,t){this.g.hasOwnProperty(t)&&be(e)}),e),e.g={}}function $e(){this.g=!0}function Ze(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return xe(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}We.prototype.M=function(){We.Z.M.call(this),He(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Aa=function(){this.g=!1},$e.prototype.info=function(){};var Ke={},Ye=null;function Qe(){return Ye=Ye||new Se}function Xe(e){re.call(this,Ke.Ma,e)}function Je(e){const t=Qe();ke(t,new Xe(t,e))}function et(e,t){re.call(this,Ke.STAT_EVENT,e),this.stat=t}function tt(e){const t=Qe();ke(t,new et(t,e))}function nt(e,t){re.call(this,Ke.Na,e),this.size=t}function rt(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){e()}),t)}Ke.Ma="serverreachability",_(Xe,re),Ke.STAT_EVENT="statevent",_(et,re),Ke.Na="timingevent",_(nt,re);var it={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ot={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function st(){}function at(e){return e.h||(e.h=e.i())}function lt(){}st.prototype.h=null;var ct,ut={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dt(){re.call(this,"d")}function ht(){re.call(this,"c")}function ft(){}function pt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new We(this),this.P=gt,e=G?125:void 0,this.W=new Ue(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}_(dt,re),_(ht,re),_(ft,st),ft.prototype.g=function(){return new XMLHttpRequest},ft.prototype.i=function(){return{}},ct=new ft;var gt=45e3,vt={},yt={};function bt(e,t,n){e.K=1,e.v=Vt(Mt(t)),e.s=n,e.U=!0,wt(e,null)}function wt(e,t){e.F=Date.now(),Tt(e),e.A=Mt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),tn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new mt,e.g=nr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ve(b(e.Ia,e,e.g),e.O)),Ge(e.V,e.g,"readystatechange",e.gb),t=e.H?M(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Je(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function _t(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Et(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Ct(e,n),r==yt){4==t&&(e.o=4,tt(14),i=!1),Ze(e.j,e.m,null,"[Incomplete Response]");break}if(r==vt){e.o=4,tt(15),Ze(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ze(e.j,e.m,r,null),Ot(e,r)}_t(e)&&r!=yt&&r!=vt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,tt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zn(t),t.L=!0,tt(11))):(Ze(e.j,e.m,n,"[Invalid Chunked Response]"),xt(e),It(e))}function Ct(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?yt:(n=Number(t.substring(n,r)),isNaN(n)?vt:(r+=1)+n>t.length?yt:(t=t.substr(r,n),e.C=r+n,t))}function Tt(e){e.Y=Date.now()+e.P,St(e,e.P)}function St(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=rt(b(e.eb,e),t)}function kt(e){e.B&&(d.clearTimeout(e.B),e.B=null)}function It(e){0==e.l.G||e.I||Qn(e.l,e)}function xt(e){kt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,je(e.W),He(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ot(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ln(n.i,e)))if(n.I=e.N,!e.J&&ln(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Yn(n),jn(n)}$n(n),tt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=rt(b(n.ab,n),6e3));if(1>=an(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else Jn(n,11)}else if((e.J||n.g==e)&&Yn(n),!x(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;!o.g&&(P(e,"spdy")||P(e,"quic")||P(e,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(cn(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,zt(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var s=e;if((r=n).oa=tr(r,r.H?r.la:null,r.W),s.J){un(r.i,s);var a=s,l=r.K;l&&a.setTimeout(l),a.B&&(kt(a),Tt(a)),r.g=s}else Hn(r);0<n.l.length&&Vn(n)}else"stop"!=c[0]&&"close"!=c[0]||Jn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Jn(n,7):Un(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Je(4)}catch(e){}}function Nt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)S(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(f(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Pt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function At(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Rt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Rt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Rt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=pt.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;const t=this.L;t&&3==Rn(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{const u=Rn(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||G||this.g&&(this.h.h||this.g.ga()||Dn(this.g)))){this.I||4!=u||7==t||Je(8==t||0>=h?3:2),kt(this);var n=this.g.ba();this.N=n;t:if(_t(this)){var r=Dn(this.g);e="";var i=r.length,o=4==Rn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xt(this),It(this);var s="";break t}this.h.i=new d.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,tt(12),xt(this),It(this);break e}Ze(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ot(this,n)}this.U?(Et(this,u,s),G&&this.i&&3==u&&(Ge(this.V,this.W,"tick",this.fb),this.W.start())):(Ze(this.j,this.m,s,null),Ot(this,s)),4==u&&xt(this),this.i&&!this.I&&(4==u?Qn(this.l,this):(this.i=!1,Tt(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,tt(12)):(this.o=0,tt(13)),xt(this),It(this)}}}catch(e){}},r.fb=function(){if(this.g){var e=Rn(this.g),t=this.g.ga();this.C<t.length&&(kt(this),Et(this,e,t),this.i&&4!=e&&Tt(this))}},r.cancel=function(){this.I=!0,xt(this)},r.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Je(3),tt(17)),xt(this),this.o=2,It(this)):St(this,this.Y-e)},(r=Pt.prototype).R=function(){At(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return At(this),this.g.concat()},r.get=function(e,t){return Rt(this.h,e)?this.h[e]:t},r.set=function(e,t){Rt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Dt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Lt){this.g=void 0!==t?t:e.g,Ft(this,e.j),this.s=e.s,Ut(this,e.i),jt(this,e.m),this.l=e.l,t=e.h;var n=new Qt;n.i=t.i,t.g&&(n.g=new Pt(t.g),n.h=t.h),Bt(this,n),this.o=e.o}else e&&(n=String(e).match(Dt))?(this.g=!!t,Ft(this,n[1]||"",!0),this.s=Wt(n[2]||""),Ut(this,n[3]||"",!0),jt(this,n[4]),this.l=Wt(n[5]||"",!0),Bt(this,n[6]||"",!0),this.o=Wt(n[7]||"")):(this.g=!!t,this.h=new Qt(null,this.g))}function Mt(e){return new Lt(e)}function Ft(e,t,n){e.j=n?Wt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ut(e,t,n){e.i=n?Wt(t,!0):t}function jt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Bt(e,t,n){t instanceof Qt?(e.h=t,function(e,t){t&&!e.j&&(Xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jt(this,t),tn(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=qt(t,Kt)),e.h=new Qt(t,e.g))}function zt(e,t,n){e.h.set(t,n)}function Vt(e){return zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(qt(t,Ht,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(qt(t,Ht,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(qt(n,"/"==n.charAt(0)?Zt:$t,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",qt(n,Yt)),e.join("")};var Ht=/[#\/\?@]/g,$t=/[#\?:]/g,Zt=/[#\?]/g,Kt=/[#\?@]/g,Yt=/#/g;function Qt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xt(e){e.g||(e.g=new Pt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jt(e,t){Xt(e),t=nn(e,t),Rt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Rt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&At(e)))}function en(e,t){return Xt(e),t=nn(e,t),Rt(e.g.h,t)}function tn(e,t,n){Jt(e,t),0<n.length&&(e.i=null,e.g.set(nn(e,t),I(n)),e.h+=n.length)}function nn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function rn(e){this.l=e||on,e=d.PerformanceNavigationTiming?0<(e=d.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(d.g&&d.g.Ea&&d.g.Ea()&&d.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(r=Qt.prototype).add=function(e,t){Xt(this),this.i=null,e=nn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Xt(this),this.g.forEach((function(n,r){S(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.T=function(){Xt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},r.R=function(e){Xt(this);var t=[];if("string"==typeof e)en(this,e)&&(t=k(t,this.g.get(nn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=k(t,e[n])}return t},r.set=function(e,t){return Xt(this),this.i=null,en(this,e=nn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var on=10;function sn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function an(e){return e.h?1:e.g?e.g.size:0}function ln(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cn(e,t){e.g?e.g.add(t):e.h=t}function un(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return I(e.i)}function hn(){}function fn(){this.g=new hn}function pn(e,t,n){const r=n||"";try{Nt(e,(function(e,n){let i=e;p(e)&&(i=xe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function mn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function gn(e){this.l=e.$b||null,this.j=e.ib||!1}function vn(e,t){Se.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=yn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},hn.prototype.stringify=function(e){return d.JSON.stringify(e,void 0)},hn.prototype.parse=function(e){return d.JSON.parse(e,void 0)},_(gn,st),gn.prototype.g=function(){return new vn(this.l,this.j)},gn.prototype.i=function(e){return function(){return e}}({}),_(vn,Se);var yn=0;function bn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function wn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_n(e)}function _n(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=vn.prototype).open=function(e,t){if(this.readyState!=yn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_n(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||d).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wn(this)),this.readyState=yn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==d.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?wn(this):_n(this),3==this.readyState&&bn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,wn(this))},r.Ta=function(e){this.g&&(this.response=e,wn(this))},r.ha=function(){this.g&&wn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var En=d.JSON.parse;function Cn(e){Se.call(this),this.headers=new Pt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tn,this.K=this.L=!1}_(Cn,Se);var Tn="",Sn=/^https?$/i,kn=["POST","PUT"];function In(e){return"content-type"==e.toLowerCase()}function xn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,On(e),Pn(e)}function On(e){e.D||(e.D=!0,ke(e,"complete"),ke(e,"error"))}function Nn(e){if(e.h&&void 0!==u&&(!e.C[1]||4!=Rn(e)||2!=e.ba()))if(e.v&&4==Rn(e))Be(e.Fa,0,e);else if(ke(e,"readystatechange"),4==Rn(e)){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.H).match(Dt)[1]||null;if(!i&&d.self&&d.self.location){var o=d.self.location.protocol;i=o.substr(0,o.length-1)}r=!Sn.test(i?i.toLowerCase():"")}n=r}if(n)ke(e,"complete"),ke(e,"success");else{e.m=6;try{var s=2<Rn(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",On(e)}}finally{Pn(e)}}}function Pn(e,t){if(e.g){An(e);const n=e.g,r=e.C[0]?h:null;e.g=null,e.C=null,t||ke(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function An(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(d.clearTimeout(e.A),e.A=null)}function Rn(e){return e.g?e.g.readyState:0}function Dn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Tn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ln(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return L(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):zt(e,t,n))}function Mn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fn(e){this.za=0,this.l=[],this.h=new $e,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Mn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Mn("baseRetryDelayMs",5e3,e),this.$a=Mn("retryDelaySeedMs",1e4,e),this.Ya=Mn("forwardChannelMaxRetries",2,e),this.ra=Mn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new rn(e&&e.concurrentRequestLimit),this.Ca=new fn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Un(e){if(Bn(e),3==e.G){var t=e.V++,n=Mt(e.F);zt(n,"SID",e.J),zt(n,"RID",t),zt(n,"TYPE","terminate"),qn(e,n),(t=new pt(e,e.h,t,void 0)).K=2,t.v=Vt(Mt(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(t.v.toString(),"")),!n&&d.Image&&((new Image).src=t.v,n=!0),n||(t.g=nr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Tt(t)}er(e)}function jn(e){e.g&&(Zn(e),e.g.cancel(),e.g=null)}function Bn(e){jn(e),e.u&&(d.clearTimeout(e.u),e.u=null),Yn(e),e.i.cancel(),e.m&&("number"==typeof e.m&&d.clearTimeout(e.m),e.m=null)}function zn(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Vn(e)}function Vn(e){sn(e.i)||e.m||(e.m=!0,De(e.Ha,e),e.C=0)}function Wn(e,t){var n;n=t?t.m:e.V++;const r=Mt(e.F);zt(r,"SID",e.J),zt(r,"RID",n),zt(r,"AID",e.U),qn(e,r),e.o&&e.s&&Ln(r,e.o,e.s),n=new pt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Gn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),cn(e.i,n),bt(n,r,t)}function qn(e,t){e.j&&Nt({},(function(e,n){zt(t,n,e)}))}function Gn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?b(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=t,0>n)t=Math.max(0,i[s].h-100),o=!1;else try{pn(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Hn(e){e.g||e.u||(e.Y=1,De(e.Ga,e),e.A=0)}function $n(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=rt(b(e.Ga,e),Xn(e,e.A)),e.A++,0))}function Zn(e){null!=e.B&&(d.clearTimeout(e.B),e.B=null)}function Kn(e){e.g=new pt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Mt(e.oa);zt(t,"RID","rpc"),zt(t,"SID",e.J),zt(t,"CI",e.N?"0":"1"),zt(t,"AID",e.U),qn(e,t),zt(t,"TYPE","xmlhttp"),e.o&&e.s&&Ln(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Vt(Mt(t)),n.s=null,n.U=!0,wt(n,e)}function Yn(e){null!=e.v&&(d.clearTimeout(e.v),e.v=null)}function Qn(e,t){var n=null;if(e.g==t){Yn(e),Zn(e),e.g=null;var r=2}else{if(!ln(e.i,t))return;n=t.D,un(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ke(r=Qe(),new nt(r,n,t,i)),Vn(e)}else Hn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(an(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=rt(b(e.Ha,e,t),Xn(e,e.C)),e.C++,0)))}(e,t)||2==r&&$n(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Jn(e,5);break;case 4:Jn(e,10);break;case 3:Jn(e,6);break;default:Jn(e,2)}}function Xn(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Jn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=b(e.jb,e);n||(n=new Lt("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Ft(n,"https"),Vt(n)),function(e,t){const n=new $e;if(d.Image){const r=new Image;r.onload=w(mn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(mn,n,r,"TestLoadImage: error",!1,t),r.onabort=w(mn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(mn,n,r,"TestLoadImage: timeout",!1,t),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else tt(2);e.G=0,e.j&&e.j.va(t),er(e),Bn(e)}function er(e){e.G=0,e.I=-1,e.j&&(0==dn(e.i).length&&0==e.l.length||(e.i.i.length=0,I(e.l),e.l.length=0),e.j.ua())}function tr(e,t,n){let r=function(e){return e instanceof Lt?Mt(e):new Lt(e,void 0)}(n);if(""!=r.i)t&&Ut(r,t+"."+r.i),jt(r,r.m);else{const e=d.location;r=function(e,t,n,r){var i=new Lt(null,void 0);return e&&Ft(i,e),t&&Ut(i,t),n&&jt(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&L(e.aa,(function(e,t){zt(r,t,e)})),t=e.D,n=e.sa,t&&n&&zt(r,t,n),zt(r,"VER",e.ma),qn(e,r),r}function nr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Cn(new gn({ib:!0})):new Cn(e.qa)).L=e.H,t}function rr(){}function ir(){if(W&&!(10<=Number(te)))throw Error("Environmental error: no available transport.")}function or(e,t){Se.call(this),this.g=new Fn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!x(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!x(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new lr(this)}function sr(e){dt.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ar(){ht.call(this),this.status=1}function lr(e){this.g=e}(r=Cn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ct.g(),this.C=this.u?at(this.u):at(ct),this.g.onreadystatechange=b(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void xn(this,e)}e=n||"";const i=new Pt(this.headers);r&&Nt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=In;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=d.FormData&&e instanceof d.FormData,!(0<=T(kn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{An(this),0<this.B&&((this.K=function(e){return W&&ee()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.pa,this)):this.A=Be(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){xn(this,e)}},r.pa=function(){void 0!==u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ke(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ke(this,"complete"),ke(this,"abort"),Pn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pn(this,!0)),Cn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Nn(this):this.cb())},r.cb=function(){Nn(this)},r.ba=function(){try{return 2<Rn(this)?this.g.status:-1}catch(e){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},r.Da=function(){return this.m},r.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=Fn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new pt(this,this.h,e,void 0);let o=this.s;if(this.P&&(o?(o=M(o),U(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Gn(this,i,t),zt(n=Mt(this.F),"RID",e),zt(n,"CVER",22),this.D&&zt(n,"X-HTTP-Session-Id",this.D),qn(this,n),this.o&&o&&Ln(n,this.o,o),cn(this.i,i),this.Ra&&zt(n,"TYPE","init"),this.ja?(zt(n,"$req",t),zt(n,"SID","null"),i.$=!0,bt(i,n,null)):bt(i,n,t),this.G=2}}else 3==this.G&&(e?Wn(this,e):0==this.l.length||sn(this.i)||Wn(this))},r.Ga=function(){if(this.u=null,Kn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=rt(b(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,tt(10),jn(this),Kn(this))},r.ab=function(){null!=this.v&&(this.v=null,jn(this),$n(this),tt(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),tt(2)):(this.h.info("Failed to ping google.com"),tt(1))},(r=rr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},ir.prototype.g=function(e,t){return new or(e,t)},_(or,Se),or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),De(b(e.hb,e,t))),tt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tr(e,null,e.W),Vn(e)},or.prototype.close=function(){Un(this.g)},or.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,zn(this.g,t)}else this.v?((t={}).__data__=xe(e),zn(this.g,t)):zn(this.g,e)},or.prototype.M=function(){this.g.j=null,delete this.j,Un(this.g),delete this.g,or.Z.M.call(this)},_(sr,dt),_(ar,ht),_(lr,rr),lr.prototype.xa=function(){ke(this.g,"a")},lr.prototype.wa=function(e){ke(this.g,new sr(e))},lr.prototype.va=function(e){ke(this.g,new ar(e))},lr.prototype.ua=function(){ke(this.g,"b")},ir.prototype.createWebChannel=ir.prototype.g,or.prototype.send=or.prototype.u,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,it.NO_ERROR=0,it.TIMEOUT=8,it.HTTP_ERROR=6,ot.COMPLETE="complete",lt.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",Se.prototype.listen=Se.prototype.N,Cn.prototype.listenOnce=Cn.prototype.O,Cn.prototype.getLastError=Cn.prototype.La,Cn.prototype.getLastErrorCode=Cn.prototype.Da,Cn.prototype.getStatus=Cn.prototype.ba,Cn.prototype.getResponseJson=Cn.prototype.Qa,Cn.prototype.getResponseText=Cn.prototype.ga,Cn.prototype.send=Cn.prototype.ea;var cr=c.createWebChannelTransport=function(){return new ir},ur=c.getStatEventTarget=function(){return Qe()},dr=c.ErrorCode=it,hr=c.EventType=ot,fr=c.Event=Ke,pr=c.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mr=c.FetchXmlHttpFactory=gn,gr=c.WebChannel=lt,vr=c.XhrIo=Cn;class yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let br="9.1.0";const wr=new s.Yd("@firebase/firestore");function _r(){return wr.logLevel}function Er(e,...t){if(wr.logLevel<=s.in.DEBUG){const n=t.map(Sr);wr.debug(`Firestore (${br}): ${e}`,...n)}}function Cr(e,...t){if(wr.logLevel<=s.in.ERROR){const n=t.map(Sr);wr.error(`Firestore (${br}): ${e}`,...n)}}function Tr(e,...t){if(wr.logLevel<=s.in.WARN){const n=t.map(Sr);wr.warn(`Firestore (${br}): ${e}`,...n)}}function Sr(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function kr(e="Unexpected state"){const t=`FIRESTORE (${br}) INTERNAL ASSERTION FAILED: `+e;throw Cr(t),new Error(t)}function Ir(e,t){e||kr()}function xr(e,t){return e}const Or={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nr extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ar{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Rr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(yr.UNAUTHENTICATED)))}shutdown(){}}class Dr{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pr,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Er("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Er("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pr)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Er("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ir("string"==typeof t.accessToken),new Ar(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ir(null===e||"string"==typeof e),new yr(e)}}class Lr{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=yr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Mr{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Lr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(yr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Ur(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}Fr.T=-1;class jr{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Ur(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Br(e,t){return e<t?-1:e>t?1:0}function zr(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vr.fromMillis(Date.now())}static fromDate(e){return Vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Vr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Br(this.nanoseconds,e.nanoseconds):Br(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wr(e)}static min(){return new Wr(new Vr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function qr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Hr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class $r{constructor(e,t,n){void 0===t?t=0:t>e.length&&kr(),void 0===n?n=e.length-t:n>e.length-t&&kr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===$r.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zr extends $r{construct(e,t,n){return new Zr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Nr(Or.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Zr(t)}static emptyPath(){return new Zr([])}}const Kr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yr extends $r{construct(e,t,n){return new Yr(e,t,n)}static isValidIdentifier(e){return Kr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yr(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Nr(Or.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Nr(Or.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Nr(Or.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Nr(Or.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yr(t)}static emptyPath(){return new Yr([])}}class Qr{constructor(e){this.fields=e,e.sort(Yr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xr(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Br(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xr.EMPTY_BYTE_STRING=new Xr("");const Jr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(e){if(Ir(!!e),"string"==typeof e){let t=0;const n=Jr.exec(e);if(Ir(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ti(e.seconds),nanos:ti(e.nanos)}}function ti(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ni(e){return"string"==typeof e?Xr.fromBase64String(e):Xr.fromUint8Array(e)}function ri(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ii(e){const t=e.mapValue.fields.__previous_value__;return ri(t)?ii(t):t}function oi(e){const t=ei(e.mapValue.fields.__local_write_time__.timestampValue);return new Vr(t.seconds,t.nanos)}function si(e){return null==e}function ai(e){return 0===e&&1/e==-1/0}class li{constructor(e){this.path=e}static fromPath(e){return new li(Zr.fromString(e))}static fromName(e){return new li(Zr.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Zr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new li(new Zr(e.slice()))}}function ci(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ri(e)?4:10:kr()}function ui(e,t){const n=ci(e);if(n!==ci(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oi(e).isEqual(oi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ei(e.timestampValue),r=ei(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ni(e.bytesValue).isEqual(ni(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ti(e.geoPointValue.latitude)===ti(t.geoPointValue.latitude)&&ti(e.geoPointValue.longitude)===ti(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ti(e.integerValue)===ti(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ti(e.doubleValue),r=ti(t.doubleValue);return n===r?ai(n)===ai(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zr(e.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qr(n)!==qr(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!ui(n[e],r[e])))return!1;return!0}(e,t);default:return kr()}}function di(e,t){return void 0!==(e.values||[]).find((e=>ui(e,t)))}function hi(e,t){const n=ci(e),r=ci(t);if(n!==r)return Br(n,r);switch(n){case 0:return 0;case 1:return Br(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ti(e.integerValue||e.doubleValue),r=ti(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fi(e.timestampValue,t.timestampValue);case 4:return fi(oi(e),oi(t));case 5:return Br(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ni(e),r=ni(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Br(n[e],r[e]);if(0!==t)return t}return Br(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Br(ti(e.latitude),ti(t.latitude));return 0!==n?n:Br(ti(e.longitude),ti(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=hi(n[e],r[e]);if(t)return t}return Br(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=Br(r[e],o[e]);if(0!==t)return t;const s=hi(n[r[e]],i[o[e]]);if(0!==s)return s}return Br(r.length,o.length)}(e.mapValue,t.mapValue);default:throw kr()}}function fi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Br(e,t);const n=ei(e),r=ei(t),i=Br(n.seconds,r.seconds);return 0!==i?i:Br(n.nanos,r.nanos)}function pi(e){return mi(e)}function mi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ei(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ni(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,li.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=mi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${mi(e.fields[i])}`;return n+"}"}(e.mapValue):kr();var t,n}function gi(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function vi(e){return!!e&&"integerValue"in e}function yi(e){return!!e&&"arrayValue"in e}function bi(e){return!!e&&"nullValue"in e}function wi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _i(e){return!!e&&"mapValue"in e}function Ei(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Gr(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ei(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ei(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!_i(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ei(t)}setAll(e){let t=Yr.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ei(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());_i(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];_i(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Gr(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Ci(Ei(this.value))}}function Ti(e){const t=[];return Gr(e.fields,((e,n)=>{const r=new Yr([e]);if(_i(n)){const e=Ti(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Qr(t)}class Si{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Si(e,0,Wr.min(),Ci.empty(),0)}static newFoundDocument(e,t,n){return new Si(e,1,t,n,0)}static newNoDocument(e,t){return new Si(e,2,t,Ci.empty(),0)}static newUnknownDocument(e,t){return new Si(e,3,t,Ci.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Si(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ki{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.A=null}}function Ii(e,t=null,n=[],r=[],i=null,o=null,s=null){return new ki(e,t,n,r,i,o,s)}function xi(e){const t=xr(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+pi(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),si(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=zi(t.startAt)),t.endAt&&(e+="|ub:",e+=zi(t.endAt)),t.A=e}return t.A}function Oi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Wi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!ui(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gi(e.startAt,t.startAt)&&Gi(e.endAt,t.endAt)}function Ni(e){return li.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Pi extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Ai(e,t,n):"array-contains"===t?new Mi(e,n):"in"===t?new Fi(e,n):"not-in"===t?new Ui(e,n):"array-contains-any"===t?new ji(e,n):new Pi(e,t,n)}static R(e,t,n){return"in"===t?new Ri(e,n):new Di(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(hi(t,this.value)):null!==t&&ci(this.value)===ci(t)&&this.P(hi(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return kr()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ai extends Pi{constructor(e,t,n){super(e,t,n),this.key=li.fromName(n.referenceValue)}matches(e){const t=li.comparator(e.key,this.key);return this.P(t)}}class Ri extends Pi{constructor(e,t){super(e,"in",t),this.keys=Li(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Di extends Pi{constructor(e,t){super(e,"not-in",t),this.keys=Li(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Li(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>li.fromName(e.referenceValue)))}class Mi extends Pi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yi(t)&&di(t.arrayValue,this.value)}}class Fi extends Pi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&di(this.value.arrayValue,t)}}class Ui extends Pi{constructor(e,t){super(e,"not-in",t)}matches(e){if(di(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!di(this.value.arrayValue,t)}}class ji extends Pi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yi(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>di(this.value.arrayValue,e)))}}class Bi{constructor(e,t){this.position=e,this.before=t}}function zi(e){return`${e.before?"b":"a"}:${e.position.map((e=>pi(e))).join(",")}`}class Vi{constructor(e,t="asc"){this.field=e,this.dir=t}}function Wi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function qi(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?li.comparator(li.fromName(s.referenceValue),n.key):hi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Gi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ui(e.position[n],t.position[n]))return!1;return!0}class Hi{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.V=null,this.S=null,this.startAt,this.endAt}}function $i(e){return new Hi(e)}function Zi(e){return!si(e.limit)&&"F"===e.limitType}function Ki(e){return!si(e.limit)&&"L"===e.limitType}function Yi(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qi(e){for(const t of e.filters)if(t.v())return t.field;return null}function Xi(e){return null!==e.collectionGroup}function Ji(e){const t=xr(e);if(null===t.V){t.V=[];const e=Qi(t),n=Yi(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new Vi(e)),t.V.push(new Vi(Yr.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Vi(Yr.keyField(),e))}}}return t.V}function eo(e){const t=xr(e);if(!t.S)if("F"===t.limitType)t.S=Ii(t.path,t.collectionGroup,Ji(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Ji(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Vi(n.field,t))}const n=t.endAt?new Bi(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Bi(t.startAt.position,!t.startAt.before):null;t.S=Ii(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function to(e,t,n){return new Hi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function no(e,t){return Oi(eo(e),eo(t))&&e.limitType===t.limitType}function ro(e){return`${xi(eo(e))}|lt:${e.limitType}`}function io(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${pi(t.value)}`;var t})).join(", ")}]`),si(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+zi(e.startAt)),e.endAt&&(t+=", endAt: "+zi(e.endAt)),`Target(${t})`}(eo(e))}; limitType=${e.limitType})`}function oo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):li.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!qi(e.startAt,Ji(e),t)||e.endAt&&qi(e.endAt,Ji(e),t))}(e,t)}function so(e){return(t,n)=>{let r=!1;for(const i of Ji(e)){const e=ao(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ao(e,t,n){const r=e.field.isKeyField()?li.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hi(r,i):kr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return kr()}}function lo(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ai(t)?"-0":t}}function co(e){return{integerValue:""+e}}function uo(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!ai(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?co(t):lo(e,t)}class ho{constructor(){this._=void 0}}function fo(e,t,n){return e instanceof go?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vo?yo(e,t):e instanceof bo?wo(e,t):function(e,t){const n=mo(e,t),r=Eo(n)+Eo(e.C);return vi(n)&&vi(e.C)?co(r):lo(e.N,r)}(e,t)}function po(e,t,n){return e instanceof vo?yo(e,t):e instanceof bo?wo(e,t):n}function mo(e,t){return e instanceof _o?vi(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class go extends ho{}class vo extends ho{constructor(e){super(),this.elements=e}}function yo(e,t){const n=Co(t);for(const t of e.elements)n.some((e=>ui(e,t)))||n.push(t);return{arrayValue:{values:n}}}class bo extends ho{constructor(e){super(),this.elements=e}}function wo(e,t){let n=Co(t);for(const t of e.elements)n=n.filter((e=>!ui(e,t)));return{arrayValue:{values:n}}}class _o extends ho{constructor(e,t){super(),this.N=e,this.C=t}}function Eo(e){return ti(e.integerValue||e.doubleValue)}function Co(e){return yi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class To{constructor(e,t){this.field=e,this.transform=t}}class So{constructor(e,t){this.version=e,this.transformResults=t}}class ko{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ko}static exists(e){return new ko(void 0,e)}static updateTime(e){return new ko(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Io(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xo{}function Oo(e,t,n){e instanceof Do?function(e,t,n){const r=e.value.clone(),i=Fo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lo?function(e,t,n){if(!Io(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Fo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function No(e,t,n){e instanceof Do?function(e,t,n){if(!Io(e.precondition,t))return;const r=e.value.clone(),i=Uo(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ro(t),r).setHasLocalMutations()}(e,t,n):e instanceof Lo?function(e,t,n){if(!Io(e.precondition,t))return;const r=Uo(e.fieldTransforms,n,t),i=t.data;i.setAll(Mo(e)),i.setAll(r),t.convertToFoundDocument(Ro(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Io(e.precondition,t)&&t.convertToNoDocument(Wr.min())}(e,t)}function Po(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=mo(r.transform,e||null);null!=i&&(null==n&&(n=Ci.empty()),n.set(r.field,i))}return n||null}function Ao(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zr(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vo&&t instanceof vo||e instanceof bo&&t instanceof bo?zr(e.elements,t.elements,ui):e instanceof _o&&t instanceof _o?ui(e.C,t.C):e instanceof go&&t instanceof go}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ro(e){return e.isFoundDocument()?e.version:Wr.min()}class Do extends xo{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Lo extends xo{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Mo(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Fo(e,t,n){const r=new Map;Ir(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,po(s,a,n[i]))}return r}function Uo(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,fo(e,o,t))}return r}class jo extends xo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Bo extends xo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class zo{constructor(e){this.count=e}}var Vo,Wo;function qo(e){if(void 0===e)return Cr("GRPC error has no .code"),Or.UNKNOWN;switch(e){case Vo.OK:return Or.OK;case Vo.CANCELLED:return Or.CANCELLED;case Vo.UNKNOWN:return Or.UNKNOWN;case Vo.DEADLINE_EXCEEDED:return Or.DEADLINE_EXCEEDED;case Vo.RESOURCE_EXHAUSTED:return Or.RESOURCE_EXHAUSTED;case Vo.INTERNAL:return Or.INTERNAL;case Vo.UNAVAILABLE:return Or.UNAVAILABLE;case Vo.UNAUTHENTICATED:return Or.UNAUTHENTICATED;case Vo.INVALID_ARGUMENT:return Or.INVALID_ARGUMENT;case Vo.NOT_FOUND:return Or.NOT_FOUND;case Vo.ALREADY_EXISTS:return Or.ALREADY_EXISTS;case Vo.PERMISSION_DENIED:return Or.PERMISSION_DENIED;case Vo.FAILED_PRECONDITION:return Or.FAILED_PRECONDITION;case Vo.ABORTED:return Or.ABORTED;case Vo.OUT_OF_RANGE:return Or.OUT_OF_RANGE;case Vo.UNIMPLEMENTED:return Or.UNIMPLEMENTED;case Vo.DATA_LOSS:return Or.DATA_LOSS;default:return kr()}}(Wo=Vo||(Vo={}))[Wo.OK=0]="OK",Wo[Wo.CANCELLED=1]="CANCELLED",Wo[Wo.UNKNOWN=2]="UNKNOWN",Wo[Wo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wo[Wo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wo[Wo.NOT_FOUND=5]="NOT_FOUND",Wo[Wo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wo[Wo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wo[Wo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wo[Wo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wo[Wo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wo[Wo.ABORTED=10]="ABORTED",Wo[Wo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wo[Wo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wo[Wo.INTERNAL=13]="INTERNAL",Wo[Wo.UNAVAILABLE=14]="UNAVAILABLE",Wo[Wo.DATA_LOSS=15]="DATA_LOSS";class Go{constructor(e,t){this.comparator=e,this.root=t||$o.EMPTY}insert(e,t){return new Go(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$o.BLACK,null,null))}remove(e){return new Go(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$o.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ho(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ho(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ho(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ho(this.root,e,this.comparator,!0)}}class Ho{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $o{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:$o.RED,this.left=null!=r?r:$o.EMPTY,this.right=null!=i?i:$o.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new $o(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $o.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return $o.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$o.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kr();if(this.right.isRed())throw kr();const e=this.left.check();if(e!==this.right.check())throw kr();return e+(this.isRed()?0:1)}}$o.EMPTY=null,$o.RED=!0,$o.BLACK=!1,$o.EMPTY=new class{constructor(){this.size=0}get key(){throw kr()}get value(){throw kr()}get color(){throw kr()}get left(){throw kr()}get right(){throw kr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new $o(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zo{constructor(e){this.comparator=e,this.data=new Go(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ko(this.data.getIterator())}getIteratorFrom(e){return new Ko(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Zo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Zo(this.comparator);return t.data=e,t}}class Ko{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Yo=new Go(li.comparator);function Qo(){return Yo}const Xo=new Go(li.comparator);function Jo(){return Xo}const es=new Go(li.comparator);const ts=new Zo(li.comparator);function ns(...e){let t=ts;for(const n of e)t=t.add(n);return t}const rs=new Zo(Br);function is(){return rs}class os{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,ss.createSynthesizedTargetChangeForCurrentChange(e,t)),new os(Wr.min(),n,is(),Qo(),ns())}}class ss{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ss(Xr.EMPTY_BYTE_STRING,t,ns(),ns(),ns())}}class as{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class ls{constructor(e,t){this.targetId=e,this.O=t}}class cs{constructor(e,t,n=Xr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class us{constructor(){this.F=0,this.M=fs(),this.L=Xr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=ns(),t=ns(),n=ns();return this.M.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:kr()}})),new ss(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=fs()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class ds{constructor(e){this.tt=e,this.et=new Map,this.nt=Qo(),this.st=hs(),this.it=new Zo(Br)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,(t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:kr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach(((e,n)=>{this.ht(n)&&t(n)}))}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(Ni(e))if(0===n){const n=new li(e.path);this.at(t,n,Si.newNoDocument(n,Wr.min()))}else Ir(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach(((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Ni(i.target)){const t=new li(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,Si.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}}));let n=ns();this.st.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new os(e,t,this.it,this.nt,n);return this.nt=Qo(),this.st=hs(),this.it=new Zo(Br),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new us,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Zo(Br),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Er("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new us),this.tt.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function hs(){return new Go(li.comparator)}function fs(){return new Go(li.comparator)}const ps={asc:"ASCENDING",desc:"DESCENDING"},ms={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gs{constructor(e,t){this.databaseId=e,this.D=t}}function vs(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ys(e,t){return e.D?t.toBase64():t.toUint8Array()}function bs(e,t){return vs(e,t.toTimestamp())}function ws(e){return Ir(!!e),Wr.fromTimestamp(function(e){const t=ei(e);return new Vr(t.seconds,t.nanos)}(e))}function _s(e,t){return function(e){return new Zr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Es(e){const t=Zr.fromString(e);return Ir(Vs(t)),t}function Cs(e,t){return _s(e.databaseId,t.path)}function Ts(e,t){const n=Es(t);if(n.get(1)!==e.databaseId.projectId)throw new Nr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new li(Is(n))}function Ss(e,t){return _s(e.databaseId,t)}function ks(e){return new Zr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Is(e){return Ir(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function xs(e,t,n){return{name:Cs(e,t),fields:n.value.mapValue.fields}}function Os(e,t){return{documents:[Ss(e,t.path)]}}function Ns(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ss(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ss(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(wi(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NAN"}};if(bi(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wi(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NOT_NAN"}};if(bi(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(e.field),op:Ms(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Fs(e.field),direction:Ls(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.D||si(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=Rs(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Rs(t.endAt)),n}function Ps(e){let t=function(e){const t=Es(e);return 4===t.length?Zr.emptyPath():Is(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ir(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=As(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new Vi(Us(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,si(t)?null:t}(n.limit));let l=null;n.startAt&&(l=Ds(n.startAt));let c=null;return n.endAt&&(c=Ds(n.endAt)),function(e,t,n,r,i,o,s,a){return new Hi(e,t,n,r,i,o,s,a)}(t,i,s,o,a,"F",l,c)}function As(e){return e?void 0!==e.unaryFilter?[Bs(e)]:void 0!==e.fieldFilter?[js(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>As(e))).reduce(((e,t)=>e.concat(t))):kr():[]}function Rs(e){return{before:e.before,values:e.position}}function Ds(e){const t=!!e.before,n=e.values||[];return new Bi(n,t)}function Ls(e){return ps[e]}function Ms(e){return ms[e]}function Fs(e){return{fieldPath:e.canonicalString()}}function Us(e){return Yr.fromServerFormat(e.fieldPath)}function js(e){return Pi.create(Us(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kr()}}(e.fieldFilter.op),e.fieldFilter.value)}function Bs(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Us(e.unaryFilter.field);return Pi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Us(e.unaryFilter.field);return Pi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Us(e.unaryFilter.field);return Pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Us(e.unaryFilter.field);return Pi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return kr()}}function zs(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Vs(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ws(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Gs(t)),t=qs(e.get(n),t);return Gs(t)}function qs(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Gs(e){return e+""}class Hs{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Hs.store="owner",Hs.key="owner";class $s{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}$s.store="mutationQueues",$s.keyPath="userId";class Zs{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Zs.store="mutations",Zs.keyPath="batchId",Zs.userMutationsIndex="userMutationsIndex",Zs.userMutationsKeyPath=["userId","batchId"];class Ks{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Ws(t)]}static key(e,t,n){return[e,Ws(t),n]}}Ks.store="documentMutations",Ks.PLACEHOLDER=new Ks;class Ys{constructor(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}}Ys.store="remoteDocuments",Ys.readTimeIndex="readTimeIndex",Ys.readTimeIndexPath="readTime",Ys.collectionReadTimeIndex="collectionReadTimeIndex",Ys.collectionReadTimeIndexPath=["parentPath","readTime"];class Qs{constructor(e){this.byteSize=e}}Qs.store="remoteDocumentGlobal",Qs.key="remoteDocumentGlobalKey";class Xs{constructor(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}}Xs.store="targets",Xs.keyPath="targetId",Xs.queryTargetsIndexName="queryTargetsIndex",Xs.queryTargetsKeyPath=["canonicalId","targetId"];class Js{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Js.store="targetDocuments",Js.keyPath=["targetId","path"],Js.documentTargetsIndex="documentTargetsIndex",Js.documentTargetsKeyPath=["path","targetId"];class ea{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}ea.key="targetGlobalKey",ea.store="targetGlobal";class ta{constructor(e,t){this.collectionId=e,this.parent=t}}ta.store="collectionParents",ta.keyPath=["collectionId","parent"];class na{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}na.store="clientMetadata",na.keyPath="clientId";class ra{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}ra.store="bundles",ra.keyPath="bundleId";class ia{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}ia.store="namedQueries",ia.keyPath="name",$s.store,Zs.store,Ks.store,Ys.store,Xs.store,Hs.store,ea.store,Js.store,na.store,Qs.store,ta.store,ra.store,ia.store;class oa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&kr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oa(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oa?t:oa.resolve(t)}catch(e){return oa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oa.reject(t)}static resolve(e){return new oa(((t,n)=>{t(e)}))}static reject(e){return new oa(((t,n)=>{n(e)}))}static waitFor(e){return new oa(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=oa.resolve(!1);for(const n of e)t=t.next((e=>e?oa.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}function sa(e){return"IndexedDbTransactionError"===e.name}class aa{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Oo(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&No(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&No(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Wr.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ns())}isEqual(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,((e,t)=>Ao(e,t)))&&zr(this.baseMutations,e.baseMutations,((e,t)=>Ao(e,t)))}}class la{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ir(e.mutations.length===n.length);let r=es;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new la(e,t,n,r)}}class ca{constructor(e,t,n,r,i=Wr.min(),o=Wr.min(),s=Xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ua{constructor(e){this.Wt=e}}function da(e){const t=Ps({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?to(t,t.limit,"L"):t}class ha{constructor(){this.Gt=new fa}addToCollectionParentIndex(e,t){return this.Gt.add(t),oa.resolve()}getCollectionParents(e,t){return oa.resolve(this.Gt.getEntries(t))}}class fa{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zo(Zr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Zo(Zr.comparator)).toArray()}}class pa{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new pa(e,pa.DEFAULT_COLLECTION_PERCENTILE,pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pa.DEFAULT_COLLECTION_PERCENTILE=10,pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pa.DEFAULT=new pa(41943040,pa.DEFAULT_COLLECTION_PERCENTILE,pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pa.DISABLED=new pa(-1,0,0);class ma{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new ma(0)}static ie(){return new ma(-1)}}async function ga(e){if(e.code!==Or.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;Er("LocalStore","Unexpectedly lost primary lease")}class va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Gr(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return Hr(this.inner)}}class ya{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Rn(e,t,n)))}Rn(e,t,n){return this.He.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}Pn(e,t){return this.He.getEntries(e,t).next((t=>this.vn(e,t).next((()=>t))))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return li.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):Xi(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new li(t)).next((e=>{let t=Jo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Sn(e,t,n){const r=t.collectionGroup;let i=Jo();return this.Ht.getCollectionParents(e,r).next((o=>oa.forEach(o,(o=>{const s=function(e,t){return new Hi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.Dn(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Cn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Si.newInvalidDocument(n),r=r.insert(n,i)),No(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{oo(t,n)||(r=r.remove(e))})),r)))}Cn(e,t,n){let r=ns();for(const e of t)for(const t of e.mutations)t instanceof Lo&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class ba{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=ns(),r=ns();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new ba(e,t.fromCache,n,r)}}class wa{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Wr.min())?this.Fn(e,t):this.On.Pn(e,r).next((i=>{const o=this.Mn(t,i);return(Zi(t)||Ki(t))&&this.Ln(t.limitType,o,r,n)?this.Fn(e,t):(_r()<=s.in.DEBUG&&Er("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),io(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(o.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Mn(e,t){let n=new Zo(so(e));return t.forEach(((t,r)=>{oo(e,r)&&(n=n.add(r))})),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return _r()<=s.in.DEBUG&&Er("QueryEngine","Using full collection scan to execute query:",io(t)),this.On.getDocumentsMatchingQuery(e,t,Wr.min())}}class _a{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new Go(Br),this.qn=new va((e=>xi(e)),Oi),this.Kn=Wr.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new ya(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Un)))}}async function Ea(e,t){const n=xr(e);let r=n.In,i=n.Qn;const o=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let o;return n.In.getAllMutationBatches(e).next((s=>(o=s,r=n.persistence.getMutationQueue(t),i=new ya(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let s=ns();for(const e of o){n.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return i.Pn(e,s).next((e=>({Wn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),o}function Ca(e){const t=xr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ze.getLastRemoteSnapshotVersion(e)))}function Ta(e,t){const n=xr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t))))}async function Sa(e,t,n){const r=xr(e),i=r.Un.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!sa(e))throw e;Er("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function ka(e,t,n){const r=xr(e);let i=Wr.min(),o=ns();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=xr(e),i=r.qn.get(n);return void 0!==i?oa.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,eo(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:Wr.min(),n?o:ns()))).next((e=>({documents:e,Gn:o})))))}class Ia{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return oa.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:ws(n.createTime)}),oa.resolve()}getNamedQuery(e,t){return oa.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:da(e.bundledQuery),readTime:ws(e.readTime)}}(t)),oa.resolve()}}class xa{constructor(){this.Zn=new Zo(Oa.ts),this.es=new Zo(Oa.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new Oa(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new Oa(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}cs(e){const t=new li(new Zr([])),n=new Oa(t,e),r=new Oa(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}us(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new li(new Zr([])),n=new Oa(t,e),r=new Oa(t,e+1);let i=ns();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Oa(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Oa{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return li.comparator(e.key,t.key)||Br(e.ls,t.ls)}static ns(e,t){return Br(e.ls,t.ls)||li.comparator(e.key,t.key)}}class Na{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Zo(Oa.ts)}checkEmpty(e){return oa.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const o=new aa(i,t,n,r);this.In.push(o);for(const t of r)this.ds=this.ds.add(new Oa(t.key,i)),this.Ht.addToCollectionParentIndex(e,t.key.path.popLast());return oa.resolve(o)}lookupMutationBatch(e,t){return oa.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this._s(n),i=r<0?0:r;return oa.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return oa.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return oa.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Oa(t,0),r=new Oa(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this.ws(e.ls);i.push(t)})),oa.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Zo(Br);return t.forEach((e=>{const t=new Oa(e,0),r=new Oa(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),oa.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;li.isDocumentKey(i)||(i=i.child(""));const o=new Oa(new li(i),0);let s=new Zo(Br);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ls)),!0)}),o),oa.resolve(this.gs(s))}gs(e){const t=[];return e.forEach((e=>{const n=this.ws(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ir(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return oa.forEach(t.mutations,(r=>{const i=new Oa(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}te(e){}containsKey(e,t){const n=new Oa(t,0),r=this.ds.firstAfterOrEqual(n);return oa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.In.length,oa.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Pa{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Go(li.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-o,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return oa.resolve(n?n.document.clone():Si.newInvalidDocument(t))}getEntries(e,t){let n=Qo();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Si.newInvalidDocument(e))})),oa.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Qo();const i=new li(t.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i,readTime:s}}=o.getNext();if(!t.path.isPrefixOf(e.path))break;s.compareTo(n)<=0||oo(t,i)&&(r=r.insert(i.key,i.clone()))}return oa.resolve(r)}Es(e,t){return oa.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Aa(this)}getSize(e){return oa.resolve(this.size)}}class Aa extends class{constructor(){this.changes=new va((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Wr.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Si.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?oa.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)})),oa.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Ra{constructor(e){this.persistence=e,this.Ts=new va((e=>xi(e)),Oi),this.lastRemoteSnapshotVersion=Wr.min(),this.highestTargetId=0,this.Is=0,this.As=new xa,this.targetCount=0,this.Rs=ma.se()}forEachTarget(e,t){return this.Ts.forEach(((e,n)=>t(n))),oa.resolve()}getLastRemoteSnapshotVersion(e){return oa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oa.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),oa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),oa.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new ma(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,oa.resolve()}updateTargetData(e,t){return this.ae(t),oa.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,oa.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),oa.waitFor(i).next((()=>r))}getTargetCount(e){return oa.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return oa.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),oa.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),oa.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),oa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return oa.resolve(n)}containsKey(e,t){return oa.resolve(this.As.containsKey(t))}}class Da{constructor(e,t){this.bs={},this.Le=new Fr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Ra(this),this.Ht=new ha,this.He=function(e,t){return new Pa(e,t)}(this.Ht,(e=>this.referenceDelegate.Ps(e))),this.N=new ua(t),this.Je=new Ia(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Na(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Er("MemoryPersistence","Starting transaction:",e);const r=new La(this.Le.next());return this.referenceDelegate.vs(),n(r).next((e=>this.referenceDelegate.Vs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ss(e,t){return oa.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class La extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}{constructor(e){super(),this.currentSequenceNumber=e}}class Ma{constructor(e){this.persistence=e,this.Ds=new xa,this.Cs=null}static Ns(e){return new Ma(e)}get xs(){if(this.Cs)return this.Cs;throw kr()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),oa.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),oa.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),oa.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oa.forEach(this.xs,(n=>{const r=li.fromPath(n);return this.ks(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Cs=null,t.apply(e))))}updateLimboDocument(e,t){return this.ks(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}Ps(e){return 0}ks(e,t){return oa.or([()=>oa.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}class Fa{constructor(){this.activeTargetIds=is()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ua{constructor(){this.yi=new Fa,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Fa,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class ja{Ei(e){}shutdown(){}}class Ba{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Er("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Er("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const za={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Va{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Wa extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);Er("RestConnection","Sending: ",i,n);const o={};return this.Ui(o,r),this.qi(e,i,o,n).then((e=>(Er("RestConnection","Received: ",e),e)),(t=>{throw Tr("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+br,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){const n=za[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise(((i,o)=>{const s=new vr;s.listenOnce(hr.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case dr.NO_ERROR:const t=s.getResponseJson();Er("Connection","XHR received:",JSON.stringify(t)),i(t);break;case dr.TIMEOUT:Er("Connection",'RPC "'+e+'" timed out'),o(new Nr(Or.DEADLINE_EXCEEDED,"Request time out"));break;case dr.HTTP_ERROR:const n=s.getStatus();if(Er("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Or).indexOf(t)>=0?t:Or.UNKNOWN}(e.status);o(new Nr(t,e.message))}else o(new Nr(Or.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Nr(Or.UNAVAILABLE,"Connection failed."));break;default:kr()}}finally{Er("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=cr(),i=ur(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new mr({})),this.Ui(o.initMessageHeaders,t),(0,a.uI)()||(0,a.b$)()||(0,a.d)()||(0,a.w1)()||(0,a.Mn)()||(0,a.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const s=n.join("");Er("Connection","Creating WebChannel: "+s,o);const l=r.createWebChannel(s,o);let c=!1,u=!1;const d=new Va({vi:e=>{u?Er("Connection","Not sending because WebChannel is closed:",e):(c||(Er("Connection","Opening WebChannel transport."),l.open(),c=!0),Er("Connection","WebChannel sending:",e),l.send(e))},Vi:()=>l.close()}),h=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return h(l,gr.EventType.OPEN,(()=>{u||Er("Connection","WebChannel transport opened.")})),h(l,gr.EventType.CLOSE,(()=>{u||(u=!0,Er("Connection","WebChannel transport closed"),d.$i())})),h(l,gr.EventType.ERROR,(e=>{u||(u=!0,Tr("Connection","WebChannel transport errored:",e),d.$i(new Nr(Or.UNAVAILABLE,"The operation could not be completed")))})),h(l,gr.EventType.MESSAGE,(e=>{var t;if(!u){const n=e.data[0];Ir(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Er("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Vo[e];if(void 0!==t)return qo(t)}(e),n=i.message;void 0===t&&(t=Or.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,d.$i(new Nr(t,n)),l.close()}else Er("Connection","WebChannel received:",n),d.Oi(n)}})),h(i,fr.STAT_EVENT,(e=>{e.stat===pr.PROXY?Er("Connection","Detected buffering proxy"):e.stat===pr.NOPROXY&&Er("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.ki()}),0),d}}function qa(){return"undefined"!=typeof document?document:null}function Ga(e){return new gs(e,!0)}class Ha{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&Er("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Ji=Date.now(),e()))),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class $a{constructor(e,t,n,r,i,o){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Ha(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(()=>this.dr())))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===Or.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===Or.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then((e=>{this.sr===t&&this.yr(e)}),(t=>{e((()=>{const e=new Nr(Or.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)}))}))}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si((()=>{t((()=>(this.state=2,this.listener.Si())))})),this.stream.Ci((e=>{t((()=>this.pr(e)))})),this.stream.onMessage((e=>{t((()=>this.onMessage(e)))}))}ur(){this.state=4,this.rr.Xi((async()=>{this.state=0,this.start()}))}pr(e){return Er("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget((()=>this.sr===e?t():(Er("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Za extends $a{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:kr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.D?(Ir(void 0===t||"string"==typeof t),Xr.fromBase64String(t||"")):(Ir(void 0===t||t instanceof Uint8Array),Xr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Or.UNKNOWN:qo(e.code);return new Nr(t,e.message||"")}(s);n=new cs(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ts(e,r.document.name),o=ws(r.document.updateTime),s=new Ci({mapValue:{fields:r.document.fields}}),a=Si.newFoundDocument(i,o,s),l=r.targetIds||[],c=r.removedTargetIds||[];n=new as(l,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ts(e,r.document),o=r.readTime?ws(r.readTime):Wr.min(),s=Si.newNoDocument(i,o),a=r.removedTargetIds||[];n=new as([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ts(e,r.document),o=r.removedTargetIds||[];n=new as([],o,i,null)}else{if(!("filter"in t))return kr();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new zo(r),o=e.targetId;n=new ls(o,i)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return Wr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Wr.min():t.readTime?ws(t.readTime):Wr.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=ks(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=Ni(r)?{documents:Os(e,r)}:{query:Ns(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ys(e,t.resumeToken):t.snapshotVersion.compareTo(Wr.min())>0&&(n.readTime=vs(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return kr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=ks(this.N),t.removeTarget=e,this.wr(t)}}class Ka extends $a{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(Ir(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(Ir(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ws(e.updateTime):ws(t);return n.isEqual(Wr.min())&&(n=ws(t)),new So(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ws(e.commitTime);return this.listener.vr(n,t)}return Ir(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=ks(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof Do)n={update:xs(e,t.key,t.value)};else if(t instanceof jo)n={delete:Cs(e,t.key)};else if(t instanceof Lo)n={update:xs(e,t.key,t.data),updateMask:zs(t.fieldMask)};else{if(!(t instanceof Bo))return kr();n={verify:Cs(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof go)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _o)return{fieldPath:t.field.canonicalString(),increment:n.C};throw kr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:bs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:kr()}(e,t.precondition)),n}(this.N,e)))};this.wr(t)}}class Ya extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new Nr(Or.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Li(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Or.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Nr(Or.UNKNOWN,e.toString())}))}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Ki(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Or.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Nr(Or.UNKNOWN,e.toString())}))}terminate(){this.Dr=!0}}class Qa{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve()))))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Cr(t),this.$r=!1):Er("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Xa{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei((e=>{n.enqueueAndForget((async()=>{al(this)&&(Er("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=xr(e);t.Kr.add(4),await el(t),t.Wr.set("Unknown"),t.Kr.delete(4),await Ja(t)}(this))}))})),this.Wr=new Qa(n,r)}}async function Ja(e){if(al(e))for(const t of e.jr)await t(!0)}async function el(e){for(const t of e.jr)await t(!1)}function tl(e,t){const n=xr(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),sl(n)?ol(n):Cl(n).cr()&&rl(n,t))}function nl(e,t){const n=xr(e),r=Cl(n);n.qr.delete(t),r.cr()&&il(n,t),0===n.qr.size&&(r.cr()?r.lr():al(n)&&n.Wr.set("Unknown"))}function rl(e,t){e.Gr.Y(t.targetId),Cl(e).Ir(t)}function il(e,t){e.Gr.Y(t),Cl(e).Ar(t)}function ol(e){e.Gr=new ds({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),Cl(e).start(),e.Wr.Or()}function sl(e){return al(e)&&!Cl(e).ar()&&e.qr.size>0}function al(e){return 0===xr(e).Kr.size}function ll(e){e.Gr=void 0}async function cl(e){e.qr.forEach(((t,n)=>{rl(e,t)}))}async function ul(e,t){ll(e),sl(e)?(e.Wr.Lr(t),ol(e)):e.Wr.set("Unknown")}async function dl(e,t,n){if(e.Wr.set("Online"),t instanceof cs&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(n){Er("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await hl(e,n)}else if(t instanceof as?e.Gr.rt(t):t instanceof ls?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(Wr.min()))try{const t=await Ca(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(Xr.EMPTY_BYTE_STRING,n.snapshotVersion)),il(e,t);const r=new ca(n.target,t,1,n.sequenceNumber);rl(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Er("RemoteStore","Failed to raise snapshot:",t),await hl(e,t)}}async function hl(e,t,n){if(!sa(t))throw t;e.Kr.add(1),await el(e),e.Wr.set("Offline"),n||(n=()=>Ca(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Er("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await Ja(e)}))}function fl(e,t){return t().catch((n=>hl(e,n,t)))}async function pl(e){const t=xr(e),n=Tl(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;ml(t);)try{const e=await Ta(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,gl(t,e)}catch(e){await hl(t,e)}vl(t)&&yl(t)}function ml(e){return al(e)&&e.Ur.length<10}function gl(e,t){e.Ur.push(t);const n=Tl(e);n.cr()&&n.br&&n.Pr(t.mutations)}function vl(e){return al(e)&&!Tl(e).ar()&&e.Ur.length>0}function yl(e){Tl(e).start()}async function bl(e){Tl(e).Sr()}async function wl(e){const t=Tl(e);for(const n of e.Ur)t.Pr(n.mutations)}async function _l(e,t,n){const r=e.Ur.shift(),i=la.from(r,t,n);await fl(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await pl(e)}async function El(e,t){t&&Tl(e).br&&await async function(e,t){if(function(e){switch(e){default:return kr();case Or.CANCELLED:case Or.UNKNOWN:case Or.DEADLINE_EXCEEDED:case Or.RESOURCE_EXHAUSTED:case Or.INTERNAL:case Or.UNAVAILABLE:case Or.UNAUTHENTICATED:return!1;case Or.INVALID_ARGUMENT:case Or.NOT_FOUND:case Or.ALREADY_EXISTS:case Or.PERMISSION_DENIED:case Or.FAILED_PRECONDITION:case Or.ABORTED:case Or.OUT_OF_RANGE:case Or.UNIMPLEMENTED:case Or.DATA_LOSS:return!0}}(n=t.code)&&n!==Or.ABORTED){const n=e.Ur.shift();Tl(e).hr(),await fl(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await pl(e)}var n}(e,t),vl(e)&&yl(e)}function Cl(e){return e.zr||(e.zr=function(e,t,n){const r=xr(e);return r.Cr(),new Za(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:cl.bind(null,e),Ci:ul.bind(null,e),Tr:dl.bind(null,e)}),e.jr.push((async t=>{t?(e.zr.hr(),sl(e)?ol(e):e.Wr.set("Unknown")):(await e.zr.stop(),ll(e))}))),e.zr}function Tl(e){return e.Hr||(e.Hr=function(e,t,n){const r=xr(e);return r.Cr(),new Ka(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:bl.bind(null,e),Ci:El.bind(null,e),Vr:wl.bind(null,e),vr:_l.bind(null,e)}),e.jr.push((async t=>{t?(e.Hr.hr(),await pl(e)):(await e.Hr.stop(),e.Ur.length>0&&(Er("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))}))),e.Hr}class Sl{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Sl(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nr(Or.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kl(e,t){if(Cr("AsyncQueue",`${t}: ${e}`),sa(e))return new Nr(Or.UNAVAILABLE,`${t}: ${e}`);throw e}class Il{constructor(e){this.comparator=e?(t,n)=>e(t,n)||li.comparator(t.key,n.key):(e,t)=>li.comparator(e.key,t.key),this.keyedMap=Jo(),this.sortedSet=new Go(this.comparator)}static emptySet(e){return new Il(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Il))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Il;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class xl{constructor(){this.Jr=new Go(li.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):kr():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ol{constructor(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Ol(e,t,Il.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&no(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Nl{constructor(){this.Xr=void 0,this.listeners=[]}}class Pl{constructor(){this.queries=new va((e=>ro(e)),no),this.onlineState="Unknown",this.Zr=new Set}}async function Al(e,t){const n=xr(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Nl),i)try{o.Xr=await n.onListen(r)}catch(e){const n=kl(e,`Initialization of query '${io(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.eo(n.onlineState),o.Xr&&t.no(o.Xr)&&Ml(n)}async function Rl(e,t){const n=xr(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Dl(e,t){const n=xr(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.no(e)&&(r=!0);i.Xr=e}}r&&Ml(n)}function Ll(e,t,n){const r=xr(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Ml(e){e.Zr.forEach((e=>{e.next()}))}class Fl{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ol(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)}oo(e){if(e.docChanges.length>0)return!0;const t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}co(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Ul{constructor(e){this.key=e}}class jl{constructor(e){this.key=e}}class Bl{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=ns(),this.mutatedKeys=ns(),this.po=so(e),this.Eo=new Il(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new xl,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a=Zi(this.query)&&r.size===this.query.limit?r.last():null,l=Ki(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=oo(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Ro(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.po(u,a)>0||l&&this.po(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),Zi(this.query)||Ki(this.query))for(;o.size>this.query.limit;){const e=Zi(this.query)?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:o,Ao:n,Ln:s,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kr()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc))),this.bo(n);const o=t?this.Po():[],s=0===this.yo.size&&this.current?1:0,a=s!==this.mo;return this.mo=s,0!==i.length||a?{snapshot:new Ol(this.query,e.Eo,r,i,e.mutatedKeys,0===s,a,!1),vo:o}:{vo:o}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new xl,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach((e=>this._o=this._o.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this._o=this._o.delete(e))),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=ns(),this.Eo.forEach((e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))}));const t=[];return e.forEach((e=>{this.yo.has(e)||t.push(new jl(e))})),this.yo.forEach((n=>{e.has(n)||t.push(new Ul(n))})),t}So(e){this._o=e.Gn,this.yo=ns();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Ol.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class zl{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Vl{constructor(e){this.key=e,this.Co=!1}}class Wl{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.No={},this.xo=new va((e=>ro(e)),no),this.ko=new Map,this.$o=new Set,this.Oo=new Go(li.comparator),this.Fo=new Map,this.Mo=new xa,this.Lo={},this.Bo=new Map,this.Uo=ma.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function ql(e,t){const n=function(e){const t=xr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zl.bind(null,t),t.No.Tr=Dl.bind(null,t.eventManager),t.No.jo=Ll.bind(null,t.eventManager),t}(e);let r,i;const o=n.xo.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do();else{const e=await function(e,t){const n=xr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ze.getTargetData(e,t).next((i=>i?(r=i,oa.resolve(r)):n.ze.allocateTargetId(e).next((i=>(r=new ca(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}(n.localStore,eo(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=await ka(e.localStore,t.query,!1).then((({documents:e})=>t.view.Io(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return tc(e,t.targetId,s.vo),s.snapshot}(e,t,n,r);const i=await ka(e.localStore,t,!0),o=new Bl(t,i.Gn),s=o.Io(i.documents),a=ss.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=o.applyChanges(s,e.isPrimaryClient,a);tc(e,n,l.vo);const c=new zl(t,n,o);return e.xo.set(t,c),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),l.snapshot}(n,t,r,"current"===o),n.isPrimaryClient&&tl(n.remoteStore,e)}return i}async function Gl(e,t){const n=xr(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter((e=>!no(e,t)))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Sa(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),nl(n.remoteStore,r.targetId),Jl(n,r.targetId)})).catch(ga)):(Jl(n,r.targetId),await Sa(n.localStore,r.targetId,!0))}async function Hl(e,t){const n=xr(e);try{const e=await function(e,t){const n=xr(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const s=[];t.targetChanges.forEach(((t,o)=>{const a=i.get(o);if(!a)return;s.push(n.ze.removeMatchingKeys(e,t.removedDocuments,o).next((()=>n.ze.addMatchingKeys(e,t.addedDocuments,o))));const l=t.resumeToken;if(l.approximateByteSize()>0){const c=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Ir(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&s.push(n.ze.updateTargetData(e,c))}}));let a=Qo();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(function(e,t,n,r,i){let o=ns();return n.forEach((e=>o=o.add(e))),t.getEntries(e,o).next((e=>{let o=Qo();return n.forEach(((n,s)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Wr.min())?(t.removeEntry(n,l),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,l),o=o.insert(n,s)):Er("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(e,o,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(Wr.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next((t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return oa.waitFor(s).next((()=>o.apply(e))).next((()=>n.Qn.vn(e,a))).next((()=>a))})).then((e=>(n.Un=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fo.get(t);r&&(Ir(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?Ir(r.Co):e.removedDocuments.size>0&&(Ir(r.Co),r.Co=!1))})),await ic(n,e,t)}catch(e){await ga(e)}}function $l(e,t,n){const r=xr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach(((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=xr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.eo(t)&&(r=!0)})),r&&Ml(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zl(e,t,n){const r=xr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),o=i&&i.key;if(o){let e=new Go(li.comparator);e=e.insert(o,Si.newNoDocument(o,Wr.min()));const n=ns().add(o),i=new os(Wr.min(),new Map,new Zo(Br),e,n);await Hl(r,i),r.Oo=r.Oo.remove(o),r.Fo.delete(t),rc(r)}else await Sa(r.localStore,t,!1).then((()=>Jl(r,t,n))).catch(ga)}async function Kl(e,t){const n=xr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=xr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=oa.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Ir(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),s.next((()=>e.In.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(n.localStore,t);Xl(n,r,null),Ql(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ic(n,e)}catch(e){await ga(e)}}async function Yl(e,t,n){const r=xr(e);try{const e=await function(e,t){const n=xr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.In.lookupMutationBatch(e,t).next((t=>(Ir(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(r.localStore,t);Xl(r,t,n),Ql(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ic(r,e)}catch(n){await ga(n)}}function Ql(e,t){(e.Bo.get(t)||[]).forEach((e=>{e.resolve()})),e.Bo.delete(t)}function Xl(e,t,n){const r=xr(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function Jl(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((t=>{e.Mo.containsKey(t)||ec(e,t)}))}function ec(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(nl(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),rc(e))}function tc(e,t,n){for(const r of n)r instanceof Ul?(e.Mo.addReference(r.key,t),nc(e,r)):r instanceof jl?(Er("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||ec(e,r.key)):kr()}function nc(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(Er("SyncEngine","New document in limbo: "+n),e.$o.add(r),rc(e))}function rc(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new li(Zr.fromString(t)),r=e.Uo.next();e.Fo.set(r,new Vl(n)),e.Oo=e.Oo.insert(n,r),tl(e.remoteStore,new ca(eo($i(n.path)),r,2,Fr.T))}}async function ic(e,t,n){const r=xr(e),i=[],o=[],s=[];r.xo.isEmpty()||(r.xo.forEach(((e,a)=>{s.push(r.Ko(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=ba.kn(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.No.Tr(i),await async function(e,t){const n=xr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>oa.forEach(t,(t=>oa.forEach(t.Nn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>oa.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!sa(e))throw e;Er("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Un.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(t,i)}}}(r.localStore,o))}async function oc(e,t){const n=xr(e);if(!n.currentUser.isEqual(t)){Er("SyncEngine","User change. New user:",t.toKey());const e=await Ea(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach((e=>{e.forEach((e=>{e.reject(new Nr(Or.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ic(n,e.Wn)}}function sc(e,t){const n=xr(e),r=n.Fo.get(t);if(r&&r.Co)return ns().add(r.key);{let e=ns();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}function ac(e){const t=xr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kl.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Yl.bind(null,t),t}class lc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=Ga(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return function(e,t,n,r){return new _a(e,t,n,r)}(this.persistence,new wa,e.initialUser,this.N)}Go(e){return new Da(Ma.Ns,this.N)}Wo(e){return new Ua}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class cc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>$l(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=oc.bind(null,this.syncEngine),await async function(e,t){const n=xr(e);t?(n.Kr.delete(2),await Ja(n)):t||(n.Kr.add(2),await el(n),n.Wr.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Pl}createDatastore(e){const t=Ga(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Wa(r));var r;return function(e,t,n){return new Ya(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>$l(this.syncEngine,e,0),o=Ba.bt()?new Ba:new ja,new Xa(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Wl(e,t,n,r,i,o);return s&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=xr(e);Er("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await el(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}class uc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class dc{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=yr.UNAUTHENTICATED,this.clientId=jr.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,(async e=>{Er("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nr(Or.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=kl(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function hc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){return e.offlineComponents||(Er("FirestoreClient","Using default OfflineComponentProvider"),await async function(e,t){e.asyncQueue.verifyOperationInProgress(),Er("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ea(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}(e,new lc)),e.offlineComponents}(e);Er("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=xr(e);n.asyncQueue.verifyOperationInProgress(),Er("RemoteStore","RemoteStore received new credentials");const r=al(n);n.Kr.add(3),await el(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await Ja(n)}(t.remoteStore,e))),e.onlineComponents=t}async function fc(e){return e.onlineComponents||(Er("FirestoreClient","Using default OnlineComponentProvider"),await hc(e,new cc)),e.onlineComponents}async function pc(e){const t=await fc(e),n=t.eventManager;return n.onListen=ql.bind(null,t.syncEngine),n.onUnlisten=Gl.bind(null,t.syncEngine),n}class mc{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class gc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}const vc=new Map;function yc(e,t,n){if(!n)throw new Nr(Or.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function bc(e){if(!li.isDocumentKey(e))throw new Nr(Or.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function wc(e){if(li.isDocumentKey(e))throw new Nr(Or.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _c(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":kr()}function Ec(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nr(Or.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_c(e);throw new Nr(Or.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Cc{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Nr(Or.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nr(Or.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Nr(Or.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tc{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cc({}),this._settingsFrozen=!1,e instanceof gc?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nr(Or.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(e.options.projectId)}(e))}get app(){if(!this._app)throw new Nr(Or.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nr(Or.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cc(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Rr;switch(e.type){case"gapi":const t=e.client;return Ir(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Mr(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Nr(Or.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vc.get(e);t&&(Er("ComponentProvider","Removing Datastore"),vc.delete(e),t.terminate())}(this),Promise.resolve()}}class Sc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sc(this.firestore,e,this._key)}}class kc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kc(this.firestore,e,this._query)}}class Ic extends kc{constructor(e,t,n){super(e,t,$i(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sc(this.firestore,null,new li(e))}withConverter(e){return new Ic(this.firestore,e,this._path)}}function xc(e,t,...n){if(e=(0,a.m9)(e),yc("collection","path",t),e instanceof Tc){const r=Zr.fromString(t,...n);return wc(r),new Ic(e,null,r)}{if(!(e instanceof Sc||e instanceof Ic))throw new Nr(Or.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Zr.fromString(t,...n));return wc(r),new Ic(e.firestore,null,r)}}function Oc(e,t,...n){if(e=(0,a.m9)(e),1===arguments.length&&(t=jr.I()),yc("doc","path",t),e instanceof Tc){const r=Zr.fromString(t,...n);return bc(r),new Sc(e,null,new li(r))}{if(!(e instanceof Sc||e instanceof Ic))throw new Nr(Or.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Zr.fromString(t,...n));return bc(r),new Sc(e.firestore,e instanceof Ic?e.converter:null,new li(r))}}class Nc{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Ha(this,"async_queue_retry"),this.Ea=()=>{const e=qa();e&&Er("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=qa();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=qa();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise((()=>{}));const t=new Pr;return this.Ia((()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.da.push(e),this.Aa())))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!sa(e))throw e;Er("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi((()=>this.Aa()))}}Ia(e){const t=this.fa.then((()=>(this.ga=!0,e().catch((e=>{throw this.ma=e,this.ga=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.ga=!1,e))))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=Sl.createAndSchedule(this,e,t,n,(e=>this.Ra(e)));return this._a.push(r),r}Ta(){this.ma&&kr()}verifyOperationInProgress(){}async ba(){let e;do{e=this.fa,await e}while(e!==this.fa)}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then((()=>{this._a.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()}))}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function Pc(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Ac extends Tc{constructor(e,t){super(e,t),this.type="firestore",this._queue=new Nc,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Lc(this),this._firestoreClient.terminate()}}function Rc(e=(0,i.Mq)()){return(0,i.qX)(e,"firestore").getImmediate()}function Dc(e){return e._firestoreClient||Lc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Lc(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new mc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new dc(e._credentials,e._queue,r)}class Mc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Nr(Or.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fc(Xr.fromBase64String(e))}catch(e){throw new Nr(Or.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Fc(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Uc{constructor(e){this._methodName=e}}class jc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nr(Or.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nr(Or.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Br(this._lat,e._lat)||Br(this._long,e._long)}}const Bc=/^__.*__$/;class zc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Lo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Do(e,this.data,t,this.fieldTransforms)}}class Vc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Lo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kr()}}class qc{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new qc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return iu(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Wc(this.Da)&&Bc.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Gc{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||Ga(e)}Ba(e,t,n,r=!1){return new qc({Da:e,methodName:t,La:n,path:Yr.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Hc(e){const t=e._freezeSettings(),n=Ga(e._databaseId);return new Gc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $c(e,t,n,r,i,o={}){const s=e.Ba(o.merge||o.mergeFields?2:0,t,n,i);eu("Data must be an object, but it was:",s,r);const a=Xc(r,s);let l,c;if(o.merge)l=new Qr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=tu(t,r,n);if(!s.contains(i))throw new Nr(Or.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ou(e,i)||e.push(i)}l=new Qr(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new zc(new Ci(a),l,c)}class Zc extends Uc{_toFieldTransform(e){if(2!==e.Da)throw 1===e.Da?e.Fa(`${this._methodName}() can only appear at the top level of your update data`):e.Fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zc}}class Kc extends Uc{_toFieldTransform(e){return new To(e.path,new go)}isEqual(e){return e instanceof Kc}}function Yc(e,t,n,r=!1){return Qc(n,e.Ba(r?4:3,t))}function Qc(e,t){if(Jc(e=(0,a.m9)(e)))return eu("Unsupported field value:",t,e),Xc(e,t);if(e instanceof Uc)return function(e,t){if(!Wc(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Qc(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uo(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Vr.fromDate(e);return{timestampValue:vs(t.N,n)}}if(e instanceof Vr){const n=new Vr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vs(t.N,n)}}if(e instanceof jc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Fc)return{bytesValue:ys(t.N,e._byteString)};if(e instanceof Sc){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:_s(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${_c(e)}`)}(e,t)}function Xc(e,t){const n={};return Hr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gr(e,((e,r)=>{const i=Qc(r,t.Na(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Jc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vr||e instanceof jc||e instanceof Fc||e instanceof Sc||e instanceof Uc)}function eu(e,t,n){if(!Jc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=_c(n);throw"an object"===r?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}}function tu(e,t,n){if((t=(0,a.m9)(t))instanceof Mc)return t._internalPath;if("string"==typeof t)return ru(e,t);throw iu("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const nu=new RegExp("[~\\*/\\[\\]]");function ru(e,t,n){if(t.search(nu)>=0)throw iu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Mc(...t.split("."))._internalPath}catch(r){throw iu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function iu(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Nr(Or.INVALID_ARGUMENT,a+e+l)}function ou(e,t){return e.some((e=>e.isEqual(t)))}class su{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Sc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new au(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class au extends su{data(){return super.data()}}function lu(e,t){return"string"==typeof t?ru(e,t):t instanceof Mc?t._internalPath:t._delegate._internalPath}class cu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uu extends su{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(lu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class du extends uu{data(e={}){return super.data(e)}}class hu{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cu(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new du(this._firestore,this._userDataWriter,n.key,n,new cu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nr(Or.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new du(e._firestore,e._userDataWriter,n.doc.key,n.doc,new cu(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new du(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:fu(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kr()}}function pu(e){if(Ki(e)&&0===e.explicitOrderBy.length)throw new Nr(Or.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mu{}function gu(e,...t){for(const n of t)e=n._apply(e);return e}class vu extends mu{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Nr(Or.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nr(Or.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Vi(t,n);return function(e,t){if(null===Yi(e)){const n=Qi(e);null!==n&&function(e,t,n){if(!n.isEqual(t))throw new Nr(Or.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new kc(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Hi(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function yu(e,t="asc"){const n=t,r=lu("orderBy",e);return new vu(r,n)}class bu extends mu{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new kc(e.firestore,e.converter,to(e._query,this.Ga,this.za))}}function wu(e){return function(e,t){if(t<=0)throw new Nr(Or.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}("limitToLast",e),new bu("limitToLast",e,"L")}class _u extends mu{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=function(e,t,n,r){if(n[0]=(0,a.m9)(n[0]),n[0]instanceof su)return function(e,t,n,r,i){if(!r)throw new Nr(Or.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const n of Ji(e))if(n.field.isKeyField())o.push(gi(t,r.key));else{const e=r.data.field(n.field);if(ri(e))throw new Nr(Or.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new Nr(Or.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new Bi(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Hc(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Nr(Or.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let o=0;o<i.length;o++){const l=i[o];if(s[o].field.isKeyField()){if("string"!=typeof l)throw new Nr(Or.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof l}`);if(!Xi(e)&&-1!==l.indexOf("/"))throw new Nr(Or.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${l}' contains a slash.`);const n=e.path.child(Zr.fromString(l));if(!li.isDocumentKey(n))throw new Nr(Or.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new li(n);a.push(gi(t,i))}else{const e=Yc(n,r,l);a.push(e)}}return new Bi(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}(e,this.type,this.Ha,this.Ja);return new kc(e.firestore,e.converter,function(e,t){return new Hi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Eu(...e){return new _u("endBefore",e,!0)}function Cu(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function Tu(e){e=Ec(e,Sc);const t=Ec(e.firestore,Ac);return function(e,t,n={}){const r=new Pr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new uc({next:o=>{t.enqueueAndForget((()=>Rl(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Nr(Or.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Nr(Or.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Fl($i(n.path),o,{includeMetadataChanges:!0,uo:!0});return Al(e,s)}(await pc(e),e.asyncQueue,t,n,r))),r.promise}(Dc(t),e._key).then((n=>Ru(t,e,n)))}class Su extends class{convertValue(e,t="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw kr()}}convertObject(e,t){const n={};return Gr(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new jc(ti(e.latitude),ti(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ii(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(oi(e));default:return null}}convertTimestamp(e){const t=ei(e);return new Vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Zr.fromString(e);Ir(Vs(n));const r=new gc(n.get(1),n.get(3)),i=new li(n.popFirst(5));return r.isEqual(t)||Cr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sc(this.firestore,null,t)}}function ku(e){e=Ec(e,kc);const t=Ec(e.firestore,Ac),n=Dc(t),r=new Su(t);return pu(e._query),function(e,t,n={}){const r=new Pr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new uc({next:n=>{t.enqueueAndForget((()=>Rl(e,s))),n.fromCache&&"server"===r.source?i.reject(new Nr(Or.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Fl(n,o,{includeMetadataChanges:!0,uo:!0});return Al(e,s)}(await pc(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new hu(t,r,e,n)))}function Iu(e,t,n){e=Ec(e,Sc);const r=Ec(e.firestore,Ac),i=Cu(e.converter,t,n);return Au(r,[$c(Hc(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ko.none())])}function xu(e,t,n,...r){e=Ec(e,Sc);const i=Ec(e.firestore,Ac),o=Hc(i);let s;return s="string"==typeof(t=(0,a.m9)(t))||t instanceof Mc?function(e,t,n,r,i,o){const s=e.Ba(1,t,n),l=[tu(t,r,n)],c=[i];if(o.length%2!=0)throw new Nr(Or.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)l.push(tu(t,o[e])),c.push(o[e+1]);const u=[],d=Ci.empty();for(let e=l.length-1;e>=0;--e)if(!ou(u,l[e])){const t=l[e];let n=c[e];n=(0,a.m9)(n);const r=s.$a(t);if(n instanceof Zc)u.push(t);else{const e=Qc(n,r);null!=e&&(u.push(t),d.set(t,e))}}const h=new Qr(u);return new Vc(d,h,s.fieldTransforms)}(o,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Ba(1,t,n);eu("Data must be an object, but it was:",i,r);const o=[],s=Ci.empty();Gr(r,((e,r)=>{const l=ru(t,e,n);r=(0,a.m9)(r);const c=i.$a(l);if(r instanceof Zc)o.push(l);else{const e=Qc(r,c);null!=e&&(o.push(l),s.set(l,e))}}));const l=new Qr(o);return new Vc(s,l,i.fieldTransforms)}(o,"updateDoc",e._key,t),Au(i,[s.toMutation(e._key,ko.exists(!0))])}function Ou(e){return Au(Ec(e.firestore,Ac),[new jo(e._key,ko.none())])}function Nu(e,t){const n=Ec(e.firestore,Ac),r=Oc(e),i=Cu(e.converter,t);return Au(n,[$c(Hc(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ko.exists(!1))]).then((()=>r))}function Pu(e,...t){var n,r,i;e=(0,a.m9)(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||Pc(t[s])||(o=t[s],s++);const l={includeMetadataChanges:o.includeMetadataChanges};if(Pc(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,u,d;if(e instanceof Sc)u=Ec(e.firestore,Ac),d=$i(e._key.path),c={next:n=>{t[s]&&t[s](Ru(u,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Ec(e,kc);u=Ec(n.firestore,Ac),d=n._query;const r=new Su(u);c={next:e=>{t[s]&&t[s](new hu(u,r,n,e))},error:t[s+1],complete:t[s+2]},pu(e._query)}return function(e,t,n,r){const i=new uc(r),o=new Fl(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Al(await pc(e),o))),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((async()=>Rl(await pc(e),o)))}}(Dc(u),d,l,c)}function Au(e,t){return function(e,t){const n=new Pr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ac(e);try{const e=await function(e,t){const n=xr(e),r=Vr.now(),i=t.reduce(((e,t)=>e.add(t.key)),ns());let o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Qn.Pn(e,i).next((i=>{o=i;const s=[];for(const e of t){const t=Po(e,o.get(e.key));null!=t&&s.push(new Lo(e.key,t,Ti(t.value.mapValue),ko.exists(!0)))}return n.In.addMutationBatch(e,r,s,t)})))).then((e=>(e.applyToLocalDocumentSet(o),{batchId:e.batchId,changes:o})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new Go(Br)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await ic(r,e.changes),await pl(r.remoteStore)}catch(e){const t=kl(e,"Failed to persist write");n.reject(t)}}(await function(e){return fc(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(Dc(e),t)}function Ru(e,t,n){const r=n.docs.get(t._key),i=new Su(e);return new uu(e,i,t._key,r,new cu(n.hasPendingWrites,n.fromCache),t.converter)}function Du(){return new Kc("serverTimestamp")}!function(e){br=e}(i.Jn),(0,i.Xd)(new o.wA("firestore",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new Ac(n,new Dr(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r}),"PUBLIC")),(0,i.KN)("@firebase/firestore","3.1.0",void 0)},6934:(e,t,n)=>{"use strict";n.d(t,{in:()=>i,Yd:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}},4444:(e,t,n)=>{"use strict";n.d(t,{BH:()=>d,LL:()=>_,ZR:()=>w,gQ:()=>F,hu:()=>r,g5:()=>i,US:()=>s,tV:()=>l,h$:()=>a,r3:()=>x,ne:()=>U,p$:()=>c,vZ:()=>A,gK:()=>z,pd:()=>M,m9:()=>q,z$:()=>h,GJ:()=>I,ru:()=>p,d:()=>g,xb:()=>N,w1:()=>v,uI:()=>f,Yr:()=>b,b$:()=>m,Mn:()=>y,w9:()=>k,cI:()=>C,UI:()=>P,xO:()=>D,zd:()=>L,DV:()=>O,ug:()=>W,dS:()=>V,Pz:()=>T});const r=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,c=i>>2,u=(3&i)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw Error();const l=i<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){const t=o(e);return s.encodeByteArray(t,!0)},l=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(e){return u(void 0,e)}function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=u(e[n],t[n]));return e}class d{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return h().indexOf("Electron/")>=0}function v(){const e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function y(){return h().indexOf("MSAppHost/")>=0}function b(){return!1}class w extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_.prototype.create)}}class _{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(E,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new w(r,s,n)}}const E=/\{\$([^}]+)}/g;function C(e){return JSON.parse(e)}function T(e){return JSON.stringify(e)}const S=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=C(l(o[0])||""),n=C(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},k=function(e){const t=S(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},I=function(e){const t=S(e).claims;return"object"==typeof t&&!0===t.admin};function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function N(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function P(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function A(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(R(n)&&R(o)){if(!A(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function R(e){return null!==e&&"object"==typeof e}function D(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function L(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function M(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class F{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):e<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const t=(o<<5|o>>>27)+r+c+i+n[e]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}function U(e,t){const n=new j(e,t);return n.subscribe.bind(n)}class j{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function B(){}function z(e,t){return`${e} failed: ${t} argument `}const V=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);if(o>=55296&&o<=56319){const t=o-55296;i++,r(i<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(i)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},W=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function q(e){return e&&e._delegate?e._delegate:e}},6690:(e,t,n)=>{"use strict";n.d(t,{Xb:()=>r.Xb,v0:()=>r.v0,e5:()=>r.e5,ck:()=>r.ck});var r=n(4894)},8679:(e,t,n)=>{"use strict";var r=n(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!(o[v]||r&&r[v]||m&&m[v]||a&&a[v])){var y=h(n,v);try{c(t,v,y)}catch(e){}}}}return t}},6486:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,c=128,u=1/0,d=9007199254740991,h=NaN,f=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],m="[object Arguments]",g="[object Array]",v="[object Boolean]",y="[object Date]",b="[object Error]",w="[object Function]",_="[object GeneratorFunction]",E="[object Map]",C="[object Number]",T="[object Object]",S="[object Promise]",k="[object RegExp]",I="[object Set]",x="[object String]",O="[object Symbol]",N="[object WeakMap]",P="[object ArrayBuffer]",A="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",L="[object Int8Array]",M="[object Int16Array]",F="[object Int32Array]",U="[object Uint8Array]",j="[object Uint8ClampedArray]",B="[object Uint16Array]",z="[object Uint32Array]",V=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,$=RegExp(G.source),Z=RegExp(H.source),K=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,we=/['\n\r\u2028\u2029\\]/g,_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Se="["+Te+"]",ke="["+_e+"]",Ie="\\d+",xe="["+Ee+"]",Oe="[^\\ud800-\\udfff"+Te+Ie+"\\u2700-\\u27bf"+Ee+Ce+"]",Ne="\\ud83c[\\udffb-\\udfff]",Pe="[^\\ud800-\\udfff]",Ae="(?:\\ud83c[\\udde6-\\uddff]){2}",Re="[\\ud800-\\udbff][\\udc00-\\udfff]",De="["+Ce+"]",Le="(?:"+xe+"|"+Oe+")",Me="(?:"+De+"|"+Oe+")",Fe="(?:['’](?:d|ll|m|re|s|t|ve))?",Ue="(?:['’](?:D|LL|M|RE|S|T|VE))?",je="(?:"+ke+"|"+Ne+")?",Be="[\\ufe0e\\ufe0f]?",ze=Be+je+"(?:\\u200d(?:"+[Pe,Ae,Re].join("|")+")"+Be+je+")*",Ve="(?:"+["[\\u2700-\\u27bf]",Ae,Re].join("|")+")"+ze,We="(?:"+[Pe+ke+"?",ke,Ae,Re,"[\\ud800-\\udfff]"].join("|")+")",qe=RegExp("['’]","g"),Ge=RegExp(ke,"g"),He=RegExp(Ne+"(?="+Ne+")|"+We+ze,"g"),$e=RegExp([De+"?"+xe+"+"+Fe+"(?="+[Se,De,"$"].join("|")+")",Me+"+"+Ue+"(?="+[Se,De+Le,"$"].join("|")+")",De+"?"+Le+"+"+Fe,De+"+"+Ue,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,Ve].join("|"),"g"),Ze=RegExp("[\\u200d\\ud800-\\udfff"+_e+"\\ufe0e\\ufe0f]"),Ke=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qe=-1,Xe={};Xe[R]=Xe[D]=Xe[L]=Xe[M]=Xe[F]=Xe[U]=Xe[j]=Xe[B]=Xe[z]=!0,Xe[m]=Xe[g]=Xe[P]=Xe[v]=Xe[A]=Xe[y]=Xe[b]=Xe[w]=Xe[E]=Xe[C]=Xe[T]=Xe[k]=Xe[I]=Xe[x]=Xe[N]=!1;var Je={};Je[m]=Je[g]=Je[P]=Je[A]=Je[v]=Je[y]=Je[R]=Je[D]=Je[L]=Je[M]=Je[F]=Je[E]=Je[C]=Je[T]=Je[k]=Je[I]=Je[x]=Je[O]=Je[U]=Je[j]=Je[B]=Je[z]=!0,Je[b]=Je[w]=Je[N]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,nt=parseInt,rt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,it="object"==typeof self&&self&&self.Object===Object&&self,ot=rt||it||Function("return this")(),st=t&&!t.nodeType&&t,at=st&&e&&!e.nodeType&&e,lt=at&&at.exports===st,ct=lt&&rt.process,ut=function(){try{return at&&at.require&&at.require("util").types||ct&&ct.binding&&ct.binding("util")}catch(e){}}(),dt=ut&&ut.isArrayBuffer,ht=ut&&ut.isDate,ft=ut&&ut.isMap,pt=ut&&ut.isRegExp,mt=ut&&ut.isSet,gt=ut&&ut.isTypedArray;function vt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function yt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function wt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function _t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Et(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Ct(e,t){return!(null==e||!e.length)&&Rt(e,t,0)>-1}function Tt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function St(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function kt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function It(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function xt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Nt=Ft("length");function Pt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function At(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Rt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):At(e,Lt,n)}function Dt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Lt(e){return e!=e}function Mt(e,t){var n=null==e?0:e.length;return n?Bt(e,t)/n:h}function Ft(e){return function(t){return null==t?i:t[e]}}function Ut(e){return function(t){return null==e?i:e[t]}}function jt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Bt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Vt(e){return e?e.slice(0,an(e)+1).replace(re,""):e}function Wt(e){return function(t){return e(t)}}function qt(e,t){return St(t,(function(t){return e[t]}))}function Gt(e,t){return e.has(t)}function Ht(e,t){for(var n=-1,r=e.length;++n<r&&Rt(t,e[n],0)>-1;);return n}function $t(e,t){for(var n=e.length;n--&&Rt(t,e[n],0)>-1;);return n}function Zt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Kt=Ut({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Yt=Ut({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Qt(e){return"\\"+et[e]}function Xt(e){return Ze.test(e)}function Jt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function en(e,t){return function(n){return e(t(n))}}function tn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function rn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function on(e){return Xt(e)?function(e){for(var t=He.lastIndex=0;He.test(e);)++t;return t}(e):Nt(e)}function sn(e){return Xt(e)?function(e){return e.match(He)||[]}(e):function(e){return e.split("")}(e)}function an(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var ln=Ut({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function e(t){var n,r=(t=null==t?ot:cn.defaults(ot.Object(),t,cn.pick(ot,Ye))).Array,ie=t.Date,_e=t.Error,Ee=t.Function,Ce=t.Math,Te=t.Object,Se=t.RegExp,ke=t.String,Ie=t.TypeError,xe=r.prototype,Oe=Ee.prototype,Ne=Te.prototype,Pe=t["__core-js_shared__"],Ae=Oe.toString,Re=Ne.hasOwnProperty,De=0,Le=(n=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Me=Ne.toString,Fe=Ae.call(Te),Ue=ot._,je=Se("^"+Ae.call(Re).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=lt?t.Buffer:i,ze=t.Symbol,Ve=t.Uint8Array,We=Be?Be.allocUnsafe:i,He=en(Te.getPrototypeOf,Te),Ze=Te.create,et=Ne.propertyIsEnumerable,rt=xe.splice,it=ze?ze.isConcatSpreadable:i,st=ze?ze.iterator:i,at=ze?ze.toStringTag:i,ct=function(){try{var e=co(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=t.clearTimeout!==ot.clearTimeout&&t.clearTimeout,Nt=ie&&ie.now!==ot.Date.now&&ie.now,Ut=t.setTimeout!==ot.setTimeout&&t.setTimeout,un=Ce.ceil,dn=Ce.floor,hn=Te.getOwnPropertySymbols,fn=Be?Be.isBuffer:i,pn=t.isFinite,mn=xe.join,gn=en(Te.keys,Te),vn=Ce.max,yn=Ce.min,bn=ie.now,wn=t.parseInt,_n=Ce.random,En=xe.reverse,Cn=co(t,"DataView"),Tn=co(t,"Map"),Sn=co(t,"Promise"),kn=co(t,"Set"),In=co(t,"WeakMap"),xn=co(Te,"create"),On=In&&new In,Nn={},Pn=jo(Cn),An=jo(Tn),Rn=jo(Sn),Dn=jo(kn),Ln=jo(In),Mn=ze?ze.prototype:i,Fn=Mn?Mn.valueOf:i,Un=Mn?Mn.toString:i;function jn(e){if(na(e)&&!Gs(e)&&!(e instanceof Wn)){if(e instanceof Vn)return e;if(Re.call(e,"__wrapped__"))return Bo(e)}return new Vn(e)}var Bn=function(){function e(){}return function(t){if(!ta(t))return{};if(Ze)return Ze(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Zn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Kn(e,t){var n=Gs(e),r=!n&&qs(e),i=!n&&!r&&Ks(e),o=!n&&!r&&!i&&ua(e),s=n||r||i||o,a=s?zt(e.length,ke):[],l=a.length;for(var c in e)!t&&!Re.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||vo(c,l))||a.push(c);return a}function Yn(e){var t=e.length;return t?e[Hr(0,t-1)]:i}function Qn(e,t){return Do(Ii(e),sr(t,0,e.length))}function Xn(e){return Do(Ii(e))}function Jn(e,t,n){(n!==i&&!zs(e[t],n)||n===i&&!(t in e))&&ir(e,t,n)}function er(e,t,n){var r=e[t];Re.call(e,t)&&zs(r,n)&&(n!==i||t in e)||ir(e,t,n)}function tr(e,t){for(var n=e.length;n--;)if(zs(e[n][0],t))return n;return-1}function nr(e,t,n,r){return dr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function rr(e,t){return e&&xi(t,Aa(t),e)}function ir(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Ia(e,t[n]);return s}function sr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ar(e,t,n,r,o,s){var a,l=1&t,c=2&t,u=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!ta(e))return e;var d=Gs(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Ii(e,a)}else{var h=fo(e),f=h==w||h==_;if(Ks(e))return _i(e,l);if(h==T||h==m||f&&!o){if(a=c||f?{}:mo(e),!l)return c?function(e,t){return xi(e,ho(e),t)}(e,function(e,t){return e&&xi(t,Ra(t),e)}(a,e)):function(e,t){return xi(e,uo(e),t)}(e,rr(a,e))}else{if(!Je[h])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case P:return Ei(e);case v:case y:return new i(+e);case A:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case D:case L:case M:case F:case U:case j:case B:case z:return Ci(e,n);case E:case I:return new i;case C:case x:return new i(e);case k:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return r=e,Fn?Te(Fn.call(r)):{}}}(e,h,l)}}s||(s=new Zn);var p=s.get(e);if(p)return p;s.set(e,a),aa(e)?e.forEach((function(r){a.add(ar(r,t,n,r,e,s))})):ra(e)&&e.forEach((function(r,i){a.set(i,ar(r,t,n,i,e,s))}));var g=d?i:(u?c?no:to:c?Ra:Aa)(e);return bt(g||e,(function(r,i){g&&(r=e[i=r]),er(a,i,ar(r,t,n,i,e,s))})),a}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Ie(o);return No((function(){e.apply(i,n)}),t)}function ur(e,t,n,r){var i=-1,o=Ct,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=St(t,Wt(n))),r?(o=Tt,s=!1):t.length>=200&&(o=Gt,s=!1,t=new $n(t));e:for(;++i<a;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d==d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else o(t,d,r)||l.push(u)}return l}jn.templateSettings={escape:K,evaluate:Y,interpolate:Q,variable:"",imports:{_:jn}},jn.prototype=zn.prototype,jn.prototype.constructor=jn,Vn.prototype=Bn(zn.prototype),Vn.prototype.constructor=Vn,Wn.prototype=Bn(zn.prototype),Wn.prototype.constructor=Wn,qn.prototype.clear=function(){this.__data__=xn?xn(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(xn){var n=t[e];return n===s?i:n}return Re.call(t,e)?t[e]:i},qn.prototype.has=function(e){var t=this.__data__;return xn?t[e]!==i:Re.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=xn&&t===i?s:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=tr(t,e);return!(n<0||(n==t.length-1?t.pop():rt.call(t,n,1),--this.size,0))},Gn.prototype.get=function(e){var t=this.__data__,n=tr(t,e);return n<0?i:t[n][1]},Gn.prototype.has=function(e){return tr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(Tn||Gn),string:new qn}},Hn.prototype.delete=function(e){var t=ao(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return ao(this,e).get(e)},Hn.prototype.has=function(e){return ao(this,e).has(e)},Hn.prototype.set=function(e,t){var n=ao(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},$n.prototype.add=$n.prototype.push=function(e){return this.__data__.set(e,s),this},$n.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Zn.prototype.get=function(e){return this.__data__.get(e)},Zn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var dr=Pi(br),hr=Pi(wr,!0);function fr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function pr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(l===i?a==a&&!ca(a):n(a,l)))var l=a,c=s}return c}function mr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=go),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?gr(a,t-1,n,r,i):kt(i,a):r||(i[i.length]=a)}return i}var vr=Ai(),yr=Ai(!0);function br(e,t){return e&&vr(e,t,Aa)}function wr(e,t){return e&&yr(e,t,Aa)}function _r(e,t){return Et(t,(function(t){return Xs(e[t])}))}function Er(e,t){for(var n=0,r=(t=vi(t,e)).length;null!=e&&n<r;)e=e[Uo(t[n++])];return n&&n==r?e:i}function Cr(e,t,n){var r=t(e);return Gs(e)?r:kt(r,n(e))}function Tr(e){return null==e?e===i?"[object Undefined]":"[object Null]":at&&at in Te(e)?function(e){var t=Re.call(e,at),n=e[at];try{e[at]=i;var r=!0}catch(e){}var o=Me.call(e);return r&&(t?e[at]=n:delete e[at]),o}(e):function(e){return Me.call(e)}(e)}function Sr(e,t){return e>t}function kr(e,t){return null!=e&&Re.call(e,t)}function Ir(e,t){return null!=e&&t in Te(e)}function xr(e,t,n){for(var o=n?Tt:Ct,s=e[0].length,a=e.length,l=a,c=r(a),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=St(h,Wt(t))),u=yn(h.length,u),c[l]=!n&&(t||s>=120&&h.length>=120)?new $n(l&&h):i}h=e[0];var f=-1,p=c[0];e:for(;++f<s&&d.length<u;){var m=h[f],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?Gt(p,g):o(d,g,n))){for(l=a;--l;){var v=c[l];if(!(v?Gt(v,g):o(e[l],g,n)))continue e}p&&p.push(g),d.push(m)}}return d}function Or(e,t,n){var r=null==(e=ko(e,t=vi(t,e)))?e:e[Uo(Qo(t))];return null==r?i:vt(r,e,n)}function Nr(e){return na(e)&&Tr(e)==m}function Pr(e,t,n,r,o){return e===t||(null==e||null==t||!na(e)&&!na(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=Gs(e),l=Gs(t),c=a?g:fo(e),u=l?g:fo(t),d=(c=c==m?T:c)==T,h=(u=u==m?T:u)==T,f=c==u;if(f&&Ks(e)){if(!Ks(t))return!1;a=!0,d=!1}if(f&&!d)return s||(s=new Zn),a||ua(e)?Ji(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case v:case y:case C:return zs(+e,+t);case b:return e.name==t.name&&e.message==t.message;case k:case x:return e==t+"";case E:var a=Jt;case I:var l=1&r;if(a||(a=nn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=Ji(a(e),a(t),r,i,o,s);return s.delete(e),u;case O:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,c,n,r,o,s);if(!(1&n)){var p=d&&Re.call(e,"__wrapped__"),w=h&&Re.call(t,"__wrapped__");if(p||w){var _=p?e.value():e,S=w?t.value():t;return s||(s=new Zn),o(_,S,n,r,s)}}return!!f&&(s||(s=new Zn),function(e,t,n,r,o,s){var a=1&n,l=to(e),c=l.length;if(c!=to(t).length&&!a)return!1;for(var u=c;u--;){var d=l[u];if(!(a?d in t:Re.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);for(var m=a;++u<c;){var g=e[d=l[u]],v=t[d];if(r)var y=a?r(v,g,d,t,e,s):r(g,v,d,e,t,s);if(!(y===i?g===v||o(g,v,n,r,s):y)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,o,s))}(e,t,n,r,Pr,o))}function Ar(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Te(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=n[o])[0],u=e[c],d=l[1];if(a&&l[2]){if(u===i&&!(c in e))return!1}else{var h=new Zn;if(r)var f=r(u,d,c,e,t,h);if(!(f===i?Pr(d,u,3,r,h):f))return!1}}return!0}function Rr(e){return!(!ta(e)||(t=e,Le&&Le in t))&&(Xs(e)?je:me).test(jo(e));var t}function Dr(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Gs(e)?jr(e[0],e[1]):Ur(e):fl(e)}function Lr(e){if(!Eo(e))return gn(e);var t=[];for(var n in Te(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e,t){return e<t}function Fr(e,t){var n=-1,i=$s(e)?r(e.length):[];return dr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Ur(e){var t=lo(e);return 1==t.length&&t[0][2]?To(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}}function jr(e,t){return bo(e)&&Co(t)?To(Uo(e),t):function(n){var r=Ia(n,e);return r===i&&r===t?xa(n,e):Pr(t,r,3)}}function Br(e,t,n,r,o){e!==t&&vr(t,(function(s,a){if(o||(o=new Zn),ta(s))!function(e,t,n,r,o,s,a){var l=xo(e,n),c=xo(t,n),u=a.get(c);if(u)Jn(e,n,u);else{var d=s?s(l,c,n+"",e,t,a):i,h=d===i;if(h){var f=Gs(c),p=!f&&Ks(c),m=!f&&!p&&ua(c);d=c,f||p||m?Gs(l)?d=l:Zs(l)?d=Ii(l):p?(h=!1,d=_i(c,!0)):m?(h=!1,d=Ci(c,!0)):d=[]:oa(c)||qs(c)?(d=l,qs(l)?d=ya(l):ta(l)&&!Xs(l)||(d=mo(c))):h=!1}h&&(a.set(c,d),o(d,c,r,s,a),a.delete(c)),Jn(e,n,d)}}(e,t,a,n,Br,r,o);else{var l=r?r(xo(e,a),s,a+"",e,t,o):i;l===i&&(l=s),Jn(e,a,l)}}),Ra)}function zr(e,t){var n=e.length;if(n)return vo(t+=t<0?n:0,n)?e[t]:i}function Vr(e,t,n){t=t.length?St(t,(function(e){return Gs(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[il];var r=-1;t=St(t,Wt(so()));var i=Fr(e,(function(e,n,i){var o=St(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=Ti(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function Wr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Er(e,s);n(a,s)&&Qr(o,vi(s,e),a)}return o}function qr(e,t,n,r){var i=r?Dt:Rt,o=-1,s=t.length,a=e;for(e===t&&(t=Ii(t)),n&&(a=St(e,Wt(n)));++o<s;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&rt.call(a,l,1),rt.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;vo(i)?rt.call(e,i,1):ci(e,i)}}return e}function Hr(e,t){return e+dn(_n()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=dn(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Po(So(e,t,il),e+"")}function Kr(e){return Yn(za(e))}function Yr(e,t){var n=za(e);return Do(n,sr(t,0,n.length))}function Qr(e,t,n,r){if(!ta(e))return e;for(var o=-1,s=(t=vi(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var c=Uo(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var d=l[c];(u=r?r(d,c,l):i)===i&&(u=ta(d)?d:vo(t[o+1])?[]:{})}er(l,c,u),l=l[c]}return e}var Xr=On?function(e,t){return On.set(e,t),e}:il,Jr=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ei(e){return Do(za(e))}function ti(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ni(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ri(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!ca(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ii(e,t,il,n)}function ii(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,l=null===t,c=ca(t),u=t===i;o<s;){var d=dn((o+s)/2),h=n(e[d]),f=h!==i,p=null===h,m=h==h,g=ca(h);if(a)var v=r||m;else v=u?m&&(r||f):l?m&&f&&(r||!p):c?m&&f&&!p&&(r||!g):!p&&!g&&(r?h<=t:h<t);v?o=d+1:s=d}return yn(s,4294967294)}function oi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!zs(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function si(e){return"number"==typeof e?e:ca(e)?h:+e}function ai(e){if("string"==typeof e)return e;if(Gs(e))return St(e,ai)+"";if(ca(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function li(e,t,n){var r=-1,i=Ct,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=Tt;else if(o>=200){var c=t?null:$i(e);if(c)return nn(c);s=!1,i=Gt,l=new $n}else l=t?[]:a;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function ci(e,t){return null==(e=ko(e,t=vi(t,e)))||delete e[Uo(Qo(t))]}function ui(e,t,n,r){return Qr(e,t,n(Er(e,t)),r)}function di(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ti(e,r?0:o,r?o+1:i):ti(e,r?o+1:0,r?i:o)}function hi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),It(t,(function(e,t){return t.func.apply(t.thisArg,kt([e],t.args))}),n)}function fi(e,t,n){var i=e.length;if(i<2)return i?li(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=ur(s[o]||a,e[l],t,n));return li(gr(s,1),t,n)}function pi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var l=r<s?t[r]:i;n(a,e[r],l)}return a}function mi(e){return Zs(e)?e:[]}function gi(e){return"function"==typeof e?e:il}function vi(e,t){return Gs(e)?e:bo(e,t)?[e]:Fo(ba(e))}var yi=Zr;function bi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ti(e,t,n)}var wi=ut||function(e){return ot.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Ci(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=ca(e),a=t!==i,l=null===t,c=t==t,u=ca(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!u&&e<t||u&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}function Si(e,t,n,i){for(var o=-1,s=e.length,a=n.length,l=-1,c=t.length,u=vn(s-a,0),d=r(c+u),h=!i;++l<c;)d[l]=t[l];for(;++o<a;)(h||o<s)&&(d[n[o]]=e[o]);for(;u--;)d[l++]=e[o++];return d}function ki(e,t,n,i){for(var o=-1,s=e.length,a=-1,l=n.length,c=-1,u=t.length,d=vn(s-l,0),h=r(d+u),f=!i;++o<d;)h[o]=e[o];for(var p=o;++c<u;)h[p+c]=t[c];for(;++a<l;)(f||o<s)&&(h[p+n[a]]=e[o++]);return h}function Ii(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function xi(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),o?ir(n,l,c):er(n,l,c)}return n}function Oi(e,t){return function(n,r){var i=Gs(n)?yt:nr,o=t?t():{};return i(n,e,so(r,2),o)}}function Ni(e){return Zr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&yo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Te(t);++r<o;){var l=n[r];l&&e(t,l,r,s)}return t}))}function Pi(e,t){return function(n,r){if(null==n)return n;if(!$s(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Te(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ai(e){return function(t,n,r){for(var i=-1,o=Te(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Ri(e){return function(t){var n=Xt(t=ba(t))?sn(t):i,r=n?n[0]:t.charAt(0),o=n?bi(n,1).join(""):t.slice(1);return r[e]()+o}}function Di(e){return function(t){return It(Xa(qa(t).replace(qe,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return ta(r)?r:n}}function Mi(e){return function(t,n,r){var o=Te(t);if(!$s(t)){var s=so(n,3);t=Aa(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Fi(e){return eo((function(t){var n=t.length,r=n,s=Vn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ie(o);if(s&&!l&&"wrapper"==io(a))var l=new Vn([],!0)}for(r=l?r:n;++r<n;){var c=io(a=t[r]),u="wrapper"==c?ro(a):i;l=u&&wo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[io(u[0])].apply(l,u[3]):1==a.length&&wo(a)?l[c]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Gs(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ui(e,t,n,o,s,a,l,u,d,h){var f=t&c,p=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Li(e);return function i(){for(var c=arguments.length,b=r(c),w=c;w--;)b[w]=arguments[w];if(g)var _=oo(i),E=Zt(b,_);if(o&&(b=Si(b,o,s,g)),a&&(b=ki(b,a,l,g)),c-=E,g&&c<h){var C=tn(b,_);return Gi(e,t,Ui,i.placeholder,n,b,C,u,d,h-c)}var T=p?n:this,S=m?T[e]:e;return c=b.length,u?b=Io(b,u):v&&c>1&&b.reverse(),f&&d<c&&(b.length=d),this&&this!==ot&&this instanceof i&&(S=y||Li(S)),S.apply(T,b)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Bi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ai(n),r=ai(r)):(n=si(n),r=si(r)),o=e(n,r)}return o}}function zi(e){return eo((function(t){return t=St(t,Wt(so())),Zr((function(n){var r=this;return e(t,(function(e){return vt(e,r,n)}))}))}))}function Vi(e,t){var n=(t=t===i?" ":ai(t)).length;if(n<2)return n?$r(t,e):t;var r=$r(t,un(e/on(t)));return Xt(t)?bi(sn(r),0,e).join(""):r.slice(0,e)}function Wi(e){return function(t,n,o){return o&&"number"!=typeof o&&yo(t,n,o)&&(n=o=i),t=pa(t),n===i?(n=t,t=0):n=pa(n),function(e,t,n,i){for(var o=-1,s=vn(un((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:pa(o),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=va(t),n=va(n)),e(t,n)}}function Gi(e,t,n,r,o,s,a,c,u,d){var h=8&t;t|=h?l:64,4&(t&=~(h?64:l))||(t&=-4);var f=[e,t,o,h?s:i,h?a:i,h?i:s,h?i:a,c,u,d],p=n.apply(i,f);return wo(e)&&Oo(p,f),p.placeholder=r,Ao(p,e,t)}function Hi(e){var t=Ce[e];return function(e,n){if(e=va(e),(n=null==n?0:yn(ma(n),292))&&pn(e)){var r=(ba(e)+"e").split("e");return+((r=(ba(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $i=kn&&1/nn(new kn([,-0]))[1]==u?function(e){return new kn(e)}:cl;function Zi(e){return function(t){var n=fo(t);return n==E?Jt(t):n==I?rn(t):function(e,t){return St(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ki(e,t,n,s,u,d,h,f){var p=2&t;if(!p&&"function"!=typeof e)throw new Ie(o);var m=s?s.length:0;if(m||(t&=-97,s=u=i),h=h===i?h:vn(ma(h),0),f=f===i?f:ma(f),m-=u?u.length:0,64&t){var g=s,v=u;s=u=i}var y=p?i:ro(e),b=[e,t,n,s,u,g,v,d,h,f];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==c&&8==n||r==c&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Si(u,l,t[4]):l,e[4]=u?tn(e[3],a):t[4]}(l=t[5])&&(u=e[5],e[5]=u?ki(u,l,t[6]):l,e[6]=u?tn(e[5],a):t[6]),(l=t[7])&&(e[7]=l),r&c&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,y),e=b[0],t=b[1],n=b[2],s=b[3],u=b[4],!(f=b[9]=b[9]===i?p?0:e.length:vn(b[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||16==t?function(e,t,n){var o=Li(e);return function s(){for(var a=arguments.length,l=r(a),c=a,u=oo(s);c--;)l[c]=arguments[c];var d=a<3&&l[0]!==u&&l[a-1]!==u?[]:tn(l,u);return(a-=d.length)<n?Gi(e,t,Ui,s.placeholder,i,l,d,i,i,n-a):vt(this&&this!==ot&&this instanceof s?o:e,this,l)}}(e,t,f):t!=l&&33!=t||u.length?Ui.apply(i,b):function(e,t,n,i){var o=1&t,s=Li(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=i.length,d=r(u+l),h=this&&this!==ot&&this instanceof t?s:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++a];return vt(h,o?n:this,d)}}(e,t,n,s);else var w=function(e,t,n){var r=1&t,i=Li(e);return function t(){return(this&&this!==ot&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Ao((y?Xr:Oo)(w,b),e,t)}function Yi(e,t,n,r){return e===i||zs(e,Ne[n])&&!Re.call(r,n)?t:e}function Qi(e,t,n,r,o,s){return ta(e)&&ta(t)&&(s.set(t,e),Br(e,t,i,Qi,s),s.delete(t)),e}function Xi(e){return oa(e)?i:e}function Ji(e,t,n,r,o,s){var a=1&n,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,p=2&n?new $n:i;for(s.set(e,t),s.set(t,e);++h<l;){var m=e[h],g=t[h];if(r)var v=a?r(g,m,h,t,e,s):r(m,g,h,e,t,s);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Ot(t,(function(e,t){if(!Gt(p,t)&&(m===e||o(m,e,n,r,s)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function eo(e){return Po(So(e,i,Ho),e+"")}function to(e){return Cr(e,Aa,uo)}function no(e){return Cr(e,Ra,ho)}var ro=On?function(e){return On.get(e)}:cl;function io(e){for(var t=e.name+"",n=Nn[t],r=Re.call(Nn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function oo(e){return(Re.call(jn,"placeholder")?jn:e).placeholder}function so(){var e=jn.iteratee||ol;return e=e===ol?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function ao(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function lo(e){for(var t=Aa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Co(i)]}return t}function co(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Rr(n)?n:i}var uo=hn?function(e){return null==e?[]:(e=Te(e),Et(hn(e),(function(t){return et.call(e,t)})))}:gl,ho=hn?function(e){for(var t=[];e;)kt(t,uo(e)),e=He(e);return t}:gl,fo=Tr;function po(e,t,n){for(var r=-1,i=(t=vi(t,e)).length,o=!1;++r<i;){var s=Uo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ea(i)&&vo(s,i)&&(Gs(e)||qs(e))}function mo(e){return"function"!=typeof e.constructor||Eo(e)?{}:Bn(He(e))}function go(e){return Gs(e)||qs(e)||!!(it&&e&&e[it])}function vo(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function yo(e,t,n){if(!ta(n))return!1;var r=typeof t;return!!("number"==r?$s(n)&&vo(t,n.length):"string"==r&&t in n)&&zs(n[t],e)}function bo(e,t){if(Gs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ca(e))||J.test(e)||!X.test(e)||null!=t&&e in Te(t)}function wo(e){var t=io(e),n=jn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=ro(n);return!!r&&e===r[0]}(Cn&&fo(new Cn(new ArrayBuffer(1)))!=A||Tn&&fo(new Tn)!=E||Sn&&fo(Sn.resolve())!=S||kn&&fo(new kn)!=I||In&&fo(new In)!=N)&&(fo=function(e){var t=Tr(e),n=t==T?e.constructor:i,r=n?jo(n):"";if(r)switch(r){case Pn:return A;case An:return E;case Rn:return S;case Dn:return I;case Ln:return N}return t});var _o=Pe?Xs:vl;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function Co(e){return e==e&&!ta(e)}function To(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Te(n))}}function So(e,t,n){return t=vn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=vn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(a),vt(e,this,l)}}function ko(e,t){return t.length<2?e:Er(e,ti(t,0,-1))}function Io(e,t){for(var n=e.length,r=yn(t.length,n),o=Ii(e);r--;){var s=t[r];e[r]=vo(s,n)?o[s]:i}return e}function xo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oo=Ro(Xr),No=Ut||function(e,t){return ot.setTimeout(e,t)},Po=Ro(Jr);function Ao(e,t,n){var r=t+"";return Po(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return bt(p,(function(n){var r="_."+n[0];t&n[1]&&!Ct(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Ro(e){var t=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Do(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Hr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Lo,Mo,Fo=(Lo=Ls((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(ue,"$1"):n||e)})),t}),(function(e){return 500===Mo.size&&Mo.clear(),e})),Mo=Lo.cache,Lo);function Uo(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return Ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Bo(e){if(e instanceof Wn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zo=Zr((function(e,t){return Zs(e)?ur(e,gr(t,1,Zs,!0)):[]})),Vo=Zr((function(e,t){var n=Qo(t);return Zs(n)&&(n=i),Zs(e)?ur(e,gr(t,1,Zs,!0),so(n,2)):[]})),Wo=Zr((function(e,t){var n=Qo(t);return Zs(n)&&(n=i),Zs(e)?ur(e,gr(t,1,Zs,!0),i,n):[]}));function qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=vn(r+i,0)),At(e,so(t,3),i)}function Go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ma(n),o=n<0?vn(r+o,0):yn(o,r-1)),At(e,so(t,3),o,!0)}function Ho(e){return null!=e&&e.length?gr(e,1):[]}function $o(e){return e&&e.length?e[0]:i}var Zo=Zr((function(e){var t=St(e,mi);return t.length&&t[0]===e[0]?xr(t):[]})),Ko=Zr((function(e){var t=Qo(e),n=St(e,mi);return t===Qo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?xr(n,so(t,2)):[]})),Yo=Zr((function(e){var t=Qo(e),n=St(e,mi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?xr(n,i,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xo=Zr(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var es=eo((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Gr(e,St(t,(function(e){return vo(e,n)?+e:e})).sort(Ti)),r}));function ts(e){return null==e?e:En.call(e)}var ns=Zr((function(e){return li(gr(e,1,Zs,!0))})),rs=Zr((function(e){var t=Qo(e);return Zs(t)&&(t=i),li(gr(e,1,Zs,!0),so(t,2))})),is=Zr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,li(gr(e,1,Zs,!0),i,t)}));function os(e){if(!e||!e.length)return[];var t=0;return e=Et(e,(function(e){if(Zs(e))return t=vn(e.length,t),!0})),zt(t,(function(t){return St(e,Ft(t))}))}function ss(e,t){if(!e||!e.length)return[];var n=os(e);return null==t?n:St(n,(function(e){return vt(t,i,e)}))}var as=Zr((function(e,t){return Zs(e)?ur(e,t):[]})),ls=Zr((function(e){return fi(Et(e,Zs))})),cs=Zr((function(e){var t=Qo(e);return Zs(t)&&(t=i),fi(Et(e,Zs),so(t,2))})),us=Zr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,fi(Et(e,Zs),i,t)})),ds=Zr(os),hs=Zr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ss(e,n)}));function fs(e){var t=jn(e);return t.__chain__=!0,t}function ps(e,t){return t(e)}var ms=eo((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&vo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ps,args:[o],thisArg:i}),new Vn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),gs=Oi((function(e,t,n){Re.call(e,n)?++e[n]:ir(e,n,1)})),vs=Mi(qo),ys=Mi(Go);function bs(e,t){return(Gs(e)?bt:dr)(e,so(t,3))}function ws(e,t){return(Gs(e)?wt:hr)(e,so(t,3))}var _s=Oi((function(e,t,n){Re.call(e,n)?e[n].push(t):ir(e,n,[t])})),Es=Zr((function(e,t,n){var i=-1,o="function"==typeof t,s=$s(e)?r(e.length):[];return dr(e,(function(e){s[++i]=o?vt(t,e,n):Or(e,t,n)})),s})),Cs=Oi((function(e,t,n){ir(e,n,t)}));function Ts(e,t){return(Gs(e)?St:Fr)(e,so(t,3))}var Ss=Oi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),ks=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&yo(e,t[0],t[1])?t=[]:n>2&&yo(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,gr(t,1),[])})),Is=Nt||function(){return ot.Date.now()};function xs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ki(e,c,i,i,i,i,t)}function Os(e,t){var n;if("function"!=typeof t)throw new Ie(o);return e=ma(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ns=Zr((function(e,t,n){var r=1;if(n.length){var i=tn(n,oo(Ns));r|=l}return Ki(e,r,t,n,i)})),Ps=Zr((function(e,t,n){var r=3;if(n.length){var i=tn(n,oo(Ps));r|=l}return Ki(t,r,e,n,i)}));function As(e,t,n){var r,s,a,l,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ie(o);function m(t){var n=r,o=s;return r=s=i,d=t,l=e.apply(o,n)}function g(e){return d=e,c=No(y,t),h?m(e):l}function v(e){var n=e-u;return u===i||n>=t||n<0||f&&e-d>=a}function y(){var e=Is();if(v(e))return b(e);c=No(y,function(e){var n=t-(e-u);return f?yn(n,a-(e-d)):n}(e))}function b(e){return c=i,p&&r?m(e):(r=s=i,l)}function w(){var e=Is(),n=v(e);if(r=arguments,s=this,u=e,n){if(c===i)return g(u);if(f)return wi(c),c=No(y,t),m(u)}return c===i&&(c=No(y,t)),l}return t=va(t)||0,ta(n)&&(h=!!n.leading,a=(f="maxWait"in n)?vn(va(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){c!==i&&wi(c),d=0,r=u=s=c=i},w.flush=function(){return c===i?l:b(Is())},w}var Rs=Zr((function(e,t){return cr(e,1,t)})),Ds=Zr((function(e,t,n){return cr(e,va(t)||0,n)}));function Ls(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ls.Cache||Hn),n}function Ms(e){if("function"!=typeof e)throw new Ie(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ls.Cache=Hn;var Fs=yi((function(e,t){var n=(t=1==t.length&&Gs(t[0])?St(t[0],Wt(so())):St(gr(t,1),Wt(so()))).length;return Zr((function(r){for(var i=-1,o=yn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return vt(e,this,r)}))})),Us=Zr((function(e,t){var n=tn(t,oo(Us));return Ki(e,l,i,t,n)})),js=Zr((function(e,t){var n=tn(t,oo(js));return Ki(e,64,i,t,n)})),Bs=eo((function(e,t){return Ki(e,256,i,i,i,t)}));function zs(e,t){return e===t||e!=e&&t!=t}var Vs=qi(Sr),Ws=qi((function(e,t){return e>=t})),qs=Nr(function(){return arguments}())?Nr:function(e){return na(e)&&Re.call(e,"callee")&&!et.call(e,"callee")},Gs=r.isArray,Hs=dt?Wt(dt):function(e){return na(e)&&Tr(e)==P};function $s(e){return null!=e&&ea(e.length)&&!Xs(e)}function Zs(e){return na(e)&&$s(e)}var Ks=fn||vl,Ys=ht?Wt(ht):function(e){return na(e)&&Tr(e)==y};function Qs(e){if(!na(e))return!1;var t=Tr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Xs(e){if(!ta(e))return!1;var t=Tr(e);return t==w||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==ma(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function na(e){return null!=e&&"object"==typeof e}var ra=ft?Wt(ft):function(e){return na(e)&&fo(e)==E};function ia(e){return"number"==typeof e||na(e)&&Tr(e)==C}function oa(e){if(!na(e)||Tr(e)!=T)return!1;var t=He(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ae.call(n)==Fe}var sa=pt?Wt(pt):function(e){return na(e)&&Tr(e)==k},aa=mt?Wt(mt):function(e){return na(e)&&fo(e)==I};function la(e){return"string"==typeof e||!Gs(e)&&na(e)&&Tr(e)==x}function ca(e){return"symbol"==typeof e||na(e)&&Tr(e)==O}var ua=gt?Wt(gt):function(e){return na(e)&&ea(e.length)&&!!Xe[Tr(e)]},da=qi(Mr),ha=qi((function(e,t){return e<=t}));function fa(e){if(!e)return[];if($s(e))return la(e)?sn(e):Ii(e);if(st&&e[st])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[st]());var t=fo(e);return(t==E?Jt:t==I?nn:za)(e)}function pa(e){return e?(e=va(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ma(e){var t=pa(e),n=t%1;return t==t?n?t-n:t:0}function ga(e){return e?sr(ma(e),0,f):0}function va(e){if("number"==typeof e)return e;if(ca(e))return h;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Vt(e);var n=pe.test(e);return n||ge.test(e)?nt(e.slice(2),n?2:8):fe.test(e)?h:+e}function ya(e){return xi(e,Ra(e))}function ba(e){return null==e?"":ai(e)}var wa=Ni((function(e,t){if(Eo(t)||$s(t))xi(t,Aa(t),e);else for(var n in t)Re.call(t,n)&&er(e,n,t[n])})),_a=Ni((function(e,t){xi(t,Ra(t),e)})),Ea=Ni((function(e,t,n,r){xi(t,Ra(t),e,r)})),Ca=Ni((function(e,t,n,r){xi(t,Aa(t),e,r)})),Ta=eo(or),Sa=Zr((function(e,t){e=Te(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&yo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Ra(s),l=-1,c=a.length;++l<c;){var u=a[l],d=e[u];(d===i||zs(d,Ne[u])&&!Re.call(e,u))&&(e[u]=s[u])}return e})),ka=Zr((function(e){return e.push(i,Qi),vt(La,i,e)}));function Ia(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function xa(e,t){return null!=e&&po(e,t,Ir)}var Oa=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),tl(il)),Na=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),so),Pa=Zr(Or);function Aa(e){return $s(e)?Kn(e):Lr(e)}function Ra(e){return $s(e)?Kn(e,!0):function(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}(e)}var Da=Ni((function(e,t,n){Br(e,t,n)})),La=Ni((function(e,t,n,r){Br(e,t,n,r)})),Ma=eo((function(e,t){var n={};if(null==e)return n;var r=!1;t=St(t,(function(t){return t=vi(t,e),r||(r=t.length>1),t})),xi(e,no(e),n),r&&(n=ar(n,7,Xi));for(var i=t.length;i--;)ci(n,t[i]);return n})),Fa=eo((function(e,t){return null==e?{}:function(e,t){return Wr(e,t,(function(t,n){return xa(e,n)}))}(e,t)}));function Ua(e,t){if(null==e)return{};var n=St(no(e),(function(e){return[e]}));return t=so(t),Wr(e,n,(function(e,n){return t(e,n[0])}))}var ja=Zi(Aa),Ba=Zi(Ra);function za(e){return null==e?[]:qt(e,Aa(e))}var Va=Di((function(e,t,n){return t=t.toLowerCase(),e+(n?Wa(t):t)}));function Wa(e){return Qa(ba(e).toLowerCase())}function qa(e){return(e=ba(e))&&e.replace(ye,Kt).replace(Ge,"")}var Ga=Di((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ha=Di((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),$a=Ri("toLowerCase"),Za=Di((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ka=Di((function(e,t,n){return e+(n?" ":"")+Qa(t)})),Ya=Di((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qa=Ri("toUpperCase");function Xa(e,t,n){return e=ba(e),(t=n?i:t)===i?function(e){return Ke.test(e)}(e)?function(e){return e.match($e)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Ja=Zr((function(e,t){try{return vt(e,i,t)}catch(e){return Qs(e)?e:new _e(e)}})),el=eo((function(e,t){return bt(t,(function(t){t=Uo(t),ir(e,t,Ns(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=Fi(),rl=Fi(!0);function il(e){return e}function ol(e){return Dr("function"==typeof e?e:ar(e,1))}var sl=Zr((function(e,t){return function(n){return Or(n,e,t)}})),al=Zr((function(e,t){return function(n){return Or(e,n,t)}}));function ll(e,t,n){var r=Aa(t),i=_r(t,r);null!=n||ta(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,Aa(t)));var o=!(ta(n)&&"chain"in n&&!n.chain),s=Xs(e);return bt(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ii(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,kt([this.value()],arguments))})})),e}function cl(){}var ul=zi(St),dl=zi(_t),hl=zi(Ot);function fl(e){return bo(e)?Ft(Uo(e)):function(e){return function(t){return Er(t,e)}}(e)}var pl=Wi(),ml=Wi(!0);function gl(){return[]}function vl(){return!1}var yl,bl=Bi((function(e,t){return e+t}),0),wl=Hi("ceil"),_l=Bi((function(e,t){return e/t}),1),El=Hi("floor"),Cl=Bi((function(e,t){return e*t}),1),Tl=Hi("round"),Sl=Bi((function(e,t){return e-t}),0);return jn.after=function(e,t){if("function"!=typeof t)throw new Ie(o);return e=ma(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=xs,jn.assign=wa,jn.assignIn=_a,jn.assignInWith=Ea,jn.assignWith=Ca,jn.at=Ta,jn.before=Os,jn.bind=Ns,jn.bindAll=el,jn.bindKey=Ps,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Gs(e)?e:[e]},jn.chain=fs,jn.chunk=function(e,t,n){t=(n?yo(e,t,n):t===i)?1:vn(ma(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,l=r(un(o/t));s<o;)l[a++]=ti(e,s,s+=t);return l},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return kt(Gs(n)?Ii(n):[n],gr(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=so();return e=t?St(e,(function(e){if("function"!=typeof e[1])throw new Ie(o);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(vt(i[0],this,n))return vt(i[1],this,n)}}))},jn.conforms=function(e){return function(e){var t=Aa(e);return function(n){return lr(n,e,t)}}(ar(e,1))},jn.constant=tl,jn.countBy=gs,jn.create=function(e,t){var n=Bn(e);return null==t?n:rr(n,t)},jn.curry=function e(t,n,r){var o=Ki(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},jn.curryRight=function e(t,n,r){var o=Ki(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},jn.debounce=As,jn.defaults=Sa,jn.defaultsDeep=ka,jn.defer=Rs,jn.delay=Ds,jn.difference=zo,jn.differenceBy=Vo,jn.differenceWith=Wo,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,(t=n||t===i?1:ma(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,0,(t=r-(t=n||t===i?1:ma(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?di(e,so(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?di(e,so(t,3),!0):[]},jn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&yo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ma(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ma(r))<0&&(r+=o),r=n>r?0:ga(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(Gs(e)?Et:mr)(e,so(t,3))},jn.flatMap=function(e,t){return gr(Ts(e,t),1)},jn.flatMapDeep=function(e,t){return gr(Ts(e,t),u)},jn.flatMapDepth=function(e,t,n){return n=n===i?1:ma(n),gr(Ts(e,t),n)},jn.flatten=Ho,jn.flattenDeep=function(e){return null!=e&&e.length?gr(e,u):[]},jn.flattenDepth=function(e,t){return null!=e&&e.length?gr(e,t=t===i?1:ma(t)):[]},jn.flip=function(e){return Ki(e,512)},jn.flow=nl,jn.flowRight=rl,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},jn.functions=function(e){return null==e?[]:_r(e,Aa(e))},jn.functionsIn=function(e){return null==e?[]:_r(e,Ra(e))},jn.groupBy=_s,jn.initial=function(e){return null!=e&&e.length?ti(e,0,-1):[]},jn.intersection=Zo,jn.intersectionBy=Ko,jn.intersectionWith=Yo,jn.invert=Oa,jn.invertBy=Na,jn.invokeMap=Es,jn.iteratee=ol,jn.keyBy=Cs,jn.keys=Aa,jn.keysIn=Ra,jn.map=Ts,jn.mapKeys=function(e,t){var n={};return t=so(t,3),br(e,(function(e,r,i){ir(n,t(e,r,i),e)})),n},jn.mapValues=function(e,t){var n={};return t=so(t,3),br(e,(function(e,r,i){ir(n,r,t(e,r,i))})),n},jn.matches=function(e){return Ur(ar(e,1))},jn.matchesProperty=function(e,t){return jr(e,ar(t,1))},jn.memoize=Ls,jn.merge=Da,jn.mergeWith=La,jn.method=sl,jn.methodOf=al,jn.mixin=ll,jn.negate=Ms,jn.nthArg=function(e){return e=ma(e),Zr((function(t){return zr(t,e)}))},jn.omit=Ma,jn.omitBy=function(e,t){return Ua(e,Ms(so(t)))},jn.once=function(e){return Os(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(Gs(t)||(t=null==t?[]:[t]),Gs(n=r?i:n)||(n=null==n?[]:[n]),Vr(e,t,n))},jn.over=ul,jn.overArgs=Fs,jn.overEvery=dl,jn.overSome=hl,jn.partial=Us,jn.partialRight=js,jn.partition=Ss,jn.pick=Fa,jn.pickBy=Ua,jn.property=fl,jn.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},jn.pull=Xo,jn.pullAll=Jo,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,so(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,i,n):e},jn.pullAt=es,jn.range=pl,jn.rangeRight=ml,jn.rearg=Bs,jn.reject=function(e,t){return(Gs(e)?Et:mr)(e,Ms(so(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=so(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Gr(e,i),n},jn.rest=function(e,t){if("function"!=typeof e)throw new Ie(o);return Zr(e,t=t===i?t:ma(t))},jn.reverse=ts,jn.sampleSize=function(e,t,n){return t=(n?yo(e,t,n):t===i)?1:ma(t),(Gs(e)?Qn:Yr)(e,t)},jn.set=function(e,t,n){return null==e?e:Qr(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Qr(e,t,n,r)},jn.shuffle=function(e){return(Gs(e)?Xn:ei)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&yo(e,t,n)?(t=0,n=r):(t=null==t?0:ma(t),n=n===i?r:ma(n)),ti(e,t,n)):[]},jn.sortBy=ks,jn.sortedUniq=function(e){return e&&e.length?oi(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?oi(e,so(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&yo(e,t,n)&&(t=n=i),(n=n===i?f:n>>>0)?(e=ba(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=ai(t))&&Xt(e)?bi(sn(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new Ie(o);return t=null==t?0:vn(ma(t),0),Zr((function(n){var r=n[t],i=bi(n,0,t);return r&&kt(i,r),vt(e,this,i)}))},jn.tail=function(e){var t=null==e?0:e.length;return t?ti(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?ti(e,0,(t=n||t===i?1:ma(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,(t=r-(t=n||t===i?1:ma(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?di(e,so(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?di(e,so(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ie(o);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),As(e,t,{leading:r,maxWait:t,trailing:i})},jn.thru=ps,jn.toArray=fa,jn.toPairs=ja,jn.toPairsIn=Ba,jn.toPath=function(e){return Gs(e)?St(e,Uo):ca(e)?[e]:Ii(Fo(ba(e)))},jn.toPlainObject=ya,jn.transform=function(e,t,n){var r=Gs(e),i=r||Ks(e)||ua(e);if(t=so(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ta(e)&&Xs(o)?Bn(He(e)):{}}return(i?bt:br)(e,(function(e,r,i){return t(n,e,r,i)})),n},jn.unary=function(e){return xs(e,1)},jn.union=ns,jn.unionBy=rs,jn.unionWith=is,jn.uniq=function(e){return e&&e.length?li(e):[]},jn.uniqBy=function(e,t){return e&&e.length?li(e,so(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?li(e,i,t):[]},jn.unset=function(e,t){return null==e||ci(e,t)},jn.unzip=os,jn.unzipWith=ss,jn.update=function(e,t,n){return null==e?e:ui(e,t,gi(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ui(e,t,gi(n),r)},jn.values=za,jn.valuesIn=function(e){return null==e?[]:qt(e,Ra(e))},jn.without=as,jn.words=Xa,jn.wrap=function(e,t){return Us(gi(t),e)},jn.xor=ls,jn.xorBy=cs,jn.xorWith=us,jn.zip=ds,jn.zipObject=function(e,t){return pi(e||[],t||[],er)},jn.zipObjectDeep=function(e,t){return pi(e||[],t||[],Qr)},jn.zipWith=hs,jn.entries=ja,jn.entriesIn=Ba,jn.extend=_a,jn.extendWith=Ea,ll(jn,jn),jn.add=bl,jn.attempt=Ja,jn.camelCase=Va,jn.capitalize=Wa,jn.ceil=wl,jn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=va(n))==n?n:0),t!==i&&(t=(t=va(t))==t?t:0),sr(va(e),t,n)},jn.clone=function(e){return ar(e,4)},jn.cloneDeep=function(e){return ar(e,5)},jn.cloneDeepWith=function(e,t){return ar(e,5,t="function"==typeof t?t:i)},jn.cloneWith=function(e,t){return ar(e,4,t="function"==typeof t?t:i)},jn.conformsTo=function(e,t){return null==t||lr(e,t,Aa(t))},jn.deburr=qa,jn.defaultTo=function(e,t){return null==e||e!=e?t:e},jn.divide=_l,jn.endsWith=function(e,t,n){e=ba(e),t=ai(t);var r=e.length,o=n=n===i?r:sr(ma(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},jn.eq=zs,jn.escape=function(e){return(e=ba(e))&&Z.test(e)?e.replace(H,Yt):e},jn.escapeRegExp=function(e){return(e=ba(e))&&ne.test(e)?e.replace(te,"\\$&"):e},jn.every=function(e,t,n){var r=Gs(e)?_t:fr;return n&&yo(e,t,n)&&(t=i),r(e,so(t,3))},jn.find=vs,jn.findIndex=qo,jn.findKey=function(e,t){return Pt(e,so(t,3),br)},jn.findLast=ys,jn.findLastIndex=Go,jn.findLastKey=function(e,t){return Pt(e,so(t,3),wr)},jn.floor=El,jn.forEach=bs,jn.forEachRight=ws,jn.forIn=function(e,t){return null==e?e:vr(e,so(t,3),Ra)},jn.forInRight=function(e,t){return null==e?e:yr(e,so(t,3),Ra)},jn.forOwn=function(e,t){return e&&br(e,so(t,3))},jn.forOwnRight=function(e,t){return e&&wr(e,so(t,3))},jn.get=Ia,jn.gt=Vs,jn.gte=Ws,jn.has=function(e,t){return null!=e&&po(e,t,kr)},jn.hasIn=xa,jn.head=$o,jn.identity=il,jn.includes=function(e,t,n,r){e=$s(e)?e:za(e),n=n&&!r?ma(n):0;var i=e.length;return n<0&&(n=vn(i+n,0)),la(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Rt(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=vn(r+i,0)),Rt(e,t,i)},jn.inRange=function(e,t,n){return t=pa(t),n===i?(n=t,t=0):n=pa(n),function(e,t,n){return e>=yn(t,n)&&e<vn(t,n)}(e=va(e),t,n)},jn.invoke=Pa,jn.isArguments=qs,jn.isArray=Gs,jn.isArrayBuffer=Hs,jn.isArrayLike=$s,jn.isArrayLikeObject=Zs,jn.isBoolean=function(e){return!0===e||!1===e||na(e)&&Tr(e)==v},jn.isBuffer=Ks,jn.isDate=Ys,jn.isElement=function(e){return na(e)&&1===e.nodeType&&!oa(e)},jn.isEmpty=function(e){if(null==e)return!0;if($s(e)&&(Gs(e)||"string"==typeof e||"function"==typeof e.splice||Ks(e)||ua(e)||qs(e)))return!e.length;var t=fo(e);if(t==E||t==I)return!e.size;if(Eo(e))return!Lr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return Pr(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},jn.isError=Qs,jn.isFinite=function(e){return"number"==typeof e&&pn(e)},jn.isFunction=Xs,jn.isInteger=Js,jn.isLength=ea,jn.isMap=ra,jn.isMatch=function(e,t){return e===t||Ar(e,t,lo(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Ar(e,t,lo(t),n)},jn.isNaN=function(e){return ia(e)&&e!=+e},jn.isNative=function(e){if(_o(e))throw new _e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=ia,jn.isObject=ta,jn.isObjectLike=na,jn.isPlainObject=oa,jn.isRegExp=sa,jn.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=d},jn.isSet=aa,jn.isString=la,jn.isSymbol=ca,jn.isTypedArray=ua,jn.isUndefined=function(e){return e===i},jn.isWeakMap=function(e){return na(e)&&fo(e)==N},jn.isWeakSet=function(e){return na(e)&&"[object WeakSet]"==Tr(e)},jn.join=function(e,t){return null==e?"":mn.call(e,t)},jn.kebabCase=Ga,jn.last=Qo,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ma(n))<0?vn(r+o,0):yn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):At(e,Lt,o,!0)},jn.lowerCase=Ha,jn.lowerFirst=$a,jn.lt=da,jn.lte=ha,jn.max=function(e){return e&&e.length?pr(e,il,Sr):i},jn.maxBy=function(e,t){return e&&e.length?pr(e,so(t,2),Sr):i},jn.mean=function(e){return Mt(e,il)},jn.meanBy=function(e,t){return Mt(e,so(t,2))},jn.min=function(e){return e&&e.length?pr(e,il,Mr):i},jn.minBy=function(e,t){return e&&e.length?pr(e,so(t,2),Mr):i},jn.stubArray=gl,jn.stubFalse=vl,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=Cl,jn.nth=function(e,t){return e&&e.length?zr(e,ma(t)):i},jn.noConflict=function(){return ot._===this&&(ot._=Ue),this},jn.noop=cl,jn.now=Is,jn.pad=function(e,t,n){e=ba(e);var r=(t=ma(t))?on(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Vi(dn(i),n)+e+Vi(un(i),n)},jn.padEnd=function(e,t,n){e=ba(e);var r=(t=ma(t))?on(e):0;return t&&r<t?e+Vi(t-r,n):e},jn.padStart=function(e,t,n){e=ba(e);var r=(t=ma(t))?on(e):0;return t&&r<t?Vi(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(ba(e).replace(re,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&yo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=pa(e),t===i?(t=e,e=0):t=pa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=_n();return yn(e+o*(t-e+tt("1e-"+((o+"").length-1))),t)}return Hr(e,t)},jn.reduce=function(e,t,n){var r=Gs(e)?It:jt,i=arguments.length<3;return r(e,so(t,4),n,i,dr)},jn.reduceRight=function(e,t,n){var r=Gs(e)?xt:jt,i=arguments.length<3;return r(e,so(t,4),n,i,hr)},jn.repeat=function(e,t,n){return t=(n?yo(e,t,n):t===i)?1:ma(t),$r(ba(e),t)},jn.replace=function(){var e=arguments,t=ba(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,o=(t=vi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Uo(t[r])];s===i&&(r=o,s=n),e=Xs(s)?s.call(e):s}return e},jn.round=Tl,jn.runInContext=e,jn.sample=function(e){return(Gs(e)?Yn:Kr)(e)},jn.size=function(e){if(null==e)return 0;if($s(e))return la(e)?on(e):e.length;var t=fo(e);return t==E||t==I?e.size:Lr(e).length},jn.snakeCase=Za,jn.some=function(e,t,n){var r=Gs(e)?Ot:ni;return n&&yo(e,t,n)&&(t=i),r(e,so(t,3))},jn.sortedIndex=function(e,t){return ri(e,t)},jn.sortedIndexBy=function(e,t,n){return ii(e,t,so(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ri(e,t);if(r<n&&zs(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return ri(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return ii(e,t,so(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ri(e,t,!0)-1;if(zs(e[n],t))return n}return-1},jn.startCase=Ka,jn.startsWith=function(e,t,n){return e=ba(e),n=null==n?0:sr(ma(n),0,e.length),t=ai(t),e.slice(n,n+t.length)==t},jn.subtract=Sl,jn.sum=function(e){return e&&e.length?Bt(e,il):0},jn.sumBy=function(e,t){return e&&e.length?Bt(e,so(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&yo(e,t,n)&&(t=i),e=ba(e),t=Ea({},t,r,Yi);var o,s,a=Ea({},t.imports,r.imports,Yi),l=Aa(a),c=qt(a,l),u=0,d=t.interpolate||be,h="__p += '",f=Se((t.escape||be).source+"|"+d.source+"|"+(d===Q?de:be).source+"|"+(t.evaluate||be).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qe+"]")+"\n";e.replace(f,(function(t,n,r,i,a,l){return r||(r=i),h+=e.slice(u,l).replace(we,Qt),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(ce.test(m))throw new _e("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(V,""):h).replace(W,"$1").replace(q,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Ja((function(){return Ee(l,p+"return "+h).apply(i,c)}));if(g.source=h,Qs(g))throw g;return g},jn.times=function(e,t){if((e=ma(e))<1||e>d)return[];var n=f,r=yn(e,f);t=so(t),e-=f;for(var i=zt(r,t);++n<e;)t(n);return i},jn.toFinite=pa,jn.toInteger=ma,jn.toLength=ga,jn.toLower=function(e){return ba(e).toLowerCase()},jn.toNumber=va,jn.toSafeInteger=function(e){return e?sr(ma(e),-9007199254740991,d):0===e?e:0},jn.toString=ba,jn.toUpper=function(e){return ba(e).toUpperCase()},jn.trim=function(e,t,n){if((e=ba(e))&&(n||t===i))return Vt(e);if(!e||!(t=ai(t)))return e;var r=sn(e),o=sn(t);return bi(r,Ht(r,o),$t(r,o)+1).join("")},jn.trimEnd=function(e,t,n){if((e=ba(e))&&(n||t===i))return e.slice(0,an(e)+1);if(!e||!(t=ai(t)))return e;var r=sn(e);return bi(r,0,$t(r,sn(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=ba(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=ai(t)))return e;var r=sn(e);return bi(r,Ht(r,sn(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(ta(t)){var o="separator"in t?t.separator:o;n="length"in t?ma(t.length):n,r="omission"in t?ai(t.omission):r}var s=(e=ba(e)).length;if(Xt(e)){var a=sn(e);s=a.length}if(n>=s)return e;var l=n-on(r);if(l<1)return r;var c=a?bi(a,0,l).join(""):e.slice(0,l);if(o===i)return c+r;if(a&&(l+=c.length-l),sa(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=Se(o.source,ba(he.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var h=u.index;c=c.slice(0,h===i?l:h)}}else if(e.indexOf(ai(o),l)!=l){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+r},jn.unescape=function(e){return(e=ba(e))&&$.test(e)?e.replace(G,ln):e},jn.uniqueId=function(e){var t=++De;return ba(e)+t},jn.upperCase=Ya,jn.upperFirst=Qa,jn.each=bs,jn.eachRight=ws,jn.first=$o,ll(jn,(yl={},br(jn,(function(e,t){Re.call(jn.prototype,t)||(yl[t]=e)})),yl),{chain:!1}),jn.VERSION="4.17.21",bt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jn[e].placeholder=jn})),bt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:vn(ma(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,f),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),bt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:so(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),bt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),bt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(il)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Or(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Ms(so(e)))},Wn.prototype.slice=function(e,t){e=ma(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ma(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(f)},br(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=jn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(jn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Wn,c=a[0],u=l||Gs(t),d=function(e){var t=o.apply(jn,kt([e],a));return r&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=s&&!h,m=l&&!f;if(!s&&u){t=m?t:new Wn(this);var g=e.apply(t,a);return g.__actions__.push({func:ps,args:[d],thisArg:i}),new Vn(g,h)}return p&&m?e.apply(this,a):(g=this.thru(d),p?r?g.value()[0]:g.value():g)})})),bt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=xe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Gs(i)?i:[],e)}return this[n]((function(n){return t.apply(Gs(n)?n:[],e)}))}})),br(Wn.prototype,(function(e,t){var n=jn[t];if(n){var r=n.name+"";Re.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Ui(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Gs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=yn(t,e+s);break;case"takeRight":e=vn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,d=u.length,h=0,f=yn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return hi(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}p[h++]=g}return p},jn.prototype.at=ms,jn.prototype.chain=function(){return fs(this)},jn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Bo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ps,args:[ts],thisArg:i}),new Vn(t,this.__chain__)}return this.thru(ts)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,st&&(jn.prototype[st]=function(){return this}),jn}();ot._=cn,(r=function(){return cn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var s,a,l=i(e),c=1;c<arguments.length;c++){for(var u in s=Object(arguments[c]))n.call(s,u)&&(l[u]=s[u]);if(t){a=t(s);for(var d=0;d<a.length;d++)r.call(s,a[d])&&(l[a[d]]=s[a[d]])}}return l}},2703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,C=60106,T=60107,S=60108,k=60114,I=60109,x=60110,O=60112,N=60113,P=60120,A=60115,R=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var j=Symbol.for;E=j("react.element"),C=j("react.portal"),T=j("react.fragment"),S=j("react.strict_mode"),k=j("react.profiler"),I=j("react.provider"),x=j("react.context"),O=j("react.forward_ref"),N=j("react.suspense"),P=j("react.suspense_list"),A=j("react.memo"),R=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var B,z="function"==typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function W(e){if(void 0===B)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var q=!1;function G(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function H(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return G(e.type,!1);case 11:return G(e.type.render,!1);case 22:return G(e.type._render,!1);case 1:return G(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case C:return"Portal";case k:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return $(e.type);case D:return $(e._render);case R:t=e._payload,e=e._init;try{return $(e(t))}catch(e){}}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function ce(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ie=null,xe=null;function Oe(e){if(e=Jr(e)){if("function"!=typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=ti(t),ke(e.stateNode,e.type,t))}}function Ne(e){Ie?xe?xe.push(e):xe=[e]:Ie=e}function Pe(){if(Ie){var e=Ie,t=xe;if(xe=Ie=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Ae(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Ae,Me=!1,Fe=!1;function Ue(){null===Ie&&null===xe||(De(),Pe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Be=!1;if(d)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Be=!1}function Ve(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var We=!1,qe=null,Ge=!1,He=null,$e={onError:function(e){We=!0,qe=e}};function Ze(e,t,n,r,i,o,s,a,l){We=!1,qe=null,Ve.apply($e,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Qe(e){if(Ke(e)!==e)throw Error(s(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Je(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],st=null,at=null,lt=null,ct=new Map,ut=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&null!==(t=Jr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Xr(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Jr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Jr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&vt(st)&&(st=null),null!==at&&vt(at)&&(at=null),null!==lt&&vt(lt)&&(lt=null),ct.forEach(yt),ut.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==at&&wt(at,e),null!==lt&&wt(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ct={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Tt={},St={};function kt(e){if(Tt[e])return Tt[e];if(!Ct[e])return e;var t,n=Ct[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Tt[e]=n[t];return e}d&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Ct.animationend.animation,delete Ct.animationiteration.animation,delete Ct.animationstart.animation),"TransitionEvent"in window||delete Ct.transitionend.transition);var It=kt("animationend"),xt=kt("animationiteration"),Ot=kt("animationstart"),Nt=kt("transitionend"),Pt=new Map,At=new Map,Rt=["abort","abort",It,"animationEnd",xt,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),At.set(r,t),Pt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var l=o&~s;0!==l?(r=Mt(l),i=Lt):0!=(a&=o)&&(r=Mt(a),i=Lt)}else 0!=(o=n&~s)?(r=Mt(o),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&s)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?jt(10,t):e;case 10:return 0===(e=Bt(192&~t))?jt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&0===(e=Bt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Gt|0)|0},qt=Math.log,Gt=Math.LN2,Ht=o.unstable_UserBlockingPriority,$t=o.unstable_runWithPriority,Zt=!0;function Kt(e,t,n,r){Me||De();var i=Qt,o=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Yt(e,t,n,r){$t(Ht,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if(Zt)if((i=0==(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Pr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Se(r);if(null!==(i=Xr(i))){var o=Ke(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Ye(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var Jt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(dn),fn=i({},dn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=an(mn),vn=an(i({},mn,{dataTransfer:0})),yn=an(i({},fn,{relatedTarget:0})),bn=an(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=an(i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=an(i({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function kn(){return Sn}var In=an(i({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=an(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=an(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=[9,13,27,32],Rn=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Dn,Mn=d&&(!Rn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=Rr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function $n(e){Sr(e,0)}function Zn(e){if(Q(ei(e)))return e}function Kn(e,t){if("change"===e)return t}var Yn=!1;if(d){var Qn;if(d){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"==typeof Jn.oninput}Qn=Xn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function er(){Gn&&(Gn.detachEvent("onpropertychange",tr),Hn=Gn=null)}function tr(e){if("value"===e.propertyName&&Zn(Hn)){var t=[];if(qn(t,Hn,e,Se(e)),e=$n,Me)e(t);else{Me=!0;try{Ae(e,t)}finally{Me=!1,Ue()}}}}function nr(e,t,n){"focusin"===e?(er(),Hn=n,(Gn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Hn)}function ir(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ar=Object.prototype.hasOwnProperty;function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ar.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=d&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==X(r)||(r="selectionStart"in(r=mr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Rr(gr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<wr.length;_r++)At.set(wr[_r],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ze.apply(this,arguments),We){if(!We)throw Error(s(198));var u=qe;We=!1,qe=null,Ge||(Ge=!0,He=u)}}(r,t,void 0,e),e.currentTarget=null}function Sr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Tr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Tr(i,a,c),o=l}}}if(Ge)throw e=He,Ge=!1,He=null,e}function kr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}var Ir="_reactListening"+Math.random().toString(36).slice(2);function xr(e){e[Ir]||(e[Ir]=!0,a.forEach((function(t){Cr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=ni(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Nr(o,e,i,t),s.add(a))}function Nr(e,t,n,r){var i=At.get(t);switch(void 0===i?2:i){case 0:i=Kt;break;case 1:i=Yt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=Xr(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=Se(n),s=[];e:{var a=Pt.get(e);if(void 0!==a){var l=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case It:case xt:case Ot:l=bn;break;case Nt:l=Nn;break;case"scroll":l=pn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!=(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=je(p,h))&&u.push(Ar(p,m,f))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Xr(c)&&!c[Yr])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xr(c):null)&&(c!==(d=Ke(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:ei(l),f=null==c?a:ei(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,Xr(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Dr(f))p++;for(f=0,m=h;m;m=Dr(m))f++;for(;0<p-f;)u=Dr(u),p--;for(;0<f-p;)h=Dr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Dr(u),h=Dr(h)}u=null}else u=null;null!==l&&Lr(s,a,l,u,!1),null!==c&&null!==d&&Lr(s,d,c,u,!0)}if("select"===(l=(a=r?ei(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Kn;else if(Wn(a))if(Yn)g=or;else{g=rr;var v=nr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?qn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ei(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(s,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=nn()):(en="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(v=Rr(r,b)).length&&(b=new _n(b,e,null,n,i),s.push({event:b,listeners:v}),(y||null!==(y=Bn(n)))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&jn(e,t)?(e=nn(),tn=en=Jt=null,zn=!1,e):null;switch(e){default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Rr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Sr(s,t)}))}function Ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Ar(e,o,i)),null!=(o=je(e,t))&&r.push(Ar(e,o,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=je(n,o))&&s.unshift(Ar(n,l,a)):i||null!=(l=je(n,o))&&s.push(Ar(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Mr(){}var Fr=null,Ur=null;function jr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function Wr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0,$r=Math.random().toString(36).slice(2),Zr="__reactFiber$"+$r,Kr="__reactProps$"+$r,Yr="__reactContainer$"+$r,Qr="__reactEvents$"+$r;function Xr(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Zr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function Jr(e){return!(e=e[Zr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ti(e){return e[Kr]||null}function ni(e){var t=e[Qr];return void 0===t&&(t=e[Qr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function si(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function ai(e,t){ii++,ri[ii]=e.current,e.current=t}var li={},ci=oi(li),ui=oi(!1),di=li;function hi(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function fi(e){return null!=e.childContextTypes}function pi(){si(ui),si(ci)}function mi(e,t,n){if(ci.current!==li)throw Error(s(168));ai(ci,t),ai(ui,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,$(t)||"Unknown",o));return i({},n,r)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,di=ci.current,ai(ci,e),ai(ui,ui.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=gi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,si(ui),si(ci),ai(ci,e)):si(ui),ai(ui,n)}var bi=null,wi=null,_i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,Ti=o.unstable_shouldYield,Si=o.unstable_requestPaint,ki=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,xi=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Ai=o.unstable_IdlePriority,Ri={},Di=void 0!==Si?Si:function(){},Li=null,Mi=null,Fi=!1,Ui=ki(),ji=1e4>Ui?ki:function(){return ki()-Ui};function Bi(){switch(Ii()){case xi:return 99;case Oi:return 98;case Ni:return 97;case Pi:return 96;case Ai:return 95;default:throw Error(s(332))}}function zi(e){switch(e){case 99:return xi;case 98:return Oi;case 97:return Ni;case 96:return Pi;case 95:return Ai;default:throw Error(s(332))}}function Vi(e,t){return e=zi(e),_i(e,t)}function Wi(e,t,n){return e=zi(e),Ei(e,t,n)}function qi(){if(null!==Mi){var e=Mi;Mi=null,Ci(e)}Gi()}function Gi(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ei(xi,qi),t}finally{Fi=!1}}}var Hi=_.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=oi(null),Ki=null,Yi=null,Qi=null;function Xi(){Qi=Yi=Ki=null}function Ji(e){var t=Zi.current;si(Zi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Ki=e,Qi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Rs=!0),e.firstContext=null)}function no(e,t){if(Qi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Qi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===Ki)throw Error(s(308));Yi=t,Ki.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?s=u:a.next=u,a=c;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==a&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=c)}}if(null!==s){for(h=o.baseState,a=0,d=u=c=null;;){l=s.lane;var f=s.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,l);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=m.payload)?p.call(f,h,l):p))break e;h=i({},h,l);break e;case 2:ro=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else f={eventTime:f,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(u=d=f,c=h):d=d.next=f,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(c=h),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,La|=a,e.lanes=a,e.memoizedState=h}}function uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var ho=(new r.Component).refs;function fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sl(),i=al(e),o=so(r,i);o.payload=t,null!=n&&(o.callback=n),ao(e,o),ll(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sl(),i=al(e),o=so(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),ao(e,o),ll(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sl(),r=al(e),i=so(n,r);i.tag=2,null!=t&&(i.callback=t),ao(e,i),ll(e,r,n)}};function mo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(i,o))}function go(e,t,n){var r=!1,i=li,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=fi(t)?di:ci.current,o=(r=null!=(r=t.contextTypes))?hi(e,i):li),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=fi(t)?di:ci.current,i.context=hi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=zl(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Vl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ql(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=zl(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case C:return(t=Gl(t,e.mode,n)).return=e,t}if(bo(t)||V(t))return(t=Vl(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===T?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null}if(bo(n)||V(n))return null!==i?null:d(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===T?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||V(r))return d(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),c}function g(i,a,l,c){var u=V(l);if("function"!=typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"==typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case E:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=Vl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=zl(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,r,o),l.return=e,e=l)}return a(e);case C:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gl(o,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=ql(o,e.mode,l)).return=e,e=r),a(e);if(bo(o))return m(e,r,o,l);if(V(o))return g(e,r,o,l);if(u&&_o(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,$(e.type)||"Component"))}return n(e,r)}}var Co=Eo(!0),To=Eo(!1),So={},ko=oi(So),Io=oi(So),xo=oi(So);function Oo(e){if(e===So)throw Error(s(174));return e}function No(e,t){switch(ai(xo,t),ai(Io,e),ai(ko,So),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(ko),ai(ko,t)}function Po(){si(ko),si(Io),si(xo)}function Ao(e){Oo(xo.current);var t=Oo(ko.current),n=fe(t,e.type);t!==n&&(ai(Io,e),ai(ko,n))}function Ro(e){Io.current===e&&(si(ko),si(Io))}var Do=oi(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Fo=null,Uo=!1;function jo(e,t){var n=Ul(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Bo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function zo(e){if(Uo){var t=Fo;if(t){var n=t;if(!Bo(e,t)){if(!(t=qr(n.nextSibling))||!Bo(e,t))return e.flags=-1025&e.flags|2,Uo=!1,void(Mo=e);jo(Mo,n)}Mo=e,Fo=qr(t.firstChild)}else e.flags=-1025&e.flags|2,Uo=!1,Mo=e}}function Vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function Wo(e){if(e!==Mo)return!1;if(!Uo)return Vo(e),Uo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Br(t,e.memoizedProps))for(t=Fo;t;)jo(e,t),t=qr(t.nextSibling);if(Vo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Mo?qr(e.stateNode.nextSibling):null;return!0}function qo(){Fo=Mo=null,Uo=!1}var Go=[];function Ho(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var $o=_.ReactCurrentDispatcher,Zo=_.ReactCurrentBatchConfig,Ko=0,Yo=null,Qo=null,Xo=null,Jo=!1,es=!1;function ts(){throw Error(s(321))}function ns(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function rs(e,t,n,r,i,o){if(Ko=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$o.current=null===e||null===e.memoizedState?Os:Ns,e=n(r,i),es){o=0;do{if(es=!1,!(25>o))throw Error(s(301));o+=1,Xo=Qo=null,t.updateQueue=null,$o.current=Ps,e=n(r,i)}while(es)}if($o.current=xs,t=null!==Qo&&null!==Qo.next,Ko=0,Xo=Qo=Yo=null,Jo=!1,t)throw Error(s(300));return e}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xo?Yo.memoizedState=Xo=e:Xo=Xo.next=e,Xo}function os(){if(null===Qo){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=Qo.next;var t=null===Xo?Yo.memoizedState:Xo.next;if(null!==t)Xo=t,Qo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Qo=e).memoizedState,baseState:Qo.baseState,baseQueue:Qo.baseQueue,queue:Qo.queue,next:null},null===Xo?Yo.memoizedState=Xo=e:Xo=Xo.next=e}return Xo}function ss(e,t){return"function"==typeof t?t(e):t}function as(e){var t=os(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Qo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,c=i;do{var u=c.lane;if((Ko&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=d,o=r):l=l.next=d,Yo.lanes|=u,La|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=a,sr(r,t.memoizedState)||(Rs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ls(e){var t=os(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);sr(o,t.memoizedState)||(Rs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function cs(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ko&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(s(350))}function us(e,t,n,r){var i=Ia;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=$o.current,c=l.useState((function(){return cs(i,t,n)})),u=c[1],d=c[0];c=Xo;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var g=Yo;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=o(t._source);if(!sr(a,e)){e=n(t._source),sr(d,e)||(u(e),e=al(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-Wt(s),c=1<<l;r[l]|=e,s&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=al(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),sr(p,n)&&sr(m,t)&&sr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ss,lastRenderedState:d}).dispatch=u=Is.bind(null,Yo,e),c.queue=e,c.baseQueue=null,d=cs(i,t,n),c.memoizedState=c.baseState=d),d}function ds(e,t,n){return us(os(),e,t,n)}function hs(e){var t=is();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e}).dispatch=Is.bind(null,Yo,e),[t.memoizedState,e]}function fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(e){return e={current:e},is().memoizedState=e}function ms(){return os().memoizedState}function gs(e,t,n,r){var i=is();Yo.flags|=e,i.memoizedState=fs(1|t,n,void 0,void 0===r?null:r)}function vs(e,t,n,r){var i=os();r=void 0===r?null:r;var o=void 0;if(null!==Qo){var s=Qo.memoizedState;if(o=s.destroy,null!==r&&ns(r,s.deps))return void fs(t,n,o,r)}Yo.flags|=e,i.memoizedState=fs(1|t,n,o,r)}function ys(e,t){return gs(516,4,e,t)}function bs(e,t){return vs(516,4,e,t)}function ws(e,t){return vs(4,2,e,t)}function _s(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Es(e,t,n){return n=null!=n?n.concat([e]):null,vs(4,2,_s.bind(null,t,e),n)}function Cs(){}function Ts(e,t){var n=os();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ns(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ss(e,t){var n=os();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ns(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ks(e,t){var n=Bi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Zo.transition;Zo.transition=1;try{e(!1),t()}finally{Zo.transition=n}}))}function Is(e,t,n){var r=sl(),i=al(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Yo||null!==s&&s===Yo)es=Jo=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,sr(l,a))return}catch(e){}ll(e,i,r)}}var xs={readContext:no,useCallback:ts,useContext:ts,useEffect:ts,useImperativeHandle:ts,useLayoutEffect:ts,useMemo:ts,useReducer:ts,useRef:ts,useState:ts,useDebugValue:ts,useDeferredValue:ts,useTransition:ts,useMutableSource:ts,useOpaqueIdentifier:ts,unstable_isNewReconciler:!1},Os={readContext:no,useCallback:function(e,t){return is().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ys,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,gs(4,2,_s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4,2,e,t)},useMemo:function(e,t){var n=is();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=is();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Is.bind(null,Yo,e),[r.memoizedState,e]},useRef:ps,useState:hs,useDebugValue:Cs,useDeferredValue:function(e){var t=hs(e),n=t[0],r=t[1];return ys((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=hs(!1),t=e[0];return ps(e=ks.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=is();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},us(r,e,t,n)},useOpaqueIdentifier:function(){if(Uo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(s(355))})),n=hs(t)[1];return 0==(2&Yo.mode)&&(Yo.flags|=516,fs(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return hs(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},Ns={readContext:no,useCallback:Ts,useContext:no,useEffect:bs,useImperativeHandle:Es,useLayoutEffect:ws,useMemo:Ss,useReducer:as,useRef:ms,useState:function(){return as(ss)},useDebugValue:Cs,useDeferredValue:function(e){var t=as(ss),n=t[0],r=t[1];return bs((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=as(ss)[0];return[ms().current,e]},useMutableSource:ds,useOpaqueIdentifier:function(){return as(ss)[0]},unstable_isNewReconciler:!1},Ps={readContext:no,useCallback:Ts,useContext:no,useEffect:bs,useImperativeHandle:Es,useLayoutEffect:ws,useMemo:Ss,useReducer:ls,useRef:ms,useState:function(){return ls(ss)},useDebugValue:Cs,useDeferredValue:function(e){var t=ls(ss),n=t[0],r=t[1];return bs((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=ls(ss)[0];return[ms().current,e]},useMutableSource:ds,useOpaqueIdentifier:function(){return ls(ss)[0]},unstable_isNewReconciler:!1},As=_.ReactCurrentOwner,Rs=!1;function Ds(e,t,n,r){t.child=null===e?To(t,null,n,r):Co(t,e.child,n,r)}function Ls(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=rs(e,t,n,r,o,i),null===e||Rs?(t.flags|=1,Ds(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Js(e,t,i))}function Ms(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||jl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Fs(e,t,s,r,i,o))}return s=e.child,0==(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)?Js(e,t,o):(t.flags|=1,(e=Bl(s,r)).ref=t.ref,e.return=t,t.child=e)}function Fs(e,t,n,r,i,o){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(Rs=!1,0==(o&i))return t.lanes=e.lanes,Js(e,t,o);0!=(16384&e.flags)&&(Rs=!0)}return Bs(e,t,n,r,o)}function Us(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gl(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gl(0,e),null;t.memoizedState={baseLanes:0},gl(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,gl(0,r);return Ds(e,t,i,n),t.child}function js(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Bs(e,t,n,r,i){var o=fi(n)?di:ci.current;return o=hi(t,o),to(t,i),n=rs(e,t,n,r,o,i),null===e||Rs?(t.flags|=1,Ds(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Js(e,t,i))}function zs(e,t,n,r,i){if(fi(n)){var o=!0;vi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):hi(t,c=fi(n)?di:ci.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&vo(t,s,r,c),ro=!1;var h=t.memoizedState;s.state=h,co(t,r,s,i),l=t.memoizedState,a!==r||h!==l||ui.current||ro?("function"==typeof u&&(fo(t,n,u,r),l=t.memoizedState),(a=ro||mo(t,n,a,r,h,l,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,oo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:$i(t.type,a),s.props=c,d=t.pendingProps,h=s.context,l="object"==typeof(l=n.contextType)&&null!==l?no(l):hi(t,l=fi(n)?di:ci.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&vo(t,s,r,l),ro=!1,h=t.memoizedState,s.state=h,co(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||ui.current||ro?("function"==typeof f&&(fo(t,n,f,r),p=t.memoizedState),(c=ro||mo(t,n,c,r,h,p,l))?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Vs(e,t,n,r,o,i)}function Vs(e,t,n,r,i,o){js(e,t);var s=0!=(64&t.flags);if(!r&&!s)return i&&yi(t,n,!1),Js(e,t,o);r=t.stateNode,As.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,a,o)):Ds(e,t,a,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function Ws(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),No(e,t.containerInfo)}var qs,Gs,Hs,$s={dehydrated:null,retryLane:0};function Zs(e,t,n){var r,i=t.pendingProps,o=Do.current,s=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ai(Do,1&o),null===e?(void 0!==i.fallback&&zo(t),e=i.children,o=i.fallback,s?(e=Ks(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$s,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ks(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$s,t.lanes=33554432,e):((n=Wl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=function(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0==(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bl(s,a),null!==e?r=Bl(e,r):(r=Vl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=$s,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Bl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Ks(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Wl(t,i,0,null),n=Vl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ys(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Qs(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function Xs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ds(e,t,r.children,n),0!=(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ys(e,n);else if(19===e.tag)Ys(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ai(Do,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qs(t,!0,n,null,o,t.lastEffect);break;case"together":Qs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Js(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),La|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Bl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ea(e,t){if(!Uo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ta(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return fi(t.type)&&pi(),null;case 3:return Po(),si(ui),si(ci),Ho(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ro(t);var o=Oo(xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Gs(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Oo(ko.current),Wo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Zr]=t,r[Kr]=a,n){case"dialog":kr("cancel",r),kr("close",r);break;case"iframe":case"object":case"embed":kr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)kr(Er[e],r);break;case"source":kr("error",r);break;case"img":case"image":case"link":kr("error",r),kr("load",r);break;case"details":kr("toggle",r);break;case"input":ee(r,a),kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},kr("invalid",r);break;case"textarea":le(r,a),kr("invalid",r)}for(var c in Ce(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&kr("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ue(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[Kr]=r,qs(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":kr("cancel",e),kr("close",e),o=r;break;case"iframe":case"object":case"embed":kr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)kr(Er[o],e);o=r;break;case"source":kr("error",e),o=r;break;case"img":case"image":case"link":kr("error",e),kr("load",e),o=r;break;case"details":kr("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),kr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),kr("invalid",e);break;case"textarea":le(e,r),o=ae(e,r),kr("invalid",e);break;default:o=r}Ce(n,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];"style"===a?_e(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===a?"string"==typeof d?("textarea"!==n||""!==d)&&ve(e,d):"number"==typeof d&&ve(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=d&&"onScroll"===a&&kr("scroll",e):null!=d&&w(e,a,d,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Mr)}jr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Hs(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));n=Oo(xo.current),Oo(ko.current),Wo(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return si(Do),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Do.current)?0===Aa&&(Aa=3):(0!==Aa&&3!==Aa||(Aa=4),null===Ia||0==(134217727&La)&&0==(134217727&Ma)||hl(Ia,Oa))),(r||n)&&(t.flags|=4),null);case 4:return Po(),null===e&&xr(t.stateNode.containerInfo),null;case 10:return Ji(t),null;case 19:if(si(Do),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(c=r.rendering))if(a)ea(r,!1);else{if(0!==Aa||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,ea(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ai(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&ji()>Ba&&(t.flags|=64,a=!0,ea(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Lo(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ea(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Uo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ji()-r.renderingStartTime>Ba&&1073741824!==n&&(t.flags|=64,a=!0,ea(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ji(),n.sibling=null,t=Do.current,ai(Do,a?1&t|2:1&t),n):null;case 23:case 24:return vl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function na(e){switch(e.tag){case 1:fi(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Po(),si(ui),si(ci),Ho(),0!=(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Ro(e),null;case 13:return si(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(Do),null;case 4:return Po(),null;case 10:return Ji(e),null;case 23:case 24:return vl(),null;default:return null}}function ra(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ia(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}qs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Oo(ko.current);var s,a=null;switch(n){case"input":o=J(e,o),r=J(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(d in Ce(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&kr("scroll",e),a||c===u||(a=[])):"object"==typeof u&&null!==u&&u.$$typeof===L?u.toString():(a=a||[]).push(d,u))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Hs=function(e,t,n,r){n!==r&&(t.flags|=4)};var oa="function"==typeof WeakMap?WeakMap:Map;function sa(e,t,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qa||(qa=!0,Ga=r),ia(0,t)},n}function aa(e,t,n){(n=so(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ia(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ha?Ha=new Set([this]):Ha.add(this),ia(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var la="function"==typeof WeakSet?WeakSet:Set;function ca(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Dl(e,t)}else t.current=null}function ua(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo))}throw Error(s(163))}function da(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Pl(n,e),Nl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&uo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}uo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&jr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(s(163))}function ha(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function fa(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Pl(t,n);else{r=t;try{i()}catch(e){Dl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ca(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Dl(t,e)}break;case 5:ca(t);break;case 4:ba(e,t)}}function pa(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(ma(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?va(e,n,t):ya(e,n,t)}function va(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(va(e,t,n),e=e.sibling;null!==e;)va(e,t,n),e=e.sibling}function ya(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ya(e,t,n),e=e.sibling;null!==e;)ya(e,t,n),e=e.sibling}function ba(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,c=l;;)if(fa(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(fa(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function wa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Kr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?_e(n,l):"dangerouslySetInnerHTML"===a?ge(n,l):"children"===a?ve(n,l):w(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(ja=ji(),ha(t.child,!0)),void _a(t);case 19:return void _a(t);case 23:case 24:return void ha(t,null!==t.memoizedState)}throw Error(s(163))}function _a(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new la),t.forEach((function(t){var r=Ml.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ea(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Ca=Math.ceil,Ta=_.ReactCurrentDispatcher,Sa=_.ReactCurrentOwner,ka=0,Ia=null,xa=null,Oa=0,Na=0,Pa=oi(0),Aa=0,Ra=null,Da=0,La=0,Ma=0,Fa=0,Ua=null,ja=0,Ba=1/0;function za(){Ba=ji()+500}var Va,Wa=null,qa=!1,Ga=null,Ha=null,$a=!1,Za=null,Ka=90,Ya=[],Qa=[],Xa=null,Ja=0,el=null,tl=-1,nl=0,rl=0,il=null,ol=!1;function sl(){return 0!=(48&ka)?ji():-1!==tl?tl:tl=ji()}function al(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Bi()?1:2;if(0===nl&&(nl=Da),0!==Hi.transition){0!==rl&&(rl=null!==Ua?Ua.pendingLanes:0),e=nl;var t=4186112&~rl;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Bi(),e=jt(0!=(4&ka)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nl)}function ll(e,t,n){if(50<Ja)throw Ja=0,el=null,Error(s(185));if(null===(e=cl(e,t)))return null;Vt(e,t,n),e===Ia&&(Ma|=t,4===Aa&&hl(e,Oa));var r=Bi();1===t?0!=(8&ka)&&0==(48&ka)?fl(e):(ul(e,n),0===ka&&(za(),qi())):(0==(4&ka)||98!==r&&99!==r||(null===Xa?Xa=new Set([e]):Xa.add(e)),ul(e,n)),Ua=e}function cl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ul(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Wt(a),c=1<<l,u=o[l];if(-1===u){if(0==(c&r)||0!=(c&i)){u=t,Mt(c);var d=Lt;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(r=Ft(e,e===Ia?Oa:0),t=Lt,0===r)null!==n&&(n!==Ri&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ri&&Ci(n)}15===t?(n=fl.bind(null,e),null===Li?(Li=[n],Mi=Ei(xi,Gi)):Li.push(n),n=Ri):14===t?n=Wi(99,fl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Wi(n,dl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function dl(e){if(tl=-1,rl=nl=0,0!=(48&ka))throw Error(s(327));var t=e.callbackNode;if(Ol()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ia?Oa:0);if(0===n)return null;var r=n,i=ka;ka|=16;var o=wl();for(Ia===e&&Oa===r||(za(),yl(e,r));;)try{Cl();break}catch(t){bl(e,t)}if(Xi(),Ta.current=o,ka=i,null!==xa?r=0:(Ia=null,Oa=0,r=Aa),0!=(Da&Ma))yl(e,0);else if(0!==r){if(2===r&&(ka|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Ut(e))&&(r=_l(e,n))),1===r)throw t=Ra,yl(e,0),hl(e,n),ul(e,ji()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:kl(e);break;case 3:if(hl(e,n),(62914560&n)===n&&10<(r=ja+500-ji())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){sl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(kl.bind(null,e),r);break}kl(e);break;case 4:if(hl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Wt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=ji()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ca(n/1960))-n)){e.timeoutHandle=zr(kl.bind(null,e),n);break}kl(e);break;default:throw Error(s(329))}}return ul(e,ji()),e.callbackNode===t?dl.bind(null,e):null}function hl(e,t){for(t&=~Fa,t&=~Ma,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function fl(e){if(0!=(48&ka))throw Error(s(327));if(Ol(),e===Ia&&0!=(e.expiredLanes&Oa)){var t=Oa,n=_l(e,t);0!=(Da&Ma)&&(n=_l(e,t=Ft(e,t)))}else n=_l(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(ka|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Ut(e))&&(n=_l(e,t))),1===n)throw n=Ra,yl(e,0),hl(e,t),ul(e,ji()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e),ul(e,ji()),null}function pl(e,t){var n=ka;ka|=1;try{return e(t)}finally{0===(ka=n)&&(za(),qi())}}function ml(e,t){var n=ka;ka&=-2,ka|=8;try{return e(t)}finally{0===(ka=n)&&(za(),qi())}}function gl(e,t){ai(Pa,Na),Na|=t,Da|=t}function vl(){Na=Pa.current,si(Pa)}function yl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==xa)for(n=xa.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Po(),si(ui),si(ci),Ho();break;case 5:Ro(r);break;case 4:Po();break;case 13:case 19:si(Do);break;case 10:Ji(r);break;case 23:case 24:vl()}n=n.return}Ia=e,xa=Bl(e.current,null),Oa=Na=Da=t,Aa=0,Ra=null,Fa=Ma=La=0}function bl(e,t){for(;;){var n=xa;try{if(Xi(),$o.current=xs,Jo){for(var r=Yo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Jo=!1}if(Ko=0,Xo=Qo=Yo=null,es=!1,Sa.current=null,null===n||null===n.return){Aa=1,Ra=t,xa=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Oa,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=0!=(1&Do.current),h=s;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=h.updateQueue;if(null===g){var v=new Set;v.add(c),h.updateQueue=v}else g.add(c);if(0==(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=so(-1,1);y.tag=2,ao(a,y)}a.lanes|=1;break e}l=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new oa,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(a)){l.add(a);var w=Ll.bind(null,o,c,a);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error(($(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Aa&&(Aa=2),l=ra(l,a),h=s;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,lo(h,sa(0,o,t));break e;case 1:o=l;var _=h.type,E=h.stateNode;if(0==(64&h.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ha||!Ha.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,lo(h,aa(h,o,t));break e}}h=h.return}while(null!==h)}Sl(n)}catch(e){t=e,xa===n&&null!==n&&(xa=n=n.return);continue}break}}function wl(){var e=Ta.current;return Ta.current=xs,null===e?xs:e}function _l(e,t){var n=ka;ka|=16;var r=wl();for(Ia===e&&Oa===t||yl(e,t);;)try{El();break}catch(t){bl(e,t)}if(Xi(),ka=n,Ta.current=r,null!==xa)throw Error(s(261));return Ia=null,Oa=0,Aa}function El(){for(;null!==xa;)Tl(xa)}function Cl(){for(;null!==xa&&!Ti();)Tl(xa)}function Tl(e){var t=Va(e.alternate,e,Na);e.memoizedProps=e.pendingProps,null===t?Sl(e):xa=t,Sa.current=null}function Sl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ta(n,t,Na)))return void(xa=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Na)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=na(t)))return n.flags&=2047,void(xa=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(xa=t);xa=t=e}while(null!==t);0===Aa&&(Aa=5)}function kl(e){var t=Bi();return Vi(99,Il.bind(null,e,t)),null}function Il(e,t){do{Ol()}while(null!==Za);if(0!=(48&ka))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Wt(o),u=1<<c;i[c]=0,a[c]=-1,l[c]=-1,o&=~u}if(null!==Xa&&0==(24&r)&&Xa.has(e)&&Xa.delete(e),e===Ia&&(xa=Ia=null,Oa=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=ka,ka|=32,Sa.current=null,Fr=Zt,fr(a=hr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var d=0,h=-1,f=-1,p=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==l||0!==o&&3!==g.nodeType||(h=d+o),g!==c||0!==u&&3!==g.nodeType||(f=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===l&&++p===o&&(h=d),v===c&&++m===u&&(f=d),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Ur={focusedElem:a,selectionRange:l},Zt=!1,il=null,ol=!1,Wa=r;do{try{xl()}catch(e){if(null===Wa)throw Error(s(330));Dl(Wa,e),Wa=Wa.nextEffect}}while(null!==Wa);il=null,Wa=r;do{try{for(a=e;null!==Wa;){var b=Wa.flags;if(16&b&&ve(Wa.stateNode,""),128&b){var w=Wa.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:ga(Wa),Wa.flags&=-3;break;case 6:ga(Wa),Wa.flags&=-3,wa(Wa.alternate,Wa);break;case 1024:Wa.flags&=-1025;break;case 1028:Wa.flags&=-1025,wa(Wa.alternate,Wa);break;case 4:wa(Wa.alternate,Wa);break;case 8:ba(a,l=Wa);var E=l.alternate;pa(l),null!==E&&pa(E)}Wa=Wa.nextEffect}}catch(e){if(null===Wa)throw Error(s(330));Dl(Wa,e),Wa=Wa.nextEffect}}while(null!==Wa);if(_=Ur,w=hr(),b=_.focusedElem,a=_.selectionRange,w!==b&&b&&b.ownerDocument&&dr(b.ownerDocument.documentElement,b)){null!==a&&fr(b)&&(w=a.start,void 0===(_=a.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),l=b.textContent.length,E=Math.min(a.start,l),a=void 0===a.end?E:Math.min(a.end,l),!_.extend&&E>a&&(l=a,a=E,E=l),l=ur(b,E),o=ur(b,a),l&&o&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),E>a?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Zt=!!Fr,Ur=Fr=null,e.current=n,Wa=r;do{try{for(b=e;null!==Wa;){var C=Wa.flags;if(36&C&&da(b,Wa.alternate,Wa),128&C){w=void 0;var T=Wa.ref;if(null!==T){var S=Wa.stateNode;Wa.tag,w=S,"function"==typeof T?T(w):T.current=w}}Wa=Wa.nextEffect}}catch(e){if(null===Wa)throw Error(s(330));Dl(Wa,e),Wa=Wa.nextEffect}}while(null!==Wa);Wa=null,Di(),ka=i}else e.current=n;if($a)$a=!1,Za=e,Ka=t;else for(Wa=r;null!==Wa;)t=Wa.nextEffect,Wa.nextEffect=null,8&Wa.flags&&((C=Wa).sibling=null,C.stateNode=null),Wa=t;if(0===(r=e.pendingLanes)&&(Ha=null),1===r?e===el?Ja++:(Ja=0,el=e):Ja=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64==(64&n.current.flags))}catch(e){}if(ul(e,ji()),qa)throw qa=!1,e=Ga,Ga=null,e;return 0!=(8&ka)||qi(),null}function xl(){for(;null!==Wa;){var e=Wa.alternate;ol||null===il||(0!=(8&Wa.flags)?Je(Wa,il)&&(ol=!0):13===Wa.tag&&Ea(e,Wa)&&Je(Wa,il)&&(ol=!0));var t=Wa.flags;0!=(256&t)&&ua(e,Wa),0==(512&t)||$a||($a=!0,Wi(97,(function(){return Ol(),null}))),Wa=Wa.nextEffect}}function Ol(){if(90!==Ka){var e=97<Ka?97:Ka;return Ka=90,Vi(e,Al)}return!1}function Nl(e,t){Ya.push(t,e),$a||($a=!0,Wi(97,(function(){return Ol(),null})))}function Pl(e,t){Qa.push(t,e),$a||($a=!0,Wi(97,(function(){return Ol(),null})))}function Al(){if(null===Za)return!1;var e=Za;if(Za=null,0!=(48&ka))throw Error(s(331));var t=ka;ka|=32;var n=Qa;Qa=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));Dl(o,e)}}for(n=Ya,Ya=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(s(330));Dl(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return ka=t,qi(),!0}function Rl(e,t,n){ao(e,t=sa(0,t=ra(n,t),1)),t=sl(),null!==(e=cl(e,1))&&(Vt(e,1,t),ul(e,t))}function Dl(e,t){if(3===e.tag)Rl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Rl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ha||!Ha.has(r))){var i=aa(n,e=ra(t,e),1);if(ao(n,i),i=sl(),null!==(n=cl(n,1)))Vt(n,1,i),ul(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ha||!Ha.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ll(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=sl(),e.pingedLanes|=e.suspendedLanes&n,Ia===e&&(Oa&n)===n&&(4===Aa||3===Aa&&(62914560&Oa)===Oa&&500>ji()-ja?yl(e,0):Fa|=n),ul(e,t)}function Ml(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Bi()?1:2:(0===nl&&(nl=Da),0===(t=Bt(62914560&~nl))&&(t=4194304))),n=sl(),null!==(e=cl(e,t))&&(Vt(e,t,n),ul(e,n))}function Fl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ul(e,t,n,r){return new Fl(e,t,n,r)}function jl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bl(e,t){var n=e.alternate;return null===n?((n=Ul(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)jl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case T:return Vl(n.children,i,o,t);case M:a=8,i|=16;break;case S:a=8,i|=1;break;case k:return(e=Ul(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case N:return(e=Ul(13,n,t,i)).type=N,e.elementType=N,e.lanes=o,e;case P:return(e=Ul(19,n,t,i)).elementType=P,e.lanes=o,e;case F:return Wl(n,i,o,t);case U:return(e=Ul(24,n,t,i)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case x:a=9;break e;case O:a=11;break e;case A:a=14;break e;case R:a=16,r=null;break e;case D:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ul(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vl(e,t,n,r){return(e=Ul(7,e,r,t)).lanes=n,e}function Wl(e,t,n,r){return(e=Ul(23,e,r,t)).elementType=F,e.lanes=n,e}function ql(e,t,n){return(e=Ul(6,e,null,t)).lanes=n,e}function Gl(e,t,n){return(t=Ul(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function $l(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zl(e,t,n,r){var i=t.current,o=sl(),a=al(i);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(fi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var c=n.type;if(fi(c)){n=gi(n,c,l);break e}}n=l}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ao(i,t),ll(i,a,o),a}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ql(e,t){Yl(e,t),(e=e.alternate)&&Yl(e,t)}function Xl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hl(e,t,null!=n&&!0===n.hydrate),t=Ul(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Yr]=n.current,xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Kl(s);a.call(e)}}Zl(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Xl(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Kl(s);l.call(e)}}ml((function(){Zl(t,s,e,i)}))}return Kl(s)}function tc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(s(200));return $l(e,t,null,n)}Va=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ui.current)Rs=!0;else{if(0==(n&r)){switch(Rs=!1,t.tag){case 3:Ws(t),qo();break;case 5:Ao(t);break;case 1:fi(t.type)&&vi(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ai(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Zs(e,t,n):(ai(Do,1&Do.current),null!==(t=Js(e,t,n))?t.sibling:null);ai(Do,1&Do.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Xs(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,Us(e,t,n)}return Js(e,t,n)}Rs=0!=(16384&e.flags)}else Rs=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=hi(t,ci.current),to(t,n),i=rs(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fi(r)){var o=!0;vi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&fo(t,r,a,e),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Vs(null,t,r,!0,o,n)}else t.tag=0,Ds(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return jl(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===A)return 14}return 2}(i),e=$i(i,e),o){case 0:t=Bs(null,t,i,e,n);break e;case 1:t=zs(null,t,i,e,n);break e;case 11:t=Ls(null,t,i,e,n);break e;case 14:t=Ms(null,t,i,$i(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bs(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,zs(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Ws(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)qo(),t=Js(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=qr(t.stateNode.containerInfo.firstChild),Mo=t,o=Uo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=To(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ds(e,t,r,n),qo();t=t.child}return t;case 5:return Ao(t),null===e&&zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Br(r,i)?a=null:null!==o&&Br(r,o)&&(t.flags|=16),js(e,t),Ds(e,t,a,n),t.child;case 6:return null===e&&zo(t),null;case 13:return Zs(e,t,n);case 4:return No(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):Ds(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ls(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Ds(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ds(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(ai(Zi,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0==(o=sr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!ui.current){t=Js(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===l.tag&&((u=so(-1,n&-n)).tag=2,ao(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),eo(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Ds(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Ds(e,t,r,n),t.child;case 14:return o=$i(i=t.type,t.pendingProps),Ms(e,t,i,o=$i(i.type,o),r,n);case 15:return Fs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fi(r)?(e=!0,vi(t)):e=!1,to(t,n),go(t,r,i),yo(t,r,i,n),Vs(null,t,r,!0,e,n);case 19:return Xs(e,t,n);case 23:case 24:return Us(e,t,n)}throw Error(s(156,t.tag))},Xl.prototype.render=function(e){Zl(e,this._internalRoot,null,null)},Xl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zl(null,e,null,(function(){t[Yr]=null}))},et=function(e){13===e.tag&&(ll(e,4,sl()),Ql(e,4))},tt=function(e){13===e.tag&&(ll(e,67108864,sl()),Ql(e,67108864))},nt=function(e){if(13===e.tag){var t=sl(),n=al(e);ll(e,n,t),Ql(e,n)}},rt=function(e,t){return t()},ke=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(s(90));Q(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Ae=pl,Re=function(e,t,n,r,i){var o=ka;ka|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(ka=o)&&(za(),qi())}},De=function(){0==(49&ka)&&(function(){if(null!==Xa){var e=Xa;Xa=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ul(e,ji())}))}qi()}(),Ol())},Le=function(e,t){var n=ka;ka|=2;try{return e(t)}finally{0===(ka=n)&&(za(),qi())}};var nc={Events:[Jr,ei,ti,Ne,Pe,Ol,{current:!1}]},rc={findFiberByHostInstance:Xr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{bi=oc.inject(ic),wi=oc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=tc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=ka;if(0!=(48&n))return e(t);ka|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{ka=n,qi()}},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(s(200));return ec(null,e,t,!0,n)},t.render=function(e,t,n){if(!Jl(t))throw Error(s(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(s(40));return!!e._reactRootContainer&&(ml((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[Yr]=null}))})),!0)},t.unstable_batchedUpdates=pl,t.unstable_createPortal=function(e,t){return tc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ec(e,t,n,!1,r)},t.version="17.0.2"},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},6445:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7294),i=n(5697),o=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,a=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("polyline",{points:"20 6 9 17 4 12"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="Check";const l=a},628:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7294),i=n(5697),o=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,a=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("polyline",{points:"9 18 15 12 9 6"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="ChevronRight";const l=a},616:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7294),i=n(5697),o=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,a=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),r.createElement("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="Clipboard";const l=a},2655:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7294),i=n(5697),o=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,a=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="Edit";const l=a},1912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7294),i=n(5697),o=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,a=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="MessageSquare";const l=a},329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7294),i=n(5697),o=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,a=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="Phone";const l=a},6536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7294),i=n(5697),o=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,a=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="Tool";const l=a},3752:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7294),i=n(5697),o=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,a=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="User";const l=a},8268:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7294),i=n(5697),o=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,a=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="X";const l=a},9921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},9864:(e,t,n)=>{"use strict";e.exports=n(9921)},2408:(e,t,n)=>{"use strict";var r=n(7418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),s=d("react.provider"),a=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+k(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),I(s,t,n,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+k(a=e[c],c);l+=I(a,t,n,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,n,u=r+k(a,c++),s);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function x(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function P(){var e=N.current;if(null===e)throw Error(f(321));return e}var A={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)_.call(t,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){v=h((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>S(s,n))void 0!==l&&0>S(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],I=[],x=1,O=null,N=3,P=!1,A=!1,R=!1;function D(e){for(var t=C(I);null!==t;){if(null===t.callback)T(I);else{if(!(t.startTime<=e))break;T(I),t.sortIndex=t.expirationTime,E(k,t)}t=C(I)}}function L(e){if(R=!1,D(e),!A)if(null!==C(k))A=!0,n(M);else{var t=C(I);null!==t&&r(L,t.startTime-e)}}function M(e,n){A=!1,R&&(R=!1,i()),P=!0;var o=N;try{for(D(n),O=C(k);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=O.callback;if("function"==typeof s){O.callback=null,N=O.priorityLevel;var a=s(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?O.callback=a:O===C(k)&&T(k),D(n)}else T(k);O=C(k)}if(null!==O)var l=!0;else{var c=C(I);null!==c&&r(L,c.startTime-n),l=!1}return l}finally{O=null,N=o,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||P||(A=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return C(k)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:x++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,E(I,e),null===C(k)&&e===C(I)&&(R?i():R=!0,r(L,s-a))):(e.sortIndex=l,E(k,e),A||P||(A=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},4249:function(e){e.exports=function(){"use strict";var e,t,n,r,i,o,s,a,l,c,u=/\r\n?/g,d=/\t/g,h=/\f/g,f=function(e){return e.replace(u,"\n").replace(h,"").replace(d,"    ")},p=function(e,t){var n=e||{};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},m=function(e,t){var n,r=Object.keys(e).filter((function(t){var n=e[t];if(null==n||null==n.match)return!1;var r=n.order;return"number"==typeof r&&isFinite(r)||"undefined"==typeof console||console.warn("simple-markdown: Invalid order for rule `"+t+"`: "+String(r)),!0}));r.sort((function(t,n){var r=e[t],i=e[n],o=r.order,s=i.order;if(o!==s)return o-s;var a=r.quality?0:1,l=i.quality?0:1;return a!==l?a-l:t<n?-1:t>n?1:0}));var i=function(t,o){var s=[];for(n=o=o||n;t;){var a=null,l=null,c=null,u=NaN,d=0,h=r[0],f=e[h];do{var p=f.order,m=null==o.prevCapture?"":o.prevCapture[0],g=f.match(t,o,m);if(g){var v=f.quality?f.quality(g,o,m):0;v<=u||(a=h,l=f,c=g,u=v)}d++,h=r[d],f=e[h]}while(f&&(!c||f.order===p&&f.quality));if(null==l||null==c)throw new Error("Could not find a matching rule for the below content. The rule with highest `order` should always match content provided to it. Check the definition of `match` for '"+r[r.length-1]+"'. It seems to not match the following source:\n"+t);if(c.index)throw new Error("`match` must return a capture starting at index 0 (the current parse index). Did you forget a ^ at the start of the RegExp?");var y=l.parse(c,i,o);Array.isArray(y)?Array.prototype.push.apply(s,y):(null==y.type&&(y.type=a),s.push(y)),o.prevCapture=c,t=t.substring(o.prevCapture[0].length)}return s};return function(e,r){return(n=p(r,t)).inline||n.disableAutoBlockNewlines||(e+="\n\n"),n.prevCapture=null,i(f(e),n)}},g=function(e){var t=function(t,n){return n.inline?e.exec(t):null};return t.regex=e,t},v=function(e){var t=function(t,n){return n.inline?null:e.exec(t)};return t.regex=e,t},y=function(e){var t=function(t,n){return e.exec(t)};return t.regex=e,t},b="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,w=function(e,t,n){return{$$typeof:b,type:e,key:null==t?void 0:t,ref:null,props:n,_owner:null}},_=function(e,t,n,r){n=n||{},r=void 0===r||r;var i="";for(var o in n){var s=n[o];Object.prototype.hasOwnProperty.call(n,o)&&s&&(i+=" "+k(o)+'="'+k(s)+'"')}var a="<"+e+i+">";return r?a+t+"</"+e+">":a},E={},C=function(e){if(null==e)return null;try{var t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").toLowerCase();if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}catch(e){return null}return e},T=/[<>&"']/g,S={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#96;"},k=function(e){return String(e).replace(T,(function(e){return S[e]}))},I=/\\([^0-9A-Za-z\s])/g,x=function(e){return e.replace(I,"$1")},O=function(e,t,n){var r=n.inline||!1;n.inline=!0;var i=e(t,n);return n.inline=r,i},N=function(e,t,n){return{content:O(t,e[1],n)}},P=function(){return{}},A="(?:[*+-]|\\d+\\.)",R="( *)((?:[*+-]|\\d+\\.)) +",D=new RegExp("^"+R),L=new RegExp(R+"[^\\n]*(?:\\n(?!\\1"+A+" )[^\\n]*)*(\n|$)","gm"),M=/\n{2,}$/,F=/^ (?= *`)|(` *) $/g,U=M,j=/ *\n+$/,B=new RegExp("^( *)((?:[*+-]|\\d+\\.)) [\\s\\S]+?(?:\n{2,}(?! )(?!\\1(?:[*+-]|\\d+\\.) )\\n*|\\s*\n*$)"),z=/(?:^|\n)( *)$/,V=(e=/^ *\| *| *\| *$/g,t=/ *$/,n=/^ *-+: *$/,r=/^ *:-+: *$/,i=/^ *:-+ *$/,o=function(e){return n.test(e)?"right":r.test(e)?"center":i.test(e)?"left":null},s=function(t,n,r,i){return i&&(t=t.replace(e,"")),t.trim().split("|").map(o)},a=function(e,n,r,i){var o=r.inTable;r.inTable=!0;var s=n(e.trim(),r);r.inTable=o;var a=[[]];return s.forEach((function(e,n){"tableSeparator"===e.type?(!i||0!==n&&n!==s.length-1)&&a.push([]):("text"!==e.type||null!=s[n+1]&&"tableSeparator"!==s[n+1].type||(e.content=e.content.replace(t,"")),a[a.length-1].push(e))})),a},l=function(e,t,n,r){return e.trim().split("\n").map((function(e){return a(e,t,n,r)}))},{parseTable:(c=function(e){return function(t,n,r){r.inline=!0;var i=a(t[1],n,r,e),o=s(t[2],0,0,e),c=l(t[3],n,r,e);return r.inline=!1,{type:"table",header:i,align:o,cells:c}}})(!0),parseNpTable:c(!1),TABLE_REGEX:/^ *(\|.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/,NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}),W="(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*",q="\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*",G=/mailto:/i,H=function(e,t,n){var r=(e[2]||e[1]).replace(/\s+/g," ").toLowerCase();if(t._defs&&t._defs[r]){var i=t._defs[r];n.target=i.target,n.title=i.title}return t._refs=t._refs||{},t._refs[r]=t._refs[r]||[],t._refs[r].push(n),n},$=0,Z={Array:{react:function(e,t,n){for(var r=n.key,i=[],o=0,s=0;o<e.length;o++,s++){n.key=""+o;var a=e[o];if("text"===a.type)for(a={type:"text",content:a.content};o+1<e.length&&"text"===e[o+1].type;o++)a.content+=e[o+1].content;i.push(t(a,n))}return n.key=r,i},html:function(e,t,n){for(var r="",i=0;i<e.length;i++){var o=e[i];if("text"===o.type)for(o={type:"text",content:o.content};i+1<e.length&&"text"===e[i+1].type;i++)o.content+=e[i+1].content;r+=t(o,n)}return r}},heading:{order:$++,match:v(/^ *(#{1,6})([^\n]+?)#* *(?:\n *)+\n/),parse:function(e,t,n){return{level:e[1].length,content:O(t,e[2].trim(),n)}},react:function(e,t,n){return w("h"+e.level,n.key,{children:t(e.content,n)})},html:function(e,t,n){return _("h"+e.level,t(e.content,n))}},nptable:{order:$++,match:v(V.NPTABLE_REGEX),parse:V.parseNpTable,react:null,html:null},lheading:{order:$++,match:v(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(e,t,n){return{type:"heading",level:"="===e[2]?1:2,content:O(t,e[1],n)}},react:null,html:null},hr:{order:$++,match:v(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:P,react:function(e,t,n){return w("hr",n.key,E)},html:function(e,t,n){return"<hr>"}},codeBlock:{order:$++,match:v(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(e,t,n){return{lang:void 0,content:e[0].replace(/^    /gm,"").replace(/\n+$/,"")}},react:function(e,t,n){var r=e.lang?"markdown-code-"+e.lang:void 0;return w("pre",n.key,{children:w("code",null,{className:r,children:e.content})})},html:function(e,t,n){var r=e.lang?"markdown-code-"+e.lang:void 0,i=_("code",k(e.content),{class:r});return _("pre",i)}},fence:{order:$++,match:v(/^ *(`{3,}|~{3,}) *(?:(\S+) *)?\n([\s\S]+?)\n?\1 *(?:\n *)+\n/),parse:function(e,t,n){return{type:"codeBlock",lang:e[2]||void 0,content:e[3]}},react:null,html:null},blockQuote:{order:$++,match:v(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),parse:function(e,t,n){return{content:t(e[0].replace(/^ *> ?/gm,""),n)}},react:function(e,t,n){return w("blockquote",n.key,{children:t(e.content,n)})},html:function(e,t,n){return _("blockquote",t(e.content,n))}},list:{order:$++,match:function(e,t){var n=null==t.prevCapture?"":t.prevCapture[0],r=z.exec(n),i=t._list||!t.inline;return r&&i?(e=r[1]+e,B.exec(e)):null},parse:function(e,t,n){var r=e[2],i=r.length>1,o=i?+r:void 0,s=e[0].replace(U,"\n").match(L),a=!1;return{ordered:i,start:o,items:s.map((function(e,r){var i=D.exec(e),o=i?i[0].length:0,l=new RegExp("^ {1,"+o+"}","gm"),c=e.replace(l,"").replace(D,""),u=r===s.length-1,d=-1!==c.indexOf("\n\n")||u&&a;a=d;var h,f=n.inline,p=n._list;n._list=!0,d?(n.inline=!1,h=c.replace(j,"\n\n")):(n.inline=!0,h=c.replace(j,""));var m=t(h,n);return n.inline=f,n._list=p,m}))}},react:function(e,t,n){var r=e.ordered?"ol":"ul";return w(r,n.key,{start:e.start,children:e.items.map((function(e,r){return w("li",""+r,{children:t(e,n)})}))})},html:function(e,t,n){var r=e.items.map((function(e){return _("li",t(e,n))})).join(""),i=e.ordered?"ol":"ul",o={start:e.start};return _(i,r,o)}},def:{order:$++,match:v(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)*/),parse:function(e,t,n){var r=e[1].replace(/\s+/g," ").toLowerCase(),i=e[2],o=e[3];return n._refs&&n._refs[r]&&n._refs[r].forEach((function(e){e.target=i,e.title=o})),n._defs=n._defs||{},n._defs[r]={target:i,title:o},{def:r,target:i,title:o}},react:function(){return null},html:function(){return""}},table:{order:$++,match:v(V.TABLE_REGEX),parse:V.parseTable,react:function(e,t,n){var r=function(t){return null==e.align[t]?{}:{textAlign:e.align[t]}},i=e.header.map((function(e,i){return w("th",""+i,{style:r(i),scope:"col",children:t(e,n)})})),o=e.cells.map((function(e,i){return w("tr",""+i,{children:e.map((function(e,i){return w("td",""+i,{style:r(i),children:t(e,n)})}))})}));return w("table",n.key,{children:[w("thead","thead",{children:w("tr",null,{children:i})}),w("tbody","tbody",{children:o})]})},html:function(e,t,n){var r=function(t){return null==e.align[t]?"":"text-align:"+e.align[t]+";"},i=e.header.map((function(e,i){return _("th",t(e,n),{style:r(i),scope:"col"})})).join(""),o=e.cells.map((function(e){var i=e.map((function(e,i){return _("td",t(e,n),{style:r(i)})})).join("");return _("tr",i)})).join(""),s=_("thead",_("tr",i)),a=_("tbody",o);return _("table",s+a)}},newline:{order:$++,match:v(/^(?:\n *)*\n/),parse:P,react:function(e,t,n){return"\n"},html:function(e,t,n){return"\n"}},paragraph:{order:$++,match:v(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:N,react:function(e,t,n){return w("div",n.key,{className:"paragraph",children:t(e.content,n)})},html:function(e,t,n){return _("div",t(e.content,n),{class:"paragraph"})}},escape:{order:$++,match:g(/^\\([^0-9A-Za-z\s])/),parse:function(e,t,n){return{type:"text",content:e[1]}},react:null,html:null},tableSeparator:{order:$++,match:function(e,t){return t.inTable?/^ *\| */.exec(e):null},parse:function(){return{type:"tableSeparator"}},react:function(){return" | "},html:function(){return" &vert; "}},autolink:{order:$++,match:g(/^<([^: >]+:\/[^ >]+)>/),parse:function(e,t,n){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1]}},react:null,html:null},mailto:{order:$++,match:g(/^<([^ >]+@[^ >]+)>/),parse:function(e,t,n){var r=e[1],i=e[1];return G.test(i)||(i="mailto:"+i),{type:"link",content:[{type:"text",content:r}],target:i}},react:null,html:null},url:{order:$++,match:g(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(e,t,n){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1],title:void 0}},react:null,html:null},link:{order:$++,match:g(new RegExp("^\\[("+W+")\\]\\("+q+"\\)")),parse:function(e,t,n){return{content:t(e[1],n),target:x(e[2]),title:e[3]}},react:function(e,t,n){return w("a",n.key,{href:C(e.target),title:e.title,children:t(e.content,n)})},html:function(e,t,n){var r={href:C(e.target),title:e.title};return _("a",t(e.content,n),r)}},image:{order:$++,match:g(new RegExp("^!\\[("+W+")\\]\\("+q+"\\)")),parse:function(e,t,n){return{alt:e[1],target:x(e[2]),title:e[3]}},react:function(e,t,n){return w("img",n.key,{src:C(e.target),alt:e.alt,title:e.title})},html:function(e,t,n){var r={src:C(e.target),alt:e.alt,title:e.title};return _("img","",r,!1)}},reflink:{order:$++,match:g(new RegExp("^\\[("+W+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,n){return H(e,n,{type:"link",content:t(e[1],n)})},react:null,html:null},refimage:{order:$++,match:g(new RegExp("^!\\[("+W+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,n){return H(e,n,{type:"image",alt:e[1]})},react:null,html:null},em:{order:$,match:g(new RegExp("^\\b_((?:__|\\\\[\\s\\S]|[^\\\\_])+?)_\\b|^\\*(?=\\S)((?:\\*\\*|\\\\[\\s\\S]|\\s+(?:\\\\[\\s\\S]|[^\\s\\*\\\\]|\\*\\*)|[^\\s\\*\\\\])+?)\\*(?!\\*)")),quality:function(e){return e[0].length+.2},parse:function(e,t,n){return{content:t(e[2]||e[1],n)}},react:function(e,t,n){return w("em",n.key,{children:t(e.content,n)})},html:function(e,t,n){return _("em",t(e.content,n))}},strong:{order:$,match:g(/^\*\*((?:\\[\s\S]|[^\\])+?)\*\*(?!\*)/),quality:function(e){return e[0].length+.1},parse:N,react:function(e,t,n){return w("strong",n.key,{children:t(e.content,n)})},html:function(e,t,n){return _("strong",t(e.content,n))}},u:{order:$++,match:g(/^__((?:\\[\s\S]|[^\\])+?)__(?!_)/),quality:function(e){return e[0].length},parse:N,react:function(e,t,n){return w("u",n.key,{children:t(e.content,n)})},html:function(e,t,n){return _("u",t(e.content,n))}},del:{order:$++,match:g(/^~~(?=\S)((?:\\[\s\S]|~(?!~)|[^\s~\\]|\s(?!~~))+?)~~/),parse:N,react:function(e,t,n){return w("del",n.key,{children:t(e.content,n)})},html:function(e,t,n){return _("del",t(e.content,n))}},inlineCode:{order:$++,match:g(/^(`+)([\s\S]*?[^`])\1(?!`)/),parse:function(e,t,n){return{content:e[2].replace(F,"$1")}},react:function(e,t,n){return w("code",n.key,{children:e.content})},html:function(e,t,n){return _("code",k(e.content))}},br:{order:$++,match:y(/^ {2,}\n/),parse:P,react:function(e,t,n){return w("br",n.key,E)},html:function(e,t,n){return"<br>"}},text:{order:$++,match:y(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(e,t,n){return{content:e[0]}},react:function(e,t,n){return e.content},html:function(e,t,n){return k(e.content)}}},K=function(e,t,n){if(!t)throw new Error("simple-markdown: outputFor: `property` must be defined. if you just upgraded, you probably need to replace `outputFor` with `reactFor`");var r,i=(e.Array||Z.Array)[t];if(!i)throw new Error("simple-markdown: outputFor: to join nodes of type `"+t+"` you must provide an `Array:` joiner rule with that type, Please see the docs for details on specifying an Array rule.");var o=i,s=function(n,i){return r=i=i||r,Array.isArray(n)?o(n,s,i):e[n.type][t](n,s,i)};return function(e,t){return r=p(t,n),s(e,r)}},Y=m(Z),Q=function(e,t){return(t=t||{}).inline=!1,Y(e,t)},X=function(e,t){var n=M.test(e);return(t=t||{}).inline=!n,Y(e,t)},J=K(Z,"react"),ee=K(Z,"html"),te=function(e,t){return J(Q(e,t),t)},ne={defaultRules:Z,parserFor:m,outputFor:K,inlineRegex:g,blockRegex:v,anyScopeRegex:y,parseInline:O,parseBlock:function(e,t,n){var r=n.inline||!1;n.inline=!1;var i=e(t+"\n\n",n);return n.inline=r,i},markdownToReact:te,markdownToHtml:function(e,t){return ee(Q(e,t),t)},ReactMarkdown:function(e){var t={};for(var n in e)"source"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.children=te(e.source),w("div",null,t)},defaultBlockParse:Q,defaultInlineParse:function(e,t){return(t=t||{}).inline=!0,Y(e,t)},defaultImplicitParse:X,defaultReactOutput:J,defaultHtmlOutput:ee,preprocess:f,sanitizeText:k,sanitizeUrl:C,unescapeUrl:x,htmlTag:_,reactElement:w,defaultRawParse:Y,ruleOutput:function(e,t){return t||"undefined"==typeof console||console.warn("simple-markdown ruleOutput should take 'react' or 'html' as the second argument."),function(n,r,i){return e[n.type][t](n,r,i)}},reactFor:function(e){var t=function(n,r){if(r=r||{},Array.isArray(n)){for(var i=r.key,o=[],s=null,a=0;a<n.length;a++){r.key=""+a;var l=t(n[a],r);"string"==typeof l&&"string"==typeof s?(s+=l,o[o.length-1]=s):(o.push(l),s=l)}return r.key=i,o}return e(n,t,r)};return t},htmlFor:function(e){var t=function(n,r){return r=r||{},Array.isArray(n)?n.map((function(e){return t(e,r)})).join(""):e(n,t,r)};return t},defaultParse:function(){return"undefined"!=typeof console&&console.warn("defaultParse is deprecated, please use `defaultImplicitParse`"),X.apply(null,arguments)},defaultOutput:function(){return"undefined"!=typeof console&&console.warn("defaultOutput is deprecated, please use `defaultReactOutput`"),J.apply(null,arguments)}};return ne}()},9586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l,r:()=>a});var r,i,o=n(7294);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function a(e){return o.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",style:{isolation:"isolate"},viewBox:"0 0 512 512",width:"512pt",height:"512pt"},e),r||(r=o.createElement("defs",null,o.createElement("clipPath",{id:"Logo_svg__a"},o.createElement("path",{d:"M0 0h512v512H0z"})))),i||(i=o.createElement("g",{clipPath:"url(#Logo_svg__a)"},o.createElement("path",{fill:"none",d:"M0 0h512v512H0z"}),o.createElement("linearGradient",{id:"Logo_svg__b",x1:.008,y1:.781,x2:1,y2:0,gradientTransform:"matrix(302.673 0 0 262.123 104.663 124.939)",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{offset:"0%",stopColor:"#7bb1bd"}),o.createElement("stop",{offset:"100%",stopColor:"#bd7ba2"})),o.createElement("path",{d:"M407.337 299.687l-75.669 43.687L256 387.061l-75.668-43.687-75.669-43.687V124.939h302.674v174.748z",fill:"url(#Logo_svg__b)",vectorEffect:"non-scaling-stroke",strokeWidth:2,stroke:"#D9E1E8",strokeLinecap:"square",strokeMiterlimit:3}),o.createElement("path",{d:"M110.667 130.942L256 299.687l144.337-172.374",fill:"none",vectorEffect:"non-scaling-stroke",strokeWidth:2,stroke:"#D9E1E8",strokeLinecap:"square",strokeMiterlimit:3}),o.createElement("path",{vectorEffect:"non-scaling-stroke",strokeWidth:2,stroke:"#D9E1E8",strokeLinecap:"square",strokeMiterlimit:3,d:"M403 291.313l-93-51M110 296.313l91-56"}))))}const l=n.p+"assets/media/Logo.svg"},8623:(e,t,n)=>{"use strict";n.d(t,{Jm:()=>Aa,ZP:()=>Da,IH:()=>Na});var r=n(4894),i=n(7294),o=n(2846),s=n(7921),a=n(4702),l=n(9480),c=n(164),u=n(2126),d=n(7611),h=n(7595),f=n(4728),p=n(2456),m=n(9606),g=n(8268);function v(){const[e,t]=i.useState([]);var n;return i.useEffect((()=>{const n=({notification:n})=>{t([...e,n])};return a.e.subscribe(o.MF.DISPLAY_BANNER_NOTIFICATION,n),()=>a.e.unsubscribe(o.MF.DISPLAY_BANNER_NOTIFICATION,n)}),[e]),i.createElement("div",{className:"BannerNotifications"},!!e.length&&i.createElement("div",{className:"Notif FlexCenter"},i.createElement("div",{className:"Contents"},i.createElement(null!==(n=e[0])&&void 0!==n?n:"")),i.createElement(g.Z,{className:"Button CloseButton",onClick:()=>t(e.slice(1))})))}var y=n(5697),b=n.n(y);function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}var _=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",w({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),i.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))}));_.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},_.displayName="Globe";const E=_;function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}var T=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",C({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))}));T.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},T.displayName="GitHub";const S=T;function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}var I=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",k({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"}))}));I.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},I.displayName="Twitter";const x=I;function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}var N=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",O({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),i.createElement("polyline",{points:"22,6 12,13 2,6"}))}));N.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},N.displayName="Mail";const P=N;var A=n(1912),R=n(1025);const D=n.p+"assets/media/TwemojiHeart.svg";var L=n(6856);function M(){const e={website:()=>window.open("https://metalloriff.github.io/","_blank"),github:()=>window.open("https://github.com/metalloriff","_blank"),twitter:()=>window.open("https://twitter.com/Metalloriff","_blank"),email:()=>window.open("mailto:metalloriff@gmail.com","_blank"),discord:()=>(0,m.vQ)("Metalloriff 💕🌈#2891")};return i.createElement("footer",null,i.createElement("div",{className:"Flex"},i.createElement("div",{className:"LeftSections"},i.createElement("div",{className:"HeadSection FlexCenter"},i.createElement("img",{className:"Logo",src:R,alt:"Logo"}),i.createElement("div",null,i.createElement("h2",null,"Metalloriff"),i.createElement("div",null,"Made with ",i.createElement("img",{src:D,alt:"♥",width:15,height:15})))),i.createElement("div",{className:"ContactSection Flex"},i.createElement("div",{className:"ContactEntry",onClick:e.website},i.createElement(E,null),i.createElement(L.Z,null,"Website")),i.createElement("div",{className:"ContactEntry",onClick:e.github},i.createElement(S,null),i.createElement(L.Z,null,"GitHub")),i.createElement("div",{className:"ContactEntry",onClick:e.twitter},i.createElement(x,null),i.createElement(L.Z,null,"Twitter")),i.createElement("div",{className:"ContactEntry",onClick:e.email},i.createElement(P,null),i.createElement(L.Z,null,"Email")),i.createElement("div",{className:"ContactEntry",onClick:e.discord},i.createElement(A.Z,null),i.createElement(L.Z,null,"Discord")))),i.createElement("div",{className:"MiddleSection"}),i.createElement("div",{className:"RightSections FlexCenter"},i.createElement("div",{className:"LinksSection"},i.createElement("a",{href:"#clearlyiforgottoaddthis"},"Source Code"),i.createElement("a",{href:"https://feathericons.com/"},"Icons Used"),i.createElement("a",{href:"https://metalloriff.github.io/city-fog"},"Color Palette"),i.createElement("a",{href:"https://paypal.me/israelboone"},i.createElement("img",{src:D,alt:"♥",width:15,height:15}),i.createElement("span",{style:{margin:"0 7px"}},"Donate"),i.createElement("img",{src:D,alt:"♥",width:15,height:15})),i.createElement("div",{className:"Copyright"},"Copyright © ",(new Date).getFullYear()," Israel Boone")))))}function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}var U=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",F({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));U.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},U.displayName="Minus";const j=U;function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}var z=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",B({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}))}));z.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},z.displayName="Square";const V=z;var W=n(9586);function q(){const{electronApi:e}=window;return i.createElement("div",{className:"TitleBar FlexCenter"},i.createElement(W.r,{className:"AppIcon"}),i.createElement("div",{className:"TitleName"},"Cirlos V2",i.createElement("span",{className:"Tag"},"Alpha")),i.createElement("div",{className:"Buttons FlexCenter"},i.createElement("div",{className:"Button Minimize",onClick:()=>e.send("minimize")},i.createElement(j,null)),i.createElement("div",{className:"Button Maximize",onClick:()=>e.send("maximize")},i.createElement(V,null)),i.createElement("div",{className:"Button Close",onClick:()=>e.send("close")},i.createElement(g.Z,null))))}var G=n(6486),H=n.n(G),$=n(9818),Z=n(7219);const K=[],Y=class extends Z.Z{getActiveBubble(){return K[0]}getAllInQueue(){return K}tryQueue(e){a.e.dispatch({type:o.MF.SHOW_TUT,...e})}hide(){a.e.dispatch({type:o.MF.HIDE_TUT})}};let Q,X;Promise.resolve().then(n.bind(n,9912)).then((e=>{Q=e.default,X=e.settingsDispatcher}));const J=new Y(a.e,{[o.MF.SHOW_TUT]:async e=>{if(!e.id)throw new Error("Can't show a tutorial without an ID!");Q.getSettingValue("__properties","seenTutorials",e.id)||(X.dispatch({type:o.MF.UPDATE_SETTING,path:["__properties","seenTutorials",e.id],value:!0}),K.some((t=>t.id===e.id))||K.unshift(e))},[o.MF.HIDE_TUT]:({id:e})=>{if(e&&K.some((t=>t.id===e)))return K.splice(K.findIndex((t=>t.id===e)),1);K.shift()}});function ee(){const e=J.useState((()=>J.getActiveBubble())),t=e&&e.target,n=t&&t.getBoundingClientRect();var r;return(0,$.OR)("keydown",(e=>"Escape"===e.key&&J.hide())),e&&t&&i.createElement("div",{className:"TutorialBubbles",onClick:e=>e.target===e.currentTarget&&J.hide()},i.createElement("div",{className:"Bubble HasTooltip",style:{...H().pick(n,"top","left","width","height")}},i.createElement("div",{className:(0,o.Ch)("TooltipContainer","Visible",null!==(r=e.direction)&&void 0!==r?r:"up")},i.createElement("div",{className:"Tooltip"},e.children),i.createElement("div",{className:"TooltipArrow"}))))||null}var te=n(1832),ne=n(3680);function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}var ie=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",re({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),i.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));ie.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},ie.displayName="Plus";const oe=ie;function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var ae=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",se({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.createElement("circle",{cx:"9",cy:"7",r:"4"}),i.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),i.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}))}));ae.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},ae.displayName="Users";const le=ae;function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}var ue=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",ce({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("circle",{cx:"12",cy:"12",r:"3"}),i.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))}));ue.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},ue.displayName="Settings";const de=ue;var he=n(4559),fe=n(2562),pe=n(6582),me=n(4719),ge=n(8529),ve=n(3694),ye=n(1756),be=n(7994),we=n(3158),_e=n(3513),Ee=n(8746),Ce=n(3095),Te=n(5295),Se=n(9912),ke=n(9724),Ie=n(5744),xe=n(8540),Oe=n(5833);const Ne={Stores:{Store:Z.Z,CircleStore:ve.Z,GroupStore:_e.Z,UserStore:Ie.default,EmotePackStore:be.Z,EmoteStore:we.Z,MessageStore:Te.Z,MessageCountStore:Ee.Z,MessageReadStore:Ce.Z,SettingsStore:Se.default,VoiceMemberStore:xe.Z,TypingStore:ke.Z,CssStore:ye.Z},Types:{Circle:fe.ZP,Emote:pe.Z,Group:me.ZP,Message:ge.Z,User:Oe.ZP}};var Pe=n(9178);function Ae(){return Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}var Re=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",Ae({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),i.createElement("polyline",{points:"13 2 13 9 20 9"}))}));Re.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},Re.displayName="File";const De=Re;function Le(){return Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}var Me=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",Le({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),i.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))}));Me.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},Me.displayName="Send";const Fe=Me;function Ue(){return Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}var je=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",Ue({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.createElement("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}))}));je.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},je.displayName="Slash";const Be=je;var ze=n(1962),Ve=n(8997),We=n(2284);function qe(){a.e.useForceUpdater(o.MF.PAGE_UPDATE),_e.Z.useState((()=>_e.Z.getSelectedGroup()));const e={handleSend:async e=>{if(e.trim()){if(e.startsWith("/")){const[t,...n]=e.split(/\s/gm).slice(),r=Ve.Z[t.toLowerCase().slice(1)];return r?r.handler(e.slice(t.length+1),n):te.Z.showToast("Invalid/unknown command!","Failure")}const t=_e.Z.getSelectedGroup();if(!t)return te.Z.showToast("No selected group!","Failure");a.e.dispatch({type:o.MF.SEND_MESSAGE,group:t,content:e}),ke.Z.stopTyping(t.circleId,t.id)}return setTimeout((()=>{var e;null===(e=document.getElementById("ChatTextArea"))||void 0===e||e.focus()}),0),!0},onKeyDown:e=>{switch(e.key){case"ArrowUp":if(e.target.value.substr(0,e.target.selectionStart).split("\n").length<=1){const t=Ie.default.getLocalUser(),n=_e.Z.getSelectedGroup();if(!n)break;const r=Te.Z.getOrderedMessages(n.circleId,n.id).filter((e=>e.senderId===t.id)).slice(-1)[0];a.e.dispatch({type:o.MF.START_EDIT_MESSAGE,message:r}),e.preventDefault()}}}};return i.createElement("div",{className:"ChatTextAreaContainer Flex"},i.createElement(We.Z,{id:"ChatTextArea",className:"ChatTextArea",onSend:e.handleSend,onInput:e=>e.target.value?ke.Z.startTyping():ke.Z.stopTyping(),containerChildren:i.createElement(He,null),disabled:!_e.Z.getSelectedGroup(),onKeyDown:e.onKeyDown,onFocus:e=>J.tryQueue({id:"rtaIntro",target:e.currentTarget.parentElement,children:i.createElement("div",{style:{textAlign:"center"}},"This is the rich text area! (RTA)",i.createElement("br",null),"You can use any markdown here,",i.createElement("br",null),"and see it change in real-time.",i.createElement("br",null),i.createElement("br",null),i.createElement("a",{href:"/docs/markdown",target:"_blank"},"View Markdown Docs"))})},i.createElement(Ge,null)," "),i.createElement("div",{className:"Button",onClick:()=>(0,o.ep)().then((([e]=[])=>e&&a.e.dispatch({type:o.MF.RTA_ATTACH_FILE,file:e})))},i.createElement(De,null)),i.createElement("div",{className:"Button",onClick:()=>document.getElementById("ChatTextArea").dispatchEvent(new KeyboardEvent("keydown",{key:"Enter",shiftKey:!1,bubbles:!0}))},i.createElement(Fe,null)))}function Ge(){const e=_e.Z.getSelectedGroup();if(a.e.useForceUpdater(o.MF.GROUP_UPDATE,(t=>e&&t.circle.id===e.circleId&&t.group.id===e.id)),a.e.useForceUpdater(o.MF.USER_UPDATE,(({user:t})=>e&&t.id===e.id)),e){if(e.isDm){const t=Ie.default.getUser(e.id);return(null==t?void 0:t.feed)?i.createElement(i.Fragment,null,i.createElement(t.AvatarComponent,{size:20,style:{marginRight:5}}),ze.Z.parse(t.feed,null,{minimal:!0})):i.createElement(i.Fragment,null,i.createElement(t.AvatarComponent,{size:20,style:{marginRight:5}}),"Message ",null==t?void 0:t.displayName)}return e.description?i.createElement(i.Fragment,null,i.createElement(A.Z,{style:{marginRight:5}}),ze.Z.parse(e.description,null,{minimal:!0})):i.createElement(i.Fragment,null,i.createElement(A.Z,null)," Say hi!")}return i.createElement(i.Fragment,null,i.createElement(Be,null)," No group selected.")}function He(){var e;a.e.useForceUpdater(o.MF.PAGE_UPDATE),a.e.useForceUpdater(o.MF.UPDATE_TYPING_INDICATORS,(({circleId:e,userId:t})=>[e,t].some((e=>window.location.href.includes(e)))));const t=null!==(e=_e.Z.getSelectedGroup())&&void 0!==e?e:{};var n;const r=Object.keys(null!==(n=ke.Z.getTypingUsersForGroup(t.circleId,t.id))&&void 0!==n?n:{});return i.createElement("div",{className:(0,o.Ch)("TypingIndicators",[!!r.length,"Active"])},r.map(((e,t)=>i.createElement(i.Fragment,{key:e},i.createElement(Oe.cB,{user:Ie.default.getUser(e),convertToYou:!0}),t!==r.length-1&&i.createElement("div",{className:"Comma"},", ",t===r.length-2&&"and")))),r.length>1||~r.indexOf(Ie.default.getLocalUser().id)?" are":" is"," typing...")}function $e(){const[e,t]=i.useState(!1);function n(e){return[...e.dataTransfer.items].some((e=>"file"===e.kind))}function r(e){for(const t of e)a.e.dispatch({type:o.MF.RTA_ATTACH_FILE,file:t})}let s=0;return(0,$.OR)("dragenter",(e=>++s&&n(e)&&t(!0))),(0,$.OR)("dragleave",(()=>!--s&&t(!1))),(0,$.OR)("dragover",(e=>n(e)&&e.preventDefault())),(0,$.OR)("drop",(e=>{t(!1),n(e)&&(r([...e.dataTransfer.items].map((e=>e.getAsFile()))),e.preventDefault())})),(0,$.OR)("paste",(e=>{const[t]=e.clipboardData.items,n=t?t.getAsFile():null;n&&(r([n]),e.preventDefault())})),i.createElement("div",{className:(0,o.Ch)("FileDragHandler","FlexCenter",[e,"Visible"])},i.createElement(De,{className:"FileIcon"}),i.createElement("h2",{className:"Head"},"Drop your files to upload."))}function Ze(e,t){return Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ze(e,t)}function Ke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ze(e,t)}function Ye(){return Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var tt="function"==typeof Symbol&&Symbol.observable||"@@observable",nt=function(){return Math.random().toString(36).substring(7).split("").join(".")},rt={INIT:"@@redux/INIT"+nt(),REPLACE:"@@redux/REPLACE"+nt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+nt()}};function it(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ot(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(et(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(et(1));return n(ot)(e,t)}if("function"!=typeof e)throw new Error(et(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(et(3));return o}function d(e){if("function"!=typeof e)throw new Error(et(4));if(l)throw new Error(et(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(et(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function h(e){if(!it(e))throw new Error(et(7));if(void 0===e.type)throw new Error(et(8));if(l)throw new Error(et(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++)(0,t[n])();return e}function f(e){if("function"!=typeof e)throw new Error(et(10));i=e,h({type:rt.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(et(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[tt]=function(){return this},e}return h({type:rt.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:f})[tt]=p,r}function st(e,t){return function(){return t(e.apply(this,arguments))}}function at(e,t){if("function"==typeof e)return st(e,t);if("object"!=typeof e||null===e)throw new Error(et(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=st(i,t))}return n}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var ct=i.createContext(null),ut=function(e){e()},dt=function(){return ut},ht={notify:function(){},get:function(){return[]}};function ft(e,t){var n,r=ht;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=dt(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var s={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ht)},getListeners:function(){return r}};return s}var pt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;const mt=function(e){var t=e.store,n=e.context,r=e.children,o=(0,i.useMemo)((function(){var e=ft(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),s=(0,i.useMemo)((function(){return t.getState()}),[t]);pt((function(){var e=o.subscription;return e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,s]);var a=n||ct;return i.createElement(a.Provider,{value:o},r)};function gt(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var vt=n(8679),yt=n.n(vt),bt=n(9864),wt=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],_t=["reactReduxForwardedRef"],Et=[],Ct=[null,null];function Tt(e,t){var n=e[1];return[t.payload,n+1]}function St(e,t,n){pt((function(){return e.apply(void 0,t)}),n)}function kt(e,t,n,r,i,o,s){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,s())}function It(e,t,n,r,i,o,s,a,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=r(h,i.current)}catch(e){n=e,d=e}n||(d=null),e===o.current?s.current||l():(o.current=e,a.current=e,s.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=h,n.trySubscribe(),h(),function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var xt=function(){return[null,0]};function Ot(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,s=n.methodName,a=void 0===s?"connectAdvanced":s,l=n.renderCountProp,c=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,h=n.storeKey,f=void 0===h?"store":h,p=(n.withRef,n.forwardRef),m=void 0!==p&&p,g=n.context,v=void 0===g?ct:g,y=gt(n,wt),b=v;return function(t){var n=t.displayName||t.name||"Component",r=o(n),s=Ye({},y,{getDisplayName:o,methodName:a,renderCountProp:c,shouldHandleStateChanges:d,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=y.pure,u=l?i.useMemo:function(e){return e()};function h(n){var r=(0,i.useMemo)((function(){var e=n.reactReduxForwardedRef,t=gt(n,_t);return[n.context,e,t]}),[n]),o=r[0],a=r[1],l=r[2],c=(0,i.useMemo)((function(){return o&&o.Consumer&&(0,bt.isContextConsumer)(i.createElement(o.Consumer,null))?o:b}),[o,b]),h=(0,i.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var p=f?n.store:h.store,m=(0,i.useMemo)((function(){return function(t){return e(t.dispatch,s)}(p)}),[p]),g=(0,i.useMemo)((function(){if(!d)return Ct;var e=ft(p,f?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,f,h]),v=g[0],y=g[1],w=(0,i.useMemo)((function(){return f?h:Ye({},h,{subscription:v})}),[f,h,v]),_=(0,i.useReducer)(Tt,Et,xt),E=_[0][0],C=_[1];if(E&&E.error)throw E.error;var T=(0,i.useRef)(),S=(0,i.useRef)(l),k=(0,i.useRef)(),I=(0,i.useRef)(!1),x=u((function(){return k.current&&l===S.current?k.current:m(p.getState(),l)}),[p,E,l]);St(kt,[S,T,I,l,x,k,y]),St(It,[d,p,v,m,S,T,I,k,y,C],[p,v,m]);var O=(0,i.useMemo)((function(){return i.createElement(t,Ye({},x,{ref:a}))}),[a,t,x]);return(0,i.useMemo)((function(){return d?i.createElement(c.Provider,{value:w},O):O}),[c,O,w])}var p=l?i.memo(h):h;if(p.WrappedComponent=t,p.displayName=h.displayName=r,m){var g=i.forwardRef((function(e,t){return i.createElement(p,Ye({},e,{reactReduxForwardedRef:t}))}));return g.displayName=r,g.WrappedComponent=t,yt()(g,t)}return yt()(p,t)}}function Nt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Pt(e,t){if(Nt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Nt(e[n[i]],t[n[i]]))return!1;return!0}function At(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Rt(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Dt(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Rt(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Rt(i),i=r(t,n)),i},r}}const Lt=[function(e){return"function"==typeof e?Dt(e):void 0},function(e){return e?void 0:At((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?At((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"==typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}],Mt=[function(e){return"function"==typeof e?Dt(e):void 0},function(e){return e?void 0:At((function(){return{}}))}];function Ft(e,t,n){return Ye({},n,e,t)}const Ut=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,s=!1;return function(t,n,a){var l=e(t,n,a);return s?i&&o(l,r)||(r=l):(s=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return Ft}}];var jt=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Bt(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function zt(e,t,n,r,i){var o,s,a,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;return function(i,p){return f?function(i,f){var p,m,g=!d(f,s),v=!u(i,o);return o=i,s=f,g&&v?(a=e(o,s),t.dependsOnOwnProps&&(l=t(r,s)),c=n(a,l,s)):g?(e.dependsOnOwnProps&&(a=e(o,s)),t.dependsOnOwnProps&&(l=t(r,s)),c=n(a,l,s)):v?(p=e(o,s),m=!h(p,a),a=p,m&&(c=n(a,l,s)),c):c}(i,p):(a=e(o=i,s=p),l=t(r,s),c=n(a,l,s),f=!0,c)}}function Vt(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=gt(t,jt),s=n(e,o),a=r(e,o),l=i(e,o);return(o.pure?zt:Bt)(s,a,l,e,o)}var Wt=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function qt(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Gt(e,t){return e===t}function Ht(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Ot:n,i=t.mapStateToPropsFactories,o=void 0===i?Mt:i,s=t.mapDispatchToPropsFactories,a=void 0===s?Lt:s,l=t.mergePropsFactories,c=void 0===l?Ut:l,u=t.selectorFactory,d=void 0===u?Vt:u;return function(e,t,n,i){void 0===i&&(i={});var s=i,l=s.pure,u=void 0===l||l,h=s.areStatesEqual,f=void 0===h?Gt:h,p=s.areOwnPropsEqual,m=void 0===p?Pt:p,g=s.areStatePropsEqual,v=void 0===g?Pt:g,y=s.areMergedPropsEqual,b=void 0===y?Pt:y,w=gt(s,Wt),_=qt(e,o,"mapStateToProps"),E=qt(t,a,"mapDispatchToProps"),C=qt(n,c,"mergeProps");return r(d,Ye({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:E,initMergeProps:C,pure:u,areStatesEqual:f,areOwnPropsEqual:m,areStatePropsEqual:v,areMergedPropsEqual:b},w))}}const $t=Ht();var Zt,Kt=n(3935);function Yt(e,t){var n=(0,i.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),s=r.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,i.useEffect)((function(){r.current=!1,o.current=s}),[s]),s.result}Zt=Kt.unstable_batchedUpdates,ut=Zt;var Qt=Yt,Xt=function(e,t){return Yt((function(){return e}),t)};var Jt=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},en=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},tn=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},nn={top:0,right:0,bottom:0,left:0},rn=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?nn:n,i=e.border,o=void 0===i?nn:i,s=e.padding,a=void 0===s?nn:s,l=Jt(en(t,r)),c=Jt(tn(t,o)),u=Jt(tn(c,a));return{marginBox:l,borderBox:Jt(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:a}},on=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){if(!e)throw new Error("Invariant failed")}(!1),n},sn=function(e,t){var n,r,i=e.borderBox,o=e.border,s=e.margin,a=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return rn({borderBox:l,border:o,margin:s,padding:a})},an=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),sn(e,t)},ln=function(e,t){var n={top:on(t.marginTop),right:on(t.marginRight),bottom:on(t.marginBottom),left:on(t.marginLeft)},r={top:on(t.paddingTop),right:on(t.paddingRight),bottom:on(t.paddingBottom),left:on(t.paddingLeft)},i={top:on(t.borderTopWidth),right:on(t.borderRightWidth),bottom:on(t.borderBottomWidth),left:on(t.borderLeftWidth)};return rn({borderBox:e,margin:n,padding:r,border:i})},cn=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return ln(t,n)},un=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function dn(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(i=t[n])||un(r)&&un(i)))return!1;var r,i;return!0}const hn=function(e,t){var n;void 0===t&&(t=dn);var r,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}},fn=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function pn(e,t){}function mn(){}function gn(e,t,n){var r=t.map((function(t){var r,i,o=(r=n,i=t.options,Ye({},r,{},i));return e.addEventListener(t.eventName,t.fn,o),function(){e.removeEventListener(t.eventName,t.fn,o)}}));return function(){r.forEach((function(e){e()}))}}pn.bind(null,"warn"),pn.bind(null,"error");function vn(e){this.message=e}function yn(e,t){if(!e)throw new vn("Invariant failed")}vn.prototype.toString=function(){return this.message};var bn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=mn,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof vn&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}Ke(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=gn(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof vn))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(i.Component),wn=function(e){return e+1},_n=function(e,t){var n=e.droppableId===t.droppableId,r=wn(e.index),i=wn(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},En=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Cn=function(e){return"\n  The item has returned to its starting position\n  of "+wn(e.index)+"\n"},Tn=function(e){return"\n  You have lifted an item in position "+wn(e.source.index)+"\n"},Sn=function(e){var t=e.destination;if(t)return _n(e.source,t);var n=e.combine;return n?En(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},kn=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Cn(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+_n(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+En(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Cn(e.source)+"\n  "},In={x:0,y:0},xn=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},On=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Nn=function(e,t){return e.x===t.x&&e.y===t.y},Pn=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},An=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Rn=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Dn=function(e,t){return Math.min.apply(Math,t.map((function(t){return Rn(e,t)})))},Ln=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Mn=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Fn=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Un=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=Jt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):Jt(e)},jn=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?Mn(e,t.scroll.diff.displacement):e}(t.marginBox,i),s=function(e,t,n){var r;return n&&n.increasedBy?Ye({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:Un(s,i)}},Bn=function(e,t){e.frame||yn(!1);var n=e.frame,r=On(t,n.scroll.initial),i=Pn(r),o=Ye({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}});return Ye({},e,{frame:o,subject:jn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o})})};function zn(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Vn(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Wn(e,t){if(e.find)return e.find(t);var n=Vn(e,t);return-1!==n?e[n]:void 0}function qn(e){return Array.prototype.slice.call(e)}var Gn=hn((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Hn=hn((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),$n=hn((function(e){return zn(e)})),Zn=hn((function(e){return zn(e)})),Kn=hn((function(e,t){var n=Zn(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function Yn(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Qn(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Xn=hn((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),Jn=function(e,t){return e.descriptor.droppableId===t.descriptor.id},er={point:In,value:0},tr={invisible:{},visible:{},all:[]},nr={displaced:tr,displacedBy:er,at:null},rr=function(e,t){return function(n){return e<=n&&n<=t}},ir=function(e){var t=rr(e.top,e.bottom),n=rr(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var s=r.top<e.top&&r.bottom>e.bottom,a=r.left<e.left&&r.right>e.right;return!(!s||!a)||s&&o||a&&i}},or=function(e){var t=rr(e.top,e.bottom),n=rr(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},sr={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ar={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},lr=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,s=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:In;return Mn(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(s,n,o)&&function(e,t,n){return n(t)(e)}(s,r,o)},cr=function(e){return lr(Ye({},e,{isVisibleThroughFrameFn:or}))};function ur(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,s=e.last;return t.reduce((function(e,t){var a=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Jt(en(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!lr(Ye({},{target:a,destination:n,viewport:i,withDroppableDisplacement:!0},{isVisibleThroughFrameFn:ir})))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate}(l,s,o),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function dr(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:tr,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function hr(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,s=e.last,a=e.index,l=e.forceShouldAnimate,c=Jn(t,r);if(null==a)return dr({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=Wn(n,(function(e){return e.descriptor.index===a}));if(!u)return dr({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=Xn(t,n),h=n.indexOf(u);return{displaced:ur({afterDragging:d.slice(h),destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function fr(e,t){return Boolean(t.effected[e])}var pr=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},mr=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},gr=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return An(t.line,n.marginBox[t.end]+pr(t,r),mr(t,n.marginBox,r))},vr=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return An(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),mr(t,n.marginBox,r))},yr=function(e,t){var n=e.frame;return n?xn(t,n.scroll.diff.displacement):t},br=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,s=n.page.borderBox.center,a=t.at;return r&&a?"REORDER"===a.type?function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,s=Kn(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return An(t.line,n.contentBox[t.start]+pr(t,r),mr(t,n.contentBox,r))}({axis:l,moveInto:i.page,isMoving:a});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var h=r[d];if(fr(d,o))return vr({axis:l,moveRelativeTo:h.page,isMoving:a});var f=sn(h.page,u.point);return vr({axis:l,moveRelativeTo:f,isMoving:a})}var p=s[s.length-1];if(p.descriptor.id===n.descriptor.id)return a.borderBox.center;if(fr(p.descriptor.id,o)){var m=sn(p.page,Pn(o.displacedBy.point));return gr({axis:l,moveRelativeTo:m,isMoving:a})}return gr({axis:l,moveRelativeTo:p.page,isMoving:a})}({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=Qn(n);i||yn(!1);var o=i.draggableId,s=r[o].page.borderBox.center,a=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return fr(r,n)?o?In:Pn(i.point):o?i.point:In}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return xn(s,a)}({impact:t,draggables:i,afterCritical:o}):s}(e),n=e.droppable;return n?yr(n,t):t},wr=function(e,t){var n=On(t,e.scroll.initial),r=Pn(n);return{frame:Jt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function _r(e,t){return e.map((function(e){return t[e]}))}var Er=function(e){var t,n,r=e.pageBorderBoxCenter,i=e.draggable,o=(t=e.viewport,n=r,xn(t.scroll.diff.displacement,n)),s=On(o,i.page.borderBox.center);return xn(i.client.borderBox.center,s)},Cr=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,s=e.onlyOnMainAxis,a=void 0!==s&&s,l=On(r,t.page.borderBox.center),c={target:Mn(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:i};return a?function(e){return lr(Ye({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=rr(e.top,e.bottom),r=rr(e.left,e.right);return function(e){return t===sr?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):cr(c)},Tr=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,s=e.viewport,a=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=Kn(r.descriptor.id,i),d=Jn(n,r),h=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!Yn(o))return null;function s(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return Ye({},o,{at:t})}var a=o.displaced.all,l=a.length?a[0]:null;if(t)return l?s(l):null;var c=Xn(n,i);if(!l)return c.length?s(c[c.length-1].descriptor.id):null;var u=Vn(c,(function(e){return e.descriptor.id===l}));-1===u&&yn(!1);var d=u-1;return d<0?null:s(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,s=e.insideDestination,a=e.previousImpact,l=e.viewport,c=e.afterCritical,u=a.at;if(u||yn(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,s=t?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return s<a||s>(n?l:l+1)?null:s}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:s});return null==d?null:hr({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})}var h=function(e){var t=e.isMovingForward,n=e.draggables,r=e.combine,i=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var o=r.draggableId,s=n[o].descriptor.index;return fr(o,i)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:o,displaced:a.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==h?null:hr({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:h})}({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:s,afterCritical:c});if(!h)return null;var f=br({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(Cr({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Er({pageBorderBoxCenter:f,draggable:n,viewport:s}),impact:h,scrollJumpRequest:null};var p=On(f,a),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,s=wr(n,xn(n.scroll.current,o)),a=r.frame?Bn(r,xn(r.frame.scroll.current,o)):r,l=t.displaced,c=ur({afterDragging:_r(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),u=ur({afterDragging:_r(l.all,i),destination:a,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),Ye({},t,{displaced:{all:l.all,invisible:d,visible:h}})}({impact:h,viewport:s,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:m,scrollJumpRequest:p}},Sr=function(e){var t=e.subject.active;return t||yn(!1),t},kr=function(e,t){var n=e.page.borderBox.center;return fr(e.descriptor.id,t)?On(n,t.displacedBy.point):n},Ir=function(e,t){var n=e.page.borderBox;return fr(e.descriptor.id,t)?Mn(n,Pn(t.displacedBy.point)):n},xr=hn((function(e,t){var n=t[e.line];return{value:n,point:An(e.line,n)}})),Or=function(e,t){return Ye({},e,{scroll:Ye({},e.scroll,{max:t})})},Nr=function(e,t,n){var r=e.frame;Jn(t,e)&&yn(!1),e.subject.withPlaceholder&&yn(!1);var i=xr(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return An(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=Kn(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return o<=0?null:An(r.line,o)}(e,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return Ye({},e,{subject:jn({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame})});var a=o?xn(r.scroll.max,o):r.scroll.max,l=Or(r,a);return Ye({},e,{subject:jn({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:l}),frame:l})},Pr=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Ar=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Pr(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],s=r||o,a=s.axis.direction,l="vertical"===a&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===a&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,h=t.dimensions,f=h.draggables,p=h.droppables;return l?Tr({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:s,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,s=e.droppables,a=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,l=rr(s[a.start],s[a.end]),c=$n(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return ir(o.frame)(Sr(e))})).filter((function(e){var n=Sr(e);return t?s[a.crossAxisEnd]<n[a.crossAxisEnd]:n[a.crossAxisStart]<s[a.crossAxisStart]})).filter((function(e){var t=Sr(e),n=rr(t[a.start],t[a.end]);return l(t[a.start])||l(t[a.end])||n(s[a.start])||n(s[a.end])})).sort((function(e,n){var r=Sr(e)[a.crossAxisStart],i=Sr(n)[a.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return Sr(e)[a.crossAxisStart]===Sr(n[0])[a.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return rr(Sr(e)[a.start],Sr(e)[a.end])(n[a.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return Sr(e)[a.start]-Sr(t)[a.start]}))[0]:c.sort((function(e,t){var r=Dn(n,Fn(Sr(e))),i=Dn(n,Fn(Sr(t)));return r!==i?r-i:Sr(e)[a.start]-Sr(t)[a.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!c)return null;var u=Kn(c.descriptor.id,o),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.afterCritical,o=e.insideDestination.filter((function(e){return cr({target:Ir(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var o=Rn(t,yr(r,kr(e,i))),s=Rn(t,yr(r,kr(n,i)));return o<s?-1:s<o?1:e.descriptor.index-n.descriptor.index}));return o[0]||null}({pageBorderBoxCenter:n,viewport:a,destination:c,insideDestination:u,afterCritical:l}),h=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,s=e.destination,a=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:tr,displacedBy:er,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},u=br({impact:c,draggable:i,droppable:s,draggables:o,afterCritical:l}),d=Jn(i,s)?s:Nr(s,i,o);return Cr({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var h,f=Boolean(t[s.axis.line]<=n.page.borderBox.center[s.axis.line]),p=(h=n.descriptor.index,n.descriptor.id===i.descriptor.id||f?h:h+1);return hr({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:xr(s.axis,i.displaceBy),last:tr,index:p})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:a,afterCritical:l});if(!h)return null;var f=br({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:Er({pageBorderBoxCenter:f,draggable:r,viewport:a}),impact:h,scrollJumpRequest:null}}({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:s,draggables:f,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Rr(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Dr(e){var t=rr(e.top,e.bottom),n=rr(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}var Lr=function(e,t){return Jt(Mn(e,t))};function Mr(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Fr=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,s=e.viewport,a=e.afterCritical,l=Lr(n.page.borderBox,t),c=function(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=$n(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Dr(i)(t.center))return!0;var o=e.axis,s=i.center[o.crossAxisLine],a=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=rr(i[o.crossAxisStart],i[o.crossAxisEnd]),u=c(a),d=c(l);return!u&&!d||(u?a<s:l>s)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.candidates,r=e.draggable.page.borderBox.center,i=n.map((function(e){var n=e.axis,i=An(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Rn(r,i)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}({pageBorderBox:l,draggable:n,droppables:i});if(!c)return nr;var u=i[c],d=Kn(u.descriptor.id,r),h=function(e,t){var n=e.frame;return n?Lr(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,s=e.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=xr(i.axis,t.displaceBy),c=l.value,u=n[a.start],d=n[a.end],h=Wn(Xn(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[a.size]/4,o=fr(t,s),l=Mr({displaced:r.displaced,id:t});return o?l?d>n[a.start]+i&&d<n[a.end]-i:u>n[a.start]-c+i&&u<n[a.end]-c-i:l?d>n[a.start]+c+i&&d<n[a.end]+c-i:u>n[a.start]+i&&u<n[a.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:a})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,s=e.viewport,a=e.afterCritical,l=r.axis,c=xr(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=function(e){var t=e.draggable,n=e.closest;return n?e.inHomeList&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:Wn(Xn(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=fr(t,a),i=Mr({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n})),inHomeList:Jn(n,r)});return hr({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:c,index:f})}({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:s,afterCritical:a})},Ur=function(e,t){var n;return Ye({},e,((n={})[t.descriptor.id]=t,n))},jr=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,s=e.scrollJumpRequest,a=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=On(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:xn(t.initial.client.borderBoxCenter,u)},h={selection:xn(d.selection,a.scroll.current),borderBoxCenter:xn(d.borderBoxCenter,a.scroll.current),offset:xn(d.offset,a.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return Ye({phase:"COLLECTING"},t,{dimensions:l,viewport:a,current:f});var p=l.draggables[t.critical.draggable.id],m=o||Fr({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.impact,o=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=Pr(t),o=Pr(n);if(!i)return r;if(i===o)return r;var s=r[i];if(!s.subject.withPlaceholder)return r;var a=function(e){var t=e.subject.withPlaceholder;t||yn(!1);var n=e.frame;if(!n)return Ye({},e,{subject:jn({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||yn(!1);var i=Or(n,r);return Ye({},e,{subject:jn({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(s);return Ur(r,a)}({previousImpact:e.previousImpact,impact:i,droppables:r}),s=Pr(i);if(!s)return o;var a=r[s];if(Jn(t,a))return o;if(a.subject.withPlaceholder)return o;var l=Nr(a,t,n);return Ur(o,l)}({draggable:p,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return Ye({},t,{current:f,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null})},Br=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,s=t.displaced,a=function(e,t){return e.map((function(e){return t[e]}))}(s.all,r);return Ye({},t,{displaced:ur({afterDragging:a,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s})})},zr=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,s=e.afterCritical,a=br({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:s});return Er({pageBorderBoxCenter:a,draggable:n,viewport:o})},Vr=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&yn(!1);var i=t.impact,o=r||t.viewport,s=n||t.dimensions,a=s.draggables,l=s.droppables,c=a[t.critical.draggable.id],u=Pr(i);u||yn(!1);var d=l[u],h=Br({impact:i,viewport:o,destination:d,draggables:a}),f=zr({impact:h,draggable:c,droppable:d,draggables:a,viewport:o,afterCritical:t.afterCritical});return jr({impact:h,clientSelection:f,state:t,dimensions:s,viewport:o})},Wr=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=xr(n.axis,t.displaceBy),s=Kn(n.descriptor.id,r),a=s.indexOf(t);-1===a&&yn(!1);var l,c=s.slice(a+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:u};return{impact:{displaced:ur({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},qr=function(e){return"SNAP"===e.movementMode},Gr=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Ur(e.droppables,t)}}(e.dimensions,t);return!qr(e)||n?jr({state:e,dimensions:r}):Vr({state:e,dimensions:r})};function Hr(e){return e.isDragging&&"SNAP"===e.movementMode?Ye({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var $r={phase:"IDLE",completed:null,shouldFlush:!1},Zr=function(e,t){if(void 0===e&&(e=$r),"FLUSH"===t.type)return Ye({},$r,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&yn(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,l=s.draggables[r.draggable.id],c=s.droppables[r.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:In},d={client:u,page:{selection:xn(u.selection,o.scroll.initial),borderBoxCenter:xn(u.selection,o.scroll.initial),offset:xn(u.selection,o.scroll.diff.value)}},h=$n(s.droppables).every((function(e){return!e.isFixedOnPage})),f=Wr({draggable:l,home:c,draggables:s.draggables,viewport:o}),p=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:d,current:d,isWindowScrollAllowed:h,impact:p,afterCritical:f.afterCritical,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&yn(!1),Ye({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&yn(!1),function(e){var t=e.state,n=e.published,r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Bn(n,e.scroll)})),i=Ye({},t.dimensions.droppables,{},Gn(r)),o=Hn(function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||yn(!1),t}(n[t]),s=o.scroll.diff.value,a=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=sn(t.client,n),o=an(i,r);return Ye({},t,{placeholder:Ye({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:xn(i,s),initialWindowScroll:r.scroll.initial});return a}))}({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),s=Ye({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete s[e]}));var a={droppables:i,draggables:s},l=Pr(t.impact),c=l?a.droppables[l]:null,u=a.draggables[t.critical.draggable.id],d=a.droppables[t.critical.droppable.id],h=Wr({draggable:u,home:d,draggables:s,viewport:t.viewport}),f=h.impact,p=h.afterCritical,m=c&&c.isCombineEnabled?t.impact:f,g=Fr({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:t.viewport,afterCritical:p}),v=Ye({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:a,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:Ye({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Rr(e)||yn(!1);var m=t.payload.client;return Nn(m,e.current.client.selection)?e:jr({state:e,clientSelection:m,impact:qr(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Hr(e);if("COLLECTING"===e.phase)return Hr(e);Rr(e)||yn(!1);var g=t.payload,v=g.id,y=g.newScroll,b=e.dimensions.droppables[v];if(!b)return e;var w=Bn(b,y);return Gr(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Rr(e)||yn(!1);var _=t.payload,E=_.id,C=_.isEnabled,T=e.dimensions.droppables[E];T||yn(!1),T.isEnabled===C&&yn(!1);var S=Ye({},T,{isEnabled:C});return Gr(e,S,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Rr(e)||yn(!1);var k=t.payload,I=k.id,x=k.isCombineEnabled,O=e.dimensions.droppables[I];O||yn(!1),O.isCombineEnabled===x&&yn(!1);var N=Ye({},O,{isCombineEnabled:x});return Gr(e,N,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Rr(e)||yn(!1),e.isWindowScrollAllowed||yn(!1);var P=t.payload.newScroll;if(Nn(e.viewport.scroll.current,P))return Hr(e);var A=wr(e.viewport,P);return qr(e)?Vr({state:e,viewport:A}):jr({state:e,viewport:A})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Rr(e))return e;var R=t.payload.maxScroll;if(Nn(R,e.viewport.scroll.max))return e;var D=Ye({},e.viewport,{scroll:Ye({},e.viewport.scroll,{max:R})});return Ye({phase:"DRAGGING"},e,{viewport:D})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&yn(!1);var L=Ar({state:e,type:t.type});return L?jr({state:e,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var M=t.payload.reason;return"COLLECTING"!==e.phase&&yn(!1),Ye({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:M})}if("DROP_ANIMATE"===t.type){var F=t.payload,U=F.completed,j=F.dropDuration,B=F.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&yn(!1),{phase:"DROP_ANIMATING",completed:U,dropDuration:j,newHomeClientOffset:B,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Kr=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Yr=function(){return{type:"COLLECTION_STARTING",payload:null}},Qr=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Xr=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Jr=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},ei=function(e){return{type:"MOVE",payload:e}},ti=function(){return{type:"MOVE_UP",payload:null}},ni=function(){return{type:"MOVE_DOWN",payload:null}},ri=function(){return{type:"MOVE_RIGHT",payload:null}},ii=function(){return{type:"MOVE_LEFT",payload:null}},oi=function(e){return{type:"DROP_COMPLETE",payload:e}},si=function(e){return{type:"DROP",payload:e}},ai="cubic-bezier(.2,1,.1,1)",li=0,ci=.7,ui=.75,di="0.2s cubic-bezier(0.2, 0, 0, 1)",hi={fluid:"opacity "+di,snap:"transform "+di+", opacity "+di,drop:function(e){var t=e+"s "+ai;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+di,placeholder:"height "+di+", width "+di+", margin "+di},fi=function(e){return Nn(e,In)?null:"translate("+e.x+"px, "+e.y+"px)"},pi=fi,mi=.33,gi=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&yn(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&yn(!1);var s=i.critical,a=i.dimensions,l=a.draggables[i.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,s=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:Ye({},r,{displaced:tr}),didDropInsideDroppable:!0}:{impact:Br({draggables:t,impact:s,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,h=d?Yn(u):null,f=d?Qn(u):null,p={index:s.draggable.index,droppableId:s.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:o,mode:i.movementMode,destination:h,combine:f},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,s=r.draggables,a=r.droppables,l=Pr(t),c=l?a[l]:null,u=a[n.descriptor.droppableId],d=zr({impact:t,draggable:n,draggables:s,afterCritical:o,droppable:c||u,viewport:i});return On(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:a,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:u};if(!Nn(i.current.client.offset,g)||Boolean(m.combine)){var y=function(e){var t=e.reason,n=Rn(e.current,e.destination);if(n<=0)return mi;if(n>=1500)return.55;var r=mi+n/1500*.22000000000000003;return Number(("CANCEL"===t?.6*r:r).toFixed(2))}({current:i.current.client.offset,destination:g,reason:o});n({type:"DROP_ANIMATE",payload:{newHomeClientOffset:g,dropDuration:y,completed:v}})}else n(oi({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},vi=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var yi=function(e){var t=function(e){var t=e.onWindowScroll,n=fn((function(){t(vi())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=mn;function o(){return i!==mn}return{start:function(){o()&&yn(!1),i=gn(window,[r])},stop:function(){o()||yn(!1),n.cancel(),i(),i=mn},isActive:o}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},bi=function(e,t){t()},wi=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},_i=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},Ei=function(e,t){var n=function(e,t){var n,r=(n=[],{add:function(e){var t=setTimeout((function(){return function(e){var t=Vn(n,(function(t){return t.timerId===e}));-1===t&&yn(!1),n.splice(t,1)[0].callback()}(t)})),r={timerId:t,callback:e};n.push(r)},flush:function(){if(n.length){var e=[].concat(n);n.length=0,e.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}),i=null,o=function(n){i||yn(!1),i=null,bi(0,(function(){return _i(e().onDragEnd,n,t,kn)}))};return{beforeCapture:function(t,n){i&&yn(!1),bi(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){i&&yn(!1),bi(0,(function(){var r=e().onBeforeDragStart;r&&r(wi(t,n))}))},start:function(n,o){i&&yn(!1);var s=wi(n,o);i={mode:o,lastCritical:n,lastLocation:s.source,lastCombine:null},r.add((function(){bi(0,(function(){return _i(e().onDragStart,s,t,Tn)}))}))},update:function(n,o){var s=Yn(o),a=Qn(o);i||yn(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(n,i.lastCritical);l&&(i.lastCritical=n);var c,u,d=(u=s,!(null==(c=i.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(i.lastLocation=s);var h=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(i.lastCombine,a);if(h&&(i.lastCombine=a),l||d||h){var f=Ye({},wi(n,i.mode),{combine:a,destination:s});r.add((function(){bi(0,(function(){return _i(e().onDragUpdate,f,t,Sn)}))}))}},flush:function(){i||yn(!1),r.flush()},drop:o,abort:function(){if(i){var e=Ye({},wi(i.lastCritical,i.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var s=e.getState();"DRAGGING"===s.phase&&n.update(s.critical,s.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Ci=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&yn(!1),e.dispatch(oi({completed:r.completed}))}else t(n)}}},Ti=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=gn(window,[o])}))}}}},Si=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(si({reason:r.reason})))}}}},ki=lt,Ii=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=On({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},xi=function(){var e=document.documentElement;return e||yn(!1),e},Oi=function(){var e=xi();return Ii({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function Ni(e,t,n){return n.descriptor.id!==t.id&&n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var Pi,Ai,Ri=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null;var e=r,o=e.additions,s=e.removals,a=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(In)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(a).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(s),modified:c};r={additions:{},removals:{},modified:{}},n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||yn(!1);var i=n.critical.draggable;"ADDITION"===t.type&&Ni(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Ni(e,i,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||yn(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||yn(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||yn(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&yn(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),s={draggable:r.descriptor,droppable:o.descriptor},a=e.subscribe(i);return n={critical:s,unsubscribe:a},function(e){var t,n,r,i,o,s,a,l=e.critical,c=e.scrollOptions,u=e.registry,d=(t=vi(),n=Oi(),r=t.y,i=t.x,s=(o=xi()).clientWidth,a=o.clientHeight,{frame:Jt({top:r,left:i,right:i+s,bottom:r+a}),scroll:{initial:t,current:t,max:n,diff:{value:In,displacement:In}}}),h=d.scroll.current,f=l.droppable,p=u.droppable.getAllByType(f.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(h,c)})),m=u.draggable.getAllByType(l.draggable.type).map((function(e){return e.getDimension(h)}));return{dimensions:{draggables:Hn(m),droppables:Gn(p)},critical:l,viewport:d}}({critical:s,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}}},Di=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},Li=function(e){window.scrollBy(e.x,e.y)},Mi=hn((function(e){return $n(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),Fi=function(e){return Math.pow(e,2)},Ui=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},ji=360,Bi=1200,zi=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var n=Ui({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=28*Fi(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=Bi,i=Date.now()-n;if(i>=Bi)return e;if(i<ji)return 1;var o=Ui({startOfRange:ji,endOfRange:r,current:i}),s=e*Fi(o);return Math.ceil(s)}(o,r),1):o},Vi=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,s=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,i);return n[i.end]<n[i.start]?zi({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*zi({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},Wi=Ln((function(e){return 0===e?0:e})),qi=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=Vi({container:n,distanceToEdges:s,dragStartTime:t,axis:sr,shouldUseTimeDampening:o}),l=Vi({container:n,distanceToEdges:s,dragStartTime:t,axis:ar,shouldUseTimeDampening:o}),c=Wi({x:l,y:a});if(Nn(c,In))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?Nn(u,In)?null:u:null},Gi=Ln((function(e){return 0===e?0:e>0?1:-1})),Hi=(Pi=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,i=xn(t,r),o={x:Pi(i.x,n.x),y:Pi(i.y,n.y)};return Nn(o,In)?null:o}),$i=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=Gi(r),s=Hi({max:i,current:n,change:o});return!s||0!==o.x&&0===s.x||0!==o.y&&0===s.y},Zi=function(e,t){return $i({current:e.scroll.current,max:e.scroll.max,change:t})},Ki=function(e,t){var n=e.frame;return!!n&&$i({current:n.scroll.current,max:n.scroll.max,change:t})},Yi=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,s=t.current.page.borderBoxCenter,a=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.shouldUseTimeDampening,o=qi({dragStartTime:e.dragStartTime,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return o&&Zi(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:a,center:s,shouldUseTimeDampening:r});if(l)return void i(l)}var c=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=Wn(Mi(t),(function(t){return t.frame||yn(!1),Dr(t.frame.pageMarginBox)(e)}));return n}(t,r);return o}({center:s,destination:Pr(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var a=qi({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&Ki(t,a)?a:null}({dragStartTime:n,droppable:c,subject:a,center:s,shouldUseTimeDampening:r});u&&o(c.descriptor.id,u)}},Qi=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow;return function(e){var i=e.scrollJumpRequest;if(i){var o=Pr(e.impact);o||yn(!1);var s=function(e,t){if(!Ki(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Ki(e,t)?Hi({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=On(t,r);return n(e.descriptor.id,i),On(t,i)}(e.dimensions.droppables[o],i);if(s){var a=e.viewport,l=function(e,t,n){if(!e)return n;if(!Zi(t,n))return n;var i=function(e,t){if(!Zi(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Hi({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=On(n,i);return r(o),On(n,o)}(e.isWindowScrollAllowed,a,s);l&&function(e,n){var r=xn(e.current.client.selection,n);t({client:r})}(e,l)}}}},Xi={base:Ai="data-rbd-drag-handle",draggableId:Ai+"-draggable-id",contextId:Ai+"-context-id"},Ji=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),eo=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),to="data-rbd-scroll-container-context-id",no=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},ro="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect,io=function(){var e=document.querySelector("head");return e||yn(!1),e},oo=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var so=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ao(e){return e instanceof so(e).HTMLElement}function lo(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||yn(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return zn(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=i(e);return t||yn(!1),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return zn(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var co=i.createContext(null),uo=function(){var e=document.body;return e||yn(!1),e},ho={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},fo=0,po={separator:"::"};function mo(e,t){return void 0===t&&(t=po),Qt((function(){return""+e+t.separator+fo++}),[t.separator,e])}var go=i.createContext(null);function vo(e){var t=(0,i.useRef)(e);return(0,i.useEffect)((function(){t.current=e})),t}var yo,bo,wo=((yo={})[13]=!0,yo[9]=!0,yo),_o=function(e){wo[e.keyCode]&&e.preventDefault()},Eo=function(){var e="visibilitychange";return"undefined"==typeof document?e:Wn([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),Co={type:"IDLE"};function To(){}var So=((bo={})[34]=!0,bo[33]=!0,bo[36]=!0,bo[35]=!0,bo);var ko={type:"IDLE"},Io={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function xo(e,t){if(null==t)return!1;if(Boolean(Io[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&xo(e,t.parentElement)}function Oo(e,t){var n=t.target;return!!ao(n)&&xo(e,n)}var No=function(e){return Jt(e.getBoundingClientRect()).center},Po=function(){var e="matches";return"undefined"==typeof document?e:Wn([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function Ao(e,t){return null==e?null:e[Po](t)?e:Ao(e.parentElement,t)}function Ro(e,t){return e.closest?e.closest(t):Ao(e,t)}function Do(e){e.preventDefault()}function Lo(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function Mo(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&!!o.options.isEnabled&&!!Di(n.getState(),i)}var Fo=[function(e){var t=(0,i.useRef)(Co),n=(0,i.useRef)(mn),r=Qt((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,a,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}}}}}}),[e]),o=Qt((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),s=Xt((function(){n.current=gn(window,[o,r],{passive:!1,capture:!0})}),[o,r]),a=Xt((function(){"IDLE"!==t.current.type&&(t.current=Co,n.current(),s())}),[s]),l=Xt((function(){var e=t.current;a(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[a]),c=Xt((function(){var e=function(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var s={x:n,y:o},a=r();if("DRAGGING"===a.type)return e.preventDefault(),void a.actions.move(s);if("PENDING"!==a.type&&yn(!1),l=a.point,c=s,Math.abs(c.x-l.x)>=5||Math.abs(c.y-l.y)>=5){var l,c;e.preventDefault();var u=a.actions.fluidLift(s);i({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void _o(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&yn(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Eo,fn:t}]}({cancel:l,completed:a,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=gn(window,e,{capture:!0,passive:!1})}),[l,a]),u=Xt((function(e,n){"IDLE"!==t.current.type&&yn(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);ro((function(){return s(),function(){n.current()}}),[s])},function(e){var t=(0,i.useRef)(To),n=Qt((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var i=e.findClosestDraggableId(n);if(i){var o=e.tryGetLock(i,l,{sourceEvent:n});if(o){n.preventDefault();var s=!0,a=o.snapLift();t.current(),t.current=gn(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(So[r.keyCode]?r.preventDefault():_o(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Eo,fn:n}]}(a,l),{capture:!0,passive:!1})}}}function l(){s||yn(!1),s=!1,t.current(),r()}}}}),[e]),r=Xt((function(){t.current=gn(window,[n],{passive:!1,capture:!0})}),[n]);ro((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,i.useRef)(ko),n=(0,i.useRef)(mn),r=Xt((function(){return t.current}),[]),o=Xt((function(e){t.current=e}),[]),s=Qt((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,l,{sourceEvent:t});if(i){var o=t.touches[0],s={x:o.clientX,y:o.clientY};n.current(),h(i,s)}}}}}}),[e]),a=Xt((function(){n.current=gn(window,[s],{capture:!0,passive:!1})}),[s]),l=Xt((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(ko),n.current(),a())}),[a,o]),c=Xt((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=Xt((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=gn(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&yn(!1);var i=e.touches[0];if(i&&i.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:Eo,fn:t}]}(t),e),o=gn(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Eo,fn:t}]}(t),e);n.current=function(){i(),o()}}),[c,r,l]),d=Xt((function(){var e=r();"PENDING"!==e.type&&yn(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),h=Xt((function(e,t){"IDLE"!==r().type&&yn(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);ro((function(){return a(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(ko))}}),[r,a,o]),ro((function(){return gn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Uo(e){var t=e.contextId,n=e.store,r=e.registry,o=e.customSensors,s=e.enableDefaultSensors,a=[].concat(s?Fo:[],o||[]),l=(0,i.useState)((function(){return function(){var e=null;function t(){e||yn(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&yn(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=Xt((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);ro((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),ro((function(){return l.tryAbandon}),[l.tryAbandon]);for(var u=Xt((function(e){return Mo({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=Xt((function(e,i,o){return function(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,s=e.forceSensorStop,a=e.sourceEvent;if(!Mo({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var l=i.draggable.getById(o),c=function(e,t){var n="["+Ji.contextId+'="'+e+'"]',r=Wn(qn(document.querySelectorAll(n)),(function(e){return e.getAttribute(Ji.id)===t}));return r&&ao(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(a&&!l.options.canDragInteractiveElements&&Oo(c,a))return null;var u=t.claim(s||mn),d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}var p=function(e,t){Lo({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),d="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=gn(window,[{eventName:"click",fn:Do,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(si({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&yn(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",Ye({isActive:function(){return Lo({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}return{isActive:function(){return Lo({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=fn((function(e){p((function(){return ei({client:e})}))}));return Ye({},m({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(ti)},moveRight:function(){return p(ri)},moveDown:function(){return p(ni)},moveLeft:function(){return p(ii)}};return m({liftActionArgs:{id:o,clientSelection:No(c),movementMode:"SNAP"},cleanup:mn,actions:e})},abort:function(){Lo({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}}}({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,l,r,n]),h=Xt((function(e){return function(e,t){var n=function(e,t){var n,r=t.target;if(!((n=r)instanceof so(n).Element))return null;var i=function(e){return"["+Xi.contextId+'="'+e+'"]'}(e),o=Ro(r,i);return o&&ao(o)?o:null}(e,t);return n?n.getAttribute(Xi.draggableId):null}(t,e)}),[t]),f=Xt((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=Xt((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),m=Xt(l.isClaimed,[l]),g=Qt((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}}),[u,d,h,f,p,m]),v=0;v<a.length;v++)a[v](g)}function jo(e){return e.current||yn(!1),e.current}function Bo(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,o=e.nonce,s=e.dragHandleUsageInstructions,a=(0,i.useRef)(null),l=vo(e),c=Xt((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)}),[l]),u=function(e){var t=Qt((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Ye(e.style,ho),uo().appendChild(e),function(){setTimeout((function(){var t=uo();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),Xt((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),d=function(e){var t=e.contextId,n=e.text,r=mo("hidden-text",{separator:"-"}),o=Qt((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,i.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",uo().appendChild(e),function(){var t=uo();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:s}),h=function(e,t){var n=Qt((function(){return function(e){var t,n,r,i=(t=e,function(e){return"["+e+'="'+t+'"]'}),o=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:i(Xi.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),s=[(r="\n      transition: "+hi.outOfTheWay+";\n    ",{selector:i(Ji.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),o,{selector:i(eo.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:no(s,"always"),resting:no(s,"resting"),dragging:no(s,"dragging"),dropAnimating:no(s,"dropAnimating"),userCancel:no(s,"userCancel")}}(e)}),[e]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),s=Xt(hn((function(e){var t=o.current;t||yn(!1),t.textContent=e})),[]),a=Xt((function(e){var t=r.current;t||yn(!1),t.textContent=e}),[]);ro((function(){(r.current||o.current)&&yn(!1);var i=oo(t),l=oo(t);return r.current=i,o.current=l,i.setAttribute("data-rbd-always",e),l.setAttribute("data-rbd-dynamic",e),io().appendChild(i),io().appendChild(l),a(n.always),s(n.resting),function(){var e=function(e){var t=e.current;t||yn(!1),io().removeChild(t),e.current=null};e(r),e(o)}}),[t,a,s,n.always,n.resting,e]);var l=Xt((function(){return s(n.dragging)}),[s,n.dragging]),c=Xt((function(e){s("DROP"!==e?n.userCancel:n.dropAnimating)}),[s,n.dropAnimating,n.userCancel]),u=Xt((function(){o.current&&s(n.resting)}),[s,n.resting]);return Qt((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}(t,o),f=Xt((function(e){jo(a).dispatch(e)}),[]),p=Qt((function(){return at({publishWhileDragging:Kr,updateDroppableScroll:Qr,updateDroppableIsEnabled:Xr,updateDroppableIsCombineEnabled:Jr,collectionStarting:Yr},f)}),[f]),m=function(){var e=Qt(lo,[]);return(0,i.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=Qt((function(){return Ri(m,p)}),[m,p]),v=Qt((function(){return function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollDroppable,n=fn(e.scrollWindow),r=fn(t),i=null,o=function(e){i||yn(!1);var t=i,o=t.shouldUseTimeDampening,s=t.dragStartTime;Yi({state:e,scrollWindow:n,scrollDroppable:r,dragStartTime:s,shouldUseTimeDampening:o})};return{start:function(e){i&&yn(!1);var t=Date.now(),n=!1,r=function(){n=!0};Yi({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},n&&o(e)},stop:function(){i&&(n.cancel(),r.cancel(),i=null)},scroll:o}}({scrollWindow:n,scrollDroppable:t}),o=Qi({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}}(Ye({scrollWindow:Li,scrollDroppable:g.scrollDroppable},at({move:ei},f)))}),[g.scrollDroppable,f]),y=function(e){var t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),s=Xt((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),a=Xt((function(t){var n=function(e,t){var n="["+Xi.contextId+'="'+e+'"]',r=qn(document.querySelectorAll(n));if(!r.length)return null;var i=Wn(r,(function(e){return e.getAttribute(Xi.draggableId)===t}));return i&&ao(i)?i:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=Xt((function(e,t){n.current===e&&(n.current=t)}),[]),c=Xt((function(){r.current||o.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&a(e)})))}),[a]),u=Xt((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Xi.draggableId)===e&&(n.current=e)}),[]);return ro((function(){return o.current=!0,function(){o.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),Qt((function(){return{register:s,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[s,u,c,l])}(t),b=Qt((function(){return function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,s=e.announce,a=e.autoScroller;return ot(Zr,ki(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(et(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=lt.apply(void 0,o)(n.dispatch),Je(Je({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,s=o.id,a=o.clientSelection,l=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(oi({completed:c.completed})),"IDLE"!==n().phase&&yn(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:s,movementMode:l}});var u={draggableId:s,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),h=d.critical,f=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:h,dimensions:f,clientSelection:a,movementMode:l,viewport:p}})}else t(i)}}}}(n),gi,Ci,Ti,Si,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&yn(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(a),yi,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Ei(o,s))))}({announce:u,autoScroller:v,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:h})}),[u,v,g,y,c,h]);a.current=b;var w=Xt((function(){var e=jo(a);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),_=Xt((function(){var e=jo(a).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(Qt((function(){return{isDragging:_,tryAbort:w}}),[_,w]));var E=Xt((function(e){return Di(jo(a).getState(),e)}),[]),C=Xt((function(){return Rr(jo(a).getState())}),[]),T=Qt((function(){return{marshal:g,focus:y,contextId:t,canLift:E,isMovementAllowed:C,dragHandleUsageInstructionsId:d,registry:m}}),[t,g,d,y,E,C,m]);return Uo({contextId:t,store:b,registry:m,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)((function(){return w}),[w]),i.createElement(go.Provider,{value:T},i.createElement(mt,{context:co,store:b},e.children))}var zo=0;function Vo(e){var t=Qt((function(){return""+zo++}),[]),n=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return i.createElement(bn,null,(function(r){return i.createElement(Bo,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Wo=function(e){return function(t){return e===t}},qo=Wo("scroll"),Go=Wo("auto"),Ho=(Wo("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),$o=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Ho(n,qo)||Ho(n,Go)}(t)?t:e(t.parentElement)},Zo=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ko=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Yo={passive:!1},Qo={passive:!0},Xo=function(e){return e.shouldPublishImmediately?Yo:Qo};function Jo(e){var t=(0,i.useContext)(e);return t||yn(!1),t}var es=function(e){return e&&e.env.closestScrollable||null};function ts(){}var ns={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},rs=i.memo((function(e){var t=(0,i.useRef)(null),n=Xt((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,o=e.onTransitionEnd,s=e.onClose,a=e.contextId,l=(0,i.useState)("open"===e.animate),c=l[0],u=l[1];(0,i.useEffect)((function(){return c?"open"!==r?(n(),u(!1),ts):t.current?ts:(t.current=setTimeout((function(){t.current=null,u(!1)})),n):ts}),[r,c,n]);var d=Xt((function(e){"height"===e.propertyName&&(o(),"close"===r&&s())}),[r,s,o]),h=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?ns:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?hi.placeholder:null}}({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":a,onTransitionEnd:d,ref:e.innerRef})})),is=i.createContext(null),os=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return Ke(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i.PureComponent),ss=function(e,t){return t?hi.drop(t.duration):e?hi.snap:hi.fluid},as=function(e,t){return e?t?li:ci:null};function ls(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,o=Boolean(r),s=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),a=Boolean(i),l=a?function(e,t){var n=fi(e);return n?t?n+" scale("+ui+")":n:null}(n,o):pi(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:ss(s,i),transform:l,opacity:as(o,a),zIndex:a?4500:5e3,pointerEvents:"none"}}(e):{transform:pi((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function cs(e){e.preventDefault()}var us=function(e,t){return e===t},ds=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function hs(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var fs={mapped:{type:"SECONDARY",offset:In,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:hs(null)}},ps=$t((function(){var e,t,n,r=(e=hn((function(e,t){return{x:e,y:t}})),t=hn((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=hn((function(e,n,r,i,o,s,a){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:s,mode:n,offset:e,dimension:r,forceShouldAnimate:a,snapshot:t(n,i,o,s,null)}}})),function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,s=r.dimensions.draggables[i.draggableId],a=Pr(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,s,i.isClone,a,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==i.draggableId)return null;var h=i.isClone,f=r.dimensions.draggables[i.draggableId],p=d.result,m=p.mode,g=ds(p),v=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:ai,moveTo:r.newHomeClientOffset,opacity:v?li:null,scale:v?ui:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:y,draggingOver:g,combineWith:v,mode:m,forceShouldAnimate:null,snapshot:t(m,h,g,v,y)}}}return null}),i=function(){var e=hn((function(e,t){return{x:e,y:t}})),t=hn(hs),n=hn((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(In,e,!0):null},i=function(t,i,o,s){var a=o.displaced.visible[t],l=Boolean(s.inVirtualList&&s.effected[t]),c=Qn(o),u=c&&c.draggableId===t?i:null;if(!a){if(!l)return r(u);if(o.displaced.invisible[t])return null;var d=Pn(s.displacedBy.point),h=e(d.x,d.y);return n(h,u,!0)}if(l)return r(u);var f=o.displacedBy.point,p=e(f.x,f.y);return n(p,u,a.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||i(e,t)||fs}}),{dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},null,{context:co,pure:!0,areStatePropsEqual:us})((function(e){var t=(0,i.useRef)(null),n=Xt((function(e){t.current=e}),[]),r=Xt((function(){return t.current}),[]),o=Jo(go),s=o.contextId,a=o.dragHandleUsageInstructionsId,l=o.registry,c=Jo(is),u=c.type,d=c.droppableId,h=Qt((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,p=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,w=e.dropAnimationFinished;y||function(e){var t=mo("draggable"),n=e.descriptor,r=e.registry,o=e.getDraggableRef,s=e.canDragInteractiveElements,a=e.shouldRespectForcePress,l=e.isEnabled,c=Qt((function(){return{canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:l}}),[s,l,a]),u=Xt((function(e){var t=o();return t||yn(!1),function(e,t,n){void 0===n&&(n=In);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=ln(i,r),s=an(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:s}}(n,t,e)}),[n,o]),d=Qt((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),h=(0,i.useRef)(d),f=(0,i.useRef)(!0);ro((function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}}),[r.draggable]),ro((function(){if(f.current)f.current=!1;else{var e=h.current;h.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}(Qt((function(){return{descriptor:h,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:m}}),[h,l,r,v,g,m]));var _=Qt((function(){return m?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:cs}:null}),[s,a,p,m]),E=Xt((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&w()}),[w,b]),C=Qt((function(){var e=ls(b),t="DRAGGING"===b.type&&b.dropping?E:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:_}}),[s,_,p,b,E,n]),T=Qt((function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}}),[h.droppableId,h.id,h.index,h.type]);return f(C,b.snapshot,T)}));function ms(e){return Jo(is).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(ps,e):null}function gs(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(ms,Ye({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var vs=function(e,t){return e===t.droppable.type},ys=function(e,t){return t.draggables[e.draggable.id]},bs={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||yn(!1),document.body}},ws=$t((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Ye({},e,{shouldAnimatePlaceholder:!1}),n=hn((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=hn((function(r,i,o,s,a,l){var c=a.descriptor.id;if(a.descriptor.droppableId===r){var u=l?{render:l,dragging:n(a.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:a.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!i)return t;if(!s)return e;var h={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:a.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}}));return function(n,i){var o=i.droppableId,s=i.type,a=!i.isDropDisabled,l=i.renderClone;if(n.isDragging){var c=n.critical;if(!vs(s,c))return t;var u=ys(c,n.dimensions),d=Pr(n.impact)===o;return r(o,a,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var h=n.completed;if(!vs(s,h.critical))return t;var f=ys(h.critical,n.dimensions);return r(o,a,ds(h.result)===o,Pr(h.impact)===o,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!vs(s,p.critical))return t;var m=Pr(p.impact)===o,g=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),v=p.critical.droppable.id===o;return m?g?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:co,pure:!0,areStatePropsEqual:us})((function(e){var t=(0,i.useContext)(go);t||yn(!1);var n=t.contextId,r=t.isMovementAllowed,o=(0,i.useRef)(null),s=(0,i.useRef)(null),a=e.children,l=e.droppableId,c=e.type,u=e.mode,d=e.direction,h=e.ignoreContainerClipping,f=e.isDropDisabled,p=e.isCombineEnabled,m=e.snapshot,g=e.useClone,v=e.updateViewportMaxScroll,y=e.getContainerForClone,b=Xt((function(){return o.current}),[]),w=Xt((function(e){o.current=e}),[]),_=(Xt((function(){return s.current}),[]),Xt((function(e){s.current=e}),[])),E=Xt((function(){r()&&v({maxScroll:Oi()})}),[r,v]);!function(e){var t=(0,i.useRef)(null),n=Jo(go),r=mo("droppable"),o=n.registry,s=n.marshal,a=vo(e),l=Qt((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,i.useRef)(l),u=Qt((function(){return hn((function(e,n){t.current||yn(!1);var r={x:e,y:n};s.updateDroppableScroll(l.id,r)}))}),[l.id,s]),d=Xt((function(){var e=t.current;return e&&e.env.closestScrollable?Zo(e.env.closestScrollable):In}),[]),h=Xt((function(){var e=d();u(e.x,e.y)}),[d,u]),f=Qt((function(){return fn(h)}),[h]),p=Xt((function(){var e=t.current,n=es(e);e&&n||yn(!1),e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),m=Xt((function(e,r){t.current&&yn(!1);var i=a.current,o=i.getDroppableRef();o||yn(!1);var s=function(e){return{closestScrollable:$o(e),isFixedOnPage:Ko(e)}}(o),c={ref:o,descriptor:l,env:s,scrollOptions:r};t.current=c;var u=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,s=e.isDropDisabled,a=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=cn(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,s=i+t.scrollWidth,a=en({top:r,right:s,bottom:o,left:i},n.border);return rn({borderBox:a,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=an(u,i),h=function(){if(!c)return null;var e=cn(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:an(e,i),scroll:Zo(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,s=e.client,a=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=Ii({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:In,displacement:In}}}}(),u="vertical"===o?sr:ar;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:s,page:a,frame:c,subject:jn({page:a,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f}({ref:o,descriptor:l,env:s,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=s.closestScrollable;return d&&(d.setAttribute(to,n.contextId),d.addEventListener("scroll",p,Xo(c.scrollOptions))),u}),[n.contextId,l,p,a]),g=Xt((function(){var e=t.current,n=es(e);return e&&n||yn(!1),Zo(n)}),[]),v=Xt((function(){var e=t.current;e||yn(!1);var n=es(e);t.current=null,n&&(f.cancel(),n.removeAttribute(to),n.removeEventListener("scroll",p,Xo(e.scrollOptions)))}),[p,f]),y=Xt((function(e){var n=t.current;n||yn(!1);var r=es(n);r||yn(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=Qt((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:y}}),[v,m,g,y]),w=Qt((function(){return{uniqueId:r,descriptor:l,callbacks:b}}),[b,l,r]);ro((function(){return c.current=w.descriptor,o.droppable.register(w),function(){t.current&&v(),o.droppable.unregister(w)}}),[b,l,v,w,s,o.droppable]),ro((function(){t.current&&s.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,s]),ro((function(){t.current&&s.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,s])}({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:h,getDroppableRef:b});var C=i.createElement(os,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return i.createElement(rs,{placeholder:r,onClose:t,innerRef:_,animate:o,contextId:n,onTransitionEnd:E})})),T=Qt((function(){return{innerRef:w,placeholder:C,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}}),[n,l,C,w]),S=g?g.dragging.draggableId:null,k=Qt((function(){return{droppableId:l,type:c,isUsingCloneFor:S}}),[l,S,c]);return i.createElement(is.Provider,{value:k},a(T,m),function(){if(!g)return null;var e=g.dragging,t=g.render,n=i.createElement(ms,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return Kt.createPortal(n,y())}())}));function _s(){return _s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_s.apply(this,arguments)}function Es(e){const{children:t=null,id:n,index:r,dragStyles:o={}}=e;return i.createElement(gs,{draggableId:n,index:r},((n,r)=>i.createElement("div",_s({},H().merge({},n.draggableProps,n.dragHandleProps,{ref:n.innerRef,style:r.isDragging?o:{}},H().omit(e,"children","index","dragStyles","isDragDisabled"))),t)))}function Cs(e){const{children:t=null,callback:n,id:r,customHandler:o=!1,dragStyles:s={}}=e;return i.createElement(Vo,{onDragEnd:function(e){if(o)return n(e);e.destination&&n((t=>{const[n]=t.splice(e.source.index,1);return t.splice(e.destination.index,0,n),t}))}},i.createElement(ws,{droppableId:r},((n,r)=>i.createElement("div",_s({},H().merge({},n.droppableProps,{ref:n.innerRef,style:r.isDraggingOver?s:{}},H().omit(e,"children","callback","customHandler","dragStyles"))),t,n.placeholder))))}ws.defaultProps=bs;var Ts=n(9683);function Ss(){return Ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ss.apply(this,arguments)}var ks=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",Ss({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),i.createElement("polyline",{points:"12 19 5 12 12 5"}))}));ks.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},ks.displayName="ArrowLeft";const Is=ks;function xs(){return xs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xs.apply(this,arguments)}var Os=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",xs({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),i.createElement("circle",{cx:"12",cy:"12",r:"3"}))}));Os.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},Os.displayName="Eye";const Ns=Os;function Ps(){return Ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ps.apply(this,arguments)}var As=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",Ps({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("polyline",{points:"1 4 1 10 7 10"}),i.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))}));As.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},As.displayName="RotateCcw";const Rs=As;function Ds({title:e,value:t,defaultValue:n,callback:r,note:o=""}){return i.createElement("div",{className:"SwitchItem"},i.createElement("div",null,i.createElement("h4",{className:"Title"},e),i.createElement("div",{className:"Note"},o)),i.createElement("input",{className:"Switch",type:"checkbox",checked:t,defaultChecked:n,onChange:()=>{},onInput:e=>null==r?void 0:r(!e.currentTarget.checked)}))}function Ls(){return Ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(this,arguments)}function Ms(){const[e,t]=i.useState(null),[n,r]=i.useState(1),[s,a]=i.useState(1),[l,c]=i.useState("");let u=!1;async function d(e){u||(u=!0,r(0),await new Promise((e=>setTimeout(e,150))),t(e),r(1))}const h={root:e=>{if(!l)return!0;if(e.toLowerCase().includes(l))return!0;for(const t in Se.defaultSettingsSchematic[e]){if(h.sub(t))return!0;if(h.items(e,t))return!0}return!1},sub:e=>!l||!!e.toLowerCase().includes(l)||void 0,items:(e,t)=>{if(!l)return!0;for(const n in Se.defaultSettingsSchematic[e][t])if(n.toLowerCase().includes(l))return!0;return!1}};return i.createElement("div",{className:"SettingsModal FullScreenModal FlexCenter",style:{"--peak":s}},i.createElement("style",null,0===s&&"\n\n\t\t\t\t.ModalStack.Active {\n\t\t\t\t\tbackground-color: transparent !important;\n\t\t\t\t}\n\n\t\t\t\t"),i.createElement("div",{className:"Background"}),i.createElement("div",{className:"Inner"},i.createElement("input",{type:"text",className:"SearchField",placeholder:"Search...",onInput:e=>c(e.target.value.toLowerCase())}),i.createElement("div",{style:{opacity:n},className:"Contents"},!e&&i.createElement("div",{className:"Categories FlexCenter"},Object.keys(Se.defaultSettingsSchematic).filter(h.root).map((e=>!e.startsWith("__")&&i.createElement("div",{className:"CategoryBubble",key:e,onClick:()=>d(e)},i.createElement("div",{className:"FlexCenter"},Se.defaultSettingsSchematic[e].__icon,i.createElement("h4",{className:"Title"},(0,o.JR)(e))),i.createElement("div",{className:"Sections"},Object.keys(Se.defaultSettingsSchematic[e]).map((e=>(0,o.JR)(e).toLowerCase())).filter((e=>!e.startsWith("__"))).join(", ")))))),e&&i.createElement(i.Fragment,null,i.createElement("div",{className:"Categories FlexCenter BackButton"},i.createElement("div",{className:"CategoryBubble",onClick:()=>d(null)},i.createElement("div",{className:"FlexCenter"},i.createElement(Is,null),i.createElement("h4",{className:"Title"},"Back To Menus")))),i.createElement("div",{className:"Sections"},Object.keys(Se.defaultSettingsSchematic[e]).map((t=>!!Object.keys(Se.defaultSettingsSchematic[e][t]).length&&!t.startsWith("__")&&i.createElement(Fs,{key:t,cat:e,sub:t}))))))),i.createElement("div",{className:"Buttons"},i.createElement(Ns,{className:"Button",onClick:()=>a(0===s?1:0)}),i.createElement(g.Z,{className:"Button",onClick:()=>m.nK.pop()})))}function Fs({cat:e,sub:t}){return t.startsWith("__")?null:i.createElement("div",{className:"Section"},i.createElement("div",{className:"FlexCenter"},i.createElement("h3",{className:"Title"},(0,o.JR)(t)),!Se.defaultSettingsSchematic[e][t].__hideReset&&i.createElement("div",{className:"Button ResetAllButton",onClick:async()=>{if(await(0,m.Up)({title:`Reset All ${(0,o.JR)(t)} Settings?`,description:"This cannot be undone."}))for(const n in Se.defaultSettingsSchematic[e][t])Se.settingsDispatcher.dispatch({type:o.MF.UPDATE_SETTING,path:[e,t,n],value:Se.defaultSettingsSchematic[e][t][n].value})}},"Reset All")),i.createElement("div",{className:"Fields"},Object.entries(Se.defaultSettingsSchematic[e][t]).map((n=>!n[0].startsWith("__")&&i.createElement(Us,{key:n[0],path:[e,t,n[0]],setting:n[1]})))))}function Us({path:e,setting:t}){const n=Se.default.useState((()=>Se.default.getSettingValue(e))),r=H().get(Se.defaultSettingsSchematic,[...e,"value"],n);function s(t){Se.settingsDispatcher.dispatch({type:o.MF.UPDATE_SETTING,value:t,path:e})}const a=i.useMemo((()=>{switch(t.type){default:return null;case Se.SettingFieldTypes.STRING:var e;return i.createElement("input",Ls({className:"InputField StringField",value:n,onInput:e=>s(e.target.value)},null!==(e=t.props)&&void 0!==e?e:{}));case Se.SettingFieldTypes.COLOUR:var r;return i.createElement("div",Ls({className:"ColorFieldContainer Flex"},null!==(r=t.props)&&void 0!==r?r:{}),i.createElement("input",{type:"color",className:"ColorPicker",value:n,onChange:e=>s(e.target.value)}),i.createElement("input",{className:"InputField StringField ColorField",value:n,onChange:e=>s(e.target.value)}));case Se.SettingFieldTypes.BUTTON:{const{text:e,color:n,action:r,props:o={}}=t;return i.createElement("div",Ls({className:"Button",onClick:r,style:{color:n}},o),e)}case Se.SettingFieldTypes.SWITCH:{const{label:e,note:r,props:o={}}=t;return i.createElement(Ds,Ls({title:e,value:n,callback:s,note:r},o))}case Se.SettingFieldTypes.SLIDER:{const{min:e,max:r,step:o,renderValue:a=(e=>e.toFixed(1)),props:l={}}=t;return i.createElement("div",Ls({className:"SliderFieldContainer Flex"},l),i.createElement("h4",{className:"ValueRenderer"},a(n)),i.createElement("input",{type:"range",defaultValue:parseFloat(n),min:e,max:r,step:o,ref:e=>e&&(e.style=`--value: ${n/r*100}%`,e.value=n),onInput:e=>s(parseFloat(e.target.value))}))}case Se.SettingFieldTypes.CUSTOM:{const{component:e=null}=t;return i.createElement(e)}}}),[n]);return i.createElement("div",{className:"SettingField"},!~[Se.SettingFieldTypes.BUTTON].indexOf(t.type)&&i.createElement("h4",{className:"Title"},(0,o.JR)(e[e.length-1])),t.note&&!~[Se.SettingFieldTypes.SWITCH].indexOf(t.type)&&i.createElement("div",{className:"Note"},t.note),i.createElement("div",{className:"Field FlexCenter"},a,i.createElement("div",{className:"ResetButton",style:{display:n!==r?null:"none"},onClick:()=>s(r)},i.createElement(Rs,{className:"Icon"}),i.createElement(L.Z,null,"Reset to default"))))}function js(){return js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},js.apply(this,arguments)}var Bs=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",js({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"}),i.createElement("line",{x1:"23",y1:"1",x2:"1",y2:"23"}))}));Bs.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},Bs.displayName="PhoneOff";const zs=Bs;function Vs(){a.e.useForceUpdater(o.MF.UPDATE_CURRENT_CALL);const e=Pe.ZP.currentRoom;var t;a.e.useForceUpdater(o.MF.UPDATE_VOICE_MEMBERS,(({groupId:t})=>t===(null==e?void 0:e.group.id)));const n=null!==(t=(null==e?void 0:e.group)?xe.Z.getVoiceMembers(e.group.circleId,e.group.id):[])&&void 0!==t?t:[];return e?i.createElement("div",{className:"Panel PanelCall"},i.createElement("div",{className:"Members FlexCenter"},n.map((e=>i.createElement(Ws,{key:e,userId:e}))))):i.createElement("div",{className:"Panel PanelCall NoCall"},i.createElement(zs,null)," Call ended.")}function Ws({userId:e}){const t=Ie.default.useState((()=>Ie.default.getUser(e)));return t?i.createElement("div",{className:"VoiceMember"},i.createElement(t.AvatarComponent,{size:200}),i.createElement("h4",{className:"Username"},t.displayName)):null}var qs=n(9894);function Gs(){return Gs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gs.apply(this,arguments)}function Hs({children:e}){const t=i.useRef(),n=i.useMemo((()=>e=>{a.e.dispatch({type:o.MF.UPDATE_CSS_VAR,key:"groupPanelSize",value:H().clamp(e.clientX-t.current.getBoundingClientRect().x,100,500)})}),[e]),r={onMouseDown:()=>{let e;document.addEventListener("mousemove",n),document.addEventListener("mouseup",e=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",e)})}};return i.createElement("div",{className:"Panel PanelGroups",ref:t},e,i.createElement("div",Gs({className:"GroupsScaler"},r)))}function $s({circleId:e}){const t=ve.Z.getCircle(e);return Ie.default.useState((()=>Ie.default.getUser(null==t?void 0:t.ownerId))),t?i.createElement("div",{className:"CircleOverview FlexCenter"},i.createElement("div",{className:"Hero FlexCenter"},i.createElement("div",{className:"Circle FlexCenter",onClick:()=>(0,m.jY)(t.iconUrl)},t.iconUrl?i.createElement("img",{className:"Icon",src:t.iconUrl,alt:(0,o.Zg)(t.name)}):i.createElement("h3",{className:"Icon Acronym FlexCenter",style:{fontSize:"3em"}},(0,o.Zg)(t.name))),i.createElement("div",{className:"Banner"},t.iconUrl&&i.createElement("img",{className:"BannerImage Default",src:t.iconUrl,alt:"banner"})),i.createElement("h1",{className:"Title"},t.name))):null}function Zs({circle:e}){function t(){switch(Aa[2]){case"groups":return i.createElement(qs.Z,{circleId:e.id,groupId:Aa[3]});case"overview":return i.createElement($s,{circleId:e.id});case"call":return i.createElement(Vs,null)}return null}return a.e.useForceUpdater(o.MF.PAGE_UPDATE),a.e.useForceUpdater(o.MF.CIRCLE_UPDATE_GROUPS,(t=>t.circle.id===e.id),[e]),i.createElement("div",{className:"CirclePage Flex"},i.createElement(Hs,null,e.renderGroups()),i.createElement(t,null))}function Ks(){a.e.useForceUpdater(o.MF.PAGE_UPDATE),a.e.useForceUpdater(o.MF.BATCH_UPDATE_DMS);const e=_e.Z.getGroups("dms");function t(){var e,t;return""===(null!==(t=null===(e=Aa[1])||void 0===e?void 0:e.trim())&&void 0!==t?t:"")?null:i.createElement(qs.Z,{circleId:"dms",groupId:Aa[1]})}return i.createElement("div",{className:"DmsPage Flex"},i.createElement(Hs,null,(n=e)?Object.values(n).sort(((e,t)=>t.lastMessageDate-e.lastMessageDate)).map((e=>i.createElement(e.Component,{key:e.groupId}))):null),i.createElement(t,null));var n}function Ys(){switch(a.e.useForceUpdater(o.MF.PAGE_UPDATE),Aa[0]){case void 0:case"":return i.createElement("div",{className:"AppHome FlexCenter"},i.createElement("h2",null,"Welcome to the new Cirlos!"),i.createElement("p",null,"Cirlos has been completely redesigned and rewritten, from the ground up."),i.createElement("p",null,"This means better UI/UX, stability, and performance."),i.createElement("p",null,"View the road map for V2 ",i.createElement("a",{href:"https://trello.com/b/7tv4xtyK/roadmap",target:"_blank"},"here"),"!"));case"circles":{const e=ve.Z.getCircle(Aa[1]);return e?i.createElement(Zs,{circle:e}):i.createElement("div",{className:"AppHome FlexCenter"},i.createElement("h2",null,"Oops!"),i.createElement("p",null,"This circle could not be loaded properly."))}case"dms":return i.createElement(Ks,null)}return i.createElement("div",{className:"AppHome FlexCenter"},"This page does not exist.")}function Qs(){const e=Ie.default.useState(Ie.default.getLocalUser);return null===e&&(te.Z.showToast("You must be signed in to access the app","Failure"),window.location.assign(window.location.origin)),e?i.createElement("div",{className:"AppPage"},i.createElement(ea,{localUser:e})):null}const Xs=H().debounce((()=>{const e=Ie.default.getLocalUser();e.status===o.J0.ONLINE&&s.Z.update(e._ref,{status:o.J0.AWAY})}),6e5);let Js;function ea({localUser:e}){const[,t]=i.useReducer((e=>e+1),0);var n,r;const{items:l}=null!==(r=s.Z.useSnapshot(s.Z.collection("userdata",e.id,"circles"),{processor:async e=>null!==(n=ve.Z.getCircles()[e.id])&&void 0!==n?n:await ve.Z.fetchCircle(e.id)}))&&void 0!==r?r:{};return l&&Js!==l&&(a.e.dispatch({type:o.MF.CIRCLES_UPDATE,circles:l}),Js=l),(0,$.FI)((()=>{Pe.ZP.initialize(),Object.defineProperty(window,"API",{value:Ne})})),(0,$.OR)("focus",(()=>{const e=_e.Z.getSelectedGroup();null==e||e.markAsRead()}),{target:window}),(0,$.Yz)((()=>{const e=Ie.default.getLocalUser();if(document.hasFocus()&&e&&(Xs(),~[o.J0.AWAY,o.J0.OFFLINE,void 0].indexOf(e.status)&&s.Z.update(e._ref,{status:o.J0.ONLINE}),e.status!==o.J0.AWAY)){var t,n;const r=_e.Z.getSelectedGroup();if(!r)return;const i=null===(t=Te.Z.getOrderedMessages(r.circleId,r.id).slice(-1)[0])||void 0===t?void 0:t.id;if(i&&H().get(Ce.Z.getAllCachedReads(),[r.circleId,r.id])&&(null===(n=H().get(Ce.Z.getReads(r.circleId,r.id),[e.id]))||void 0===n?void 0:n.messageId)!==i){const t=s.Z.doc(...r.isDm?["directmessages",me.Pe.getId(r.id)]:["circles",r.circleId,"groups",r.id],"lastread",e.id);s.Z.set(t,{messageId:i,timestamp:(0,ne.Bt)()})}}}),2e3),void 0===l?i.createElement(ta,null):i.createElement("div",{className:"Core AbsoluteCover"},i.createElement(ye.Z.Renderer,null),i.createElement(Se.SettingsCssRenderer,null),i.createElement($e,null),i.createElement(ta,{hidden:!0}),i.createElement("div",{className:"Panel PanelMain Flex"},i.createElement("div",{className:"Panel PanelCircles",ref:e=>e&&J.tryQueue({id:"introCircle",target:e,direction:"right",children:i.createElement("div",null,"This is the circles list.",i.createElement("br",null),i.createElement("br",null),"You were automatically added",i.createElement("br",null),"to the official circle.",i.createElement("br",null),i.createElement("br",null),"You may leave at any time",i.createElement("br",null),"via the context menu.")})},i.createElement(Cs,{id:"circles",className:"circles",callback:e=>{e(l);for(let e=0;e<l.length;e++)l[e].position=e;t()}},l.sort(((e,t)=>e.position-t.position)).map(((e,t)=>e instanceof fe.ZP&&i.createElement(Es,{key:e.id,id:e.id,index:t},i.createElement(e.BubbleComponent,null)))),i.createElement(fe.of,{circle:{id:"__newCircleBtn",name:"New Circle"},icon:i.createElement(oe,null),onClick:()=>(0,m.kg)({id:"create-circle-modal",title:"New Circle!",description:"Please specify a name for your circle below."}).then((async e=>{if(e){if((e=e.trim()).length<1||e.length>32)return te.Z.showToast("Circle name must be between 1 and 32 characters!","Failure",7);await(0,ne.ET)(s.Z.collection("circles"),{creationDate:(0,ne.Bt)(),ownerId:Ie.default.getLocalUser().id,name:e})}}))})),i.createElement(na,null)),i.createElement("div",{className:"Panel PanelCore"},i.createElement(Ys,null))),i.createElement("div",{className:"Panel PanelFooter FlexCenter"},i.createElement("div",{className:"Circle",onClick:()=>Na((window.location.hash===me.Pe.lastSelected?null:me.Pe.lastSelected)||"app/dms/")},i.createElement(le,{className:"Icon"}),i.createElement(L.Z,null,"DMs")),i.createElement(c.Z.Wrapper,{menu:i.createElement(e.ContextMenu,null),wrapperClassName:"LocalUserHead FlexCenter"},i.createElement("div",{className:"Circle"},i.createElement(e.AvatarComponent,{className:"Icon"})),i.createElement("div",{className:"Details"},i.createElement("h4",{className:"Username"},e.displayName),i.createElement(e.StatusText,null))),i.createElement("div",{className:"Divider"}),i.createElement(qe,null)))}function ta({hidden:e=!1}){return i.createElement("div",{className:(0,o.Ch)("LoadingOverlay","FlexCenter",[e,"Hidden"])},i.createElement(Ts.Z,{style:{fontSize:"2em"}}))}function na(){const e=Ie.default.useState((()=>Ie.default.getLocalUser()));a.e.useForceUpdater(o.MF.UPDATE_MESSAGE_COUNT,(({circleId:t})=>~t.split("_").indexOf(null==e?void 0:e.id))),a.e.useForceUpdater(o.MF.UPDATE_READ_COUNT,(({circleId:t})=>~t.split("_").indexOf(null==e?void 0:e.id))),a.e.useForceUpdater(o.MF.BATCH_UPDATE_DMS);const t=_e.Z.getGroups("dms"),n=Object.values(null!=t?t:{}).map((e=>[e.id,Ee.Z.getUnreadMessageCount(e.groupId)]),{});return i.createElement("div",{className:"DmBubbles"},i.createElement(fe.of,{circle:{id:"__settings",name:"Settings"},icon:i.createElement(de,null),onClick:()=>m.nK.push(i.createElement(Ms,null))}),n.map((([e,t])=>t>0&&i.createElement(ra,{key:e,userId:e,unreadCount:t}))))}function ra({userId:e,unreadCount:t}){const n=Ie.default.getUser(e),r=_e.Z.getSelectedGroup();return(null==r?void 0:r.id)===e&&document.hasFocus()&&Ee.Z.markRead(r.groupId),a.e.useForceUpdater(o.MF.USER_UPDATE,(({user:t})=>t.id===e)),i.useEffect((()=>{t<=0||(null==r?void 0:r.id)===e&&document.hasFocus()||(0,o.GN)(he,.5)}),[t]),n?i.createElement("div",{className:"Circle DmBubble",key:e,onClick:()=>Na(`#app/dms/${e}`)},i.createElement(n.AvatarComponent,{size:40}),i.createElement("div",{className:"UnreadBlips Flex"},i.createElement("div",{className:"Blip Mention"},t>999?`${Math.round(t/1e3)}k`:t)),i.createElement(L.Z,{direction:"right"},n.displayName)):null}var ia,oa;function sa(){return sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sa.apply(this,arguments)}function aa(e){return i.createElement("svg",sa({xmlns:"http://www.w3.org/2000/svg",style:{isolation:"isolate"},viewBox:"0 0 3840 1080",width:5120,height:1440},e),ia||(ia=i.createElement("defs",null,i.createElement("clipPath",{id:"WaveVector_svg__a"},i.createElement("path",{d:"M0 0h3840v1080H0z"})))),oa||(oa=i.createElement("g",{clipPath:"url(#WaveVector_svg__a)",fill:"currentColor"},i.createElement("path",{d:"M0 540q440.909 319.091 960 0t960 0v540H0V540zM1920 540q440.909 319.091 960 0t960 0v540H1920V540z"}))))}function la(){return la=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},la.apply(this,arguments)}n.p;var ca=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",la({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),i.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))}));ca.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},ca.displayName="CheckCircle";const ua=ca;var da=n(2655);function ha(){return ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ha.apply(this,arguments)}var fa=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",ha({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),i.createElement("polyline",{points:"10 17 15 12 10 7"}),i.createElement("line",{x1:"15",y1:"12",x2:"3",y2:"12"}))}));fa.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},fa.displayName="LogIn";const pa=fa;function ma(){return ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ma.apply(this,arguments)}var ga=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",ma({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.createElement("polyline",{points:"7 10 12 15 17 10"}),i.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))}));ga.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},ga.displayName="Download";const va=ga;var ya=n(6690);function ba(){return ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ba.apply(this,arguments)}var wa=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",ba({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),i.createElement("polyline",{points:"17 11 19 13 23 9"}))}));wa.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},wa.displayName="UserCheck";const _a=wa;function Ea(){return Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ea.apply(this,arguments)}var Ca=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",Ea({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),i.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),i.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))}));Ca.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},Ca.displayName="UserPlus";const Ta=Ca;function Sa(){return Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sa.apply(this,arguments)}var ka=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return i.createElement("svg",Sa({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),i.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}))}));ka.propTypes={color:b().string,size:b().oneOfType([b().string,b().number])},ka.displayName="Key";const Ia=ka;function xa({signUp:e=!1}){const[t,n]=i.useState(e),[r,o]=i.useState(!1),a=i.useRef(),l={handleSignUp:()=>{if(r)return;const[e,t,n,i]=a.current.getElementsByTagName("input");return e.value?i.value!==n.value?te.Z.showToast("Passwords must match","Failure"):t.value.trim()?n.value.trim()?(o(!0),void(0,ya.Xb)(s.Z.auth,t.value,n.value).then((async({user:t})=>{const n=e.value;await(0,ya.ck)(t,{displayName:n}),await s.Z.set(s.Z.doc("userdata",t.uid),{displayName:n,normalizedName:n.toLowerCase(),creationDate:(0,ne.Bt)()}),await fe.ZP.join("Kz9IW6QOJjdKC5oaT3lK","cirlos-official",t.uid),m.nK.pop(),te.Z.showToast("Welcome to Cirlos!","Success"),setTimeout((()=>Na("app")),0)})).catch((e=>{te.Z.showToast("An unknown error has occurred! Check console for details","Failure"),console.error(e)}))):te.Z.showToast("You must input a password","Failure"):te.Z.showToast("You must input an email address","Failure"):te.Z.showToast("You must specify a username","Failure")},handleLogIn:()=>{if(r)return;const[e,t]=a.current.getElementsByTagName("input");o(!0),(0,ya.e5)(s.Z.auth,e.value,t.value).then((()=>(m.nK.pop(),setTimeout((()=>Na("app")),0)))).catch((e=>{let t="Unknown";switch(e.code){case"auth/invalid-email":t="Invalid email address";break;case"auth/user-not-found":t="No user with this email found";break;case"auth/wrong-password":t="Incorrect password"}te.Z.showToast(`Failed to sign in! Reason - ${t}`,"Failure",10),console.error(e)}))}};return(0,$.OR)("keydown",(e=>"Enter"===e.key&&(t?l.handleSignUp():l.handleLogIn()))),i.createElement("div",{className:"AuthModal",ref:a},i.createElement(g.Z,{className:"CloseButton",onClick:m.nK.pop.bind(m.nK)}),t?i.createElement(i.Fragment,null,i.createElement("div",{className:"MainSection Flex"},i.createElement("div",{className:"HelpSection"},i.createElement("div",{className:"Title"},"NOTE"),i.createElement("div",null,"By creating an account,",i.createElement("br",null),"you agree to the following:",i.createElement("br",null),i.createElement("a",{href:"/terms"},"Terms of Service"),i.createElement("br",null),i.createElement("a",{href:"/guidelines"},"Community Guidelines"),i.createElement("br",null),i.createElement("a",{href:"/privacy"},"Privacy Policy"),i.createElement("br",null))),i.createElement("div",{className:"Fields"},i.createElement("h3",null,"Sign Up"),i.createElement("div",{className:"FieldContainer"},i.createElement("input",{type:"username",placeholder:"Username",maxLength:32})),i.createElement("div",{className:"FieldContainer"},i.createElement("input",{type:"email",placeholder:"Email Address"})),i.createElement("div",{className:"FieldContainer"},i.createElement("input",{type:"password",placeholder:"Password"})),i.createElement("div",{className:"FieldContainer"},i.createElement("input",{type:"password",placeholder:"Confirm Password"})))),i.createElement("div",{className:"FooterSection Flex"},i.createElement("div",{className:"Button",onClick:()=>n(!1)},i.createElement(pa,null),i.createElement("div",null,"Already have an account?")),i.createElement("div",{className:"Button",style:{marginLeft:"auto"},onClick:l.handleSignUp},i.createElement(_a,null),i.createElement("div",null,"Sign Up")))):i.createElement(i.Fragment,null,i.createElement("div",{className:"MainSection Flex"},i.createElement("div",{className:"HelpSection"},i.createElement("div",{className:"Title"},"Log In"),i.createElement("div",null,"Welcome back to Cirlos.")),i.createElement("div",{className:"Fields"},i.createElement("h3",null,"Login"),i.createElement("div",{className:"FieldContainer"},i.createElement("input",{type:"email",placeholder:"Email Address"})),i.createElement("div",{className:"FieldContainer"},i.createElement("input",{type:"password",placeholder:"Password"})))),i.createElement("div",{className:"FooterSection Flex"},i.createElement("div",{className:"Button",onClick:()=>n(!0)},i.createElement(Ta,null),i.createElement("div",null,"Don't have an account?")),i.createElement("div",{className:"Button",style:{marginLeft:"auto"}},i.createElement(Ia,null),i.createElement("div",null,"Reset Password")),i.createElement("div",{className:"Button",onClick:l.handleLogIn},i.createElement(pa,null),i.createElement("div",null,"Log In")))))}function Oa(){const e=Ie.default.useState(Ie.default.getLocalUser);return i.createElement("div",{className:"HomePage"},i.createElement("div",{className:"HomeBackgroundContainer"},i.createElement("div",{className:"HomeBackground"},i.createElement(aa,null),i.createElement(aa,null))),i.createElement("div",{className:"Hero"},i.createElement("h1",null,"Cirlos"),i.createElement("h3",null,"A simpler way to connect with friends and family,",i.createElement("br",null),"with powerful ways to personalize your experience.",i.createElement("br",null)),i.createElement("div",{className:"Buttons"},null!==e?i.createElement(i.Fragment,null,i.createElement("div",{className:"Button Focus",onClick:()=>window.location.assign("#app")},i.createElement(ua,null),"Continue To App")):i.createElement(i.Fragment,null,i.createElement("div",{className:"Button Focus",onClick:()=>m.nK.push(i.createElement(xa,{signUp:!0}))},i.createElement(da.Z,null),"Sign Up"),i.createElement("div",{className:"Button",onClick:()=>m.nK.push(i.createElement(xa,null))},i.createElement(pa,null),"Sign In")),i.createElement("div",{className:"Button"},i.createElement(va,null),"Download"))))}function Na(e){e=function(e){return e.startsWith("#")?e:`#${e}`}(e),window.history.pushState({last:window.location.hash,lastTime:Date.now()},null,e),a.e.dispatch({type:o.MF.PAGE_UPDATE})}window.addEventListener("popstate",(()=>{a.e.dispatch({type:o.MF.PAGE_UPDATE})}));let Pa="",Aa=[];function Ra(){var e;a.e.useForceUpdater(o.MF.PAGE_UPDATE);const[t,...n]=(null!==(e=window.location.hash.split(/#\/?/)[1])&&void 0!==e?e:"").split("?")[0].split("/");switch(Pa=t,Aa=n,t){default:return i.createElement(Oa,null);case"app":return i.createElement(Qs,null);case"guidelines":return i.createElement(u.pC,null);case"terms":return i.createElement(p.WS,null);case"privacy":return i.createElement(f.i6,null);case"cookies":return i.createElement(d.E,null);case"licenses":return i.createElement(h.I,null)}}function Da(){return a.e.useForceUpdater(o.MF.PAGE_UPDATE),i.useEffect((()=>{(0,r.Aj)(s.Z.auth,(async e=>{const t=(await Promise.resolve().then(n.bind(n,5744))).default;let r=null;if(null==e?void 0:e.uid){r=await t.fetchUser(e.uid);const n=l.Z.createDisconnectListener(`userstatus/${r.id}`);await n.setWithPriority({o:!1},100),l.Z.set(`userstatus/${r.id}`,{o:!0})}a.e.dispatch({type:o.MF.LOCAL_USER_UPDATE,user:r})})),~navigator.userAgent.indexOf("Firefox")&&a.e.dispatch({type:o.MF.DISPLAY_BANNER_NOTIFICATION,notification:()=>i.createElement(i.Fragment,null,i.createElement("b",null,"WARNING")," - You're using an unsupported browser. You ",i.createElement("b",null,"will")," run into bugs and issues; please do not report these without testing on a modern web browser beforehand.")})}),[]),i.createElement("div",{className:"App"},window.__IS_CLIENT__&&i.createElement(q,null),i.createElement(v,null),i.createElement("div",{className:"Main"},i.createElement(Ra,null)),"#app"!==window.location.hash.split("/")[0].split("?")[0]&&i.createElement(M,null),i.createElement(m.nK,null),i.createElement(te.Z,null),i.createElement(c.Z.Handler,null),i.createElement(ee,null))}},2846:(e,t,n)=>{"use strict";n.d(t,{MF:()=>A,YT:()=>R,yf:()=>L,J0:()=>D,JR:()=>N,ie:()=>S,i$:()=>P,Zg:()=>T,dA:()=>C,Ch:()=>E,rg:()=>O,ep:()=>k,GN:()=>x});var r=n(6486),i=n.n(r),o=n(7294),s=n(5697),a=n.n(s);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"}),o.createElement("line",{x1:"16",y1:"8",x2:"2",y2:"22"}),o.createElement("line",{x1:"17.5",y1:"15",x2:"9",y2:"15"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},c.displayName="Feather";const u=c;function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var h=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",d({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),o.createElement("path",{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}),o.createElement("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),o.createElement("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),o.createElement("line",{x1:"14",y1:"1",x2:"14",y2:"4"}))}));h.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},h.displayName="Coffee";const f=h;function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}var m=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",p({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.createElement("rect",{x:"7",y:"7",width:"3",height:"9"}),o.createElement("rect",{x:"14",y:"7",width:"3",height:"5"}))}));m.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},m.displayName="Trello";const g=m;function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var y=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",v({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.createElement("line",{x1:"22",y1:"12",x2:"18",y2:"12"}),o.createElement("line",{x1:"6",y1:"12",x2:"2",y2:"12"}),o.createElement("line",{x1:"12",y1:"6",x2:"12",y2:"2"}),o.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"18"}))}));y.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},y.displayName="Crosshair";const b=y;var w=n(6536),_=n(7294);function E(){let e="";for(let t=0;t<arguments.length;t++)typeof arguments[t]===(Array.isArray(arguments[t])&&"boolean"==typeof arguments[t][0]&&"object")?!0===arguments[t][0]?e+=arguments[t][1]:arguments[t][2]&&(e+=arguments[t][2]):e+=arguments[t],e+=" ";return e.trim()}function C(){return Math.random().toString(36).substr(7)}function T(e){return e.split(/\s/).slice(0,2).map((e=>e[0])).join("").toUpperCase()}function S(e,t={}){const{prependOn:n=!0}=t,r=Math.round(Math.round(Date.now()-e)/864e5);let i;return i=r<0?"in the future apparently":0===r?"today":1===r?"yesterday":r<7?(n?"on ":"")+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]:(n?"on ":"")+e.toLocaleDateString(),i}function k(e={}){return new Promise((t=>{const{type:n="*"}=e,r=i().assign(document.createElement("input"),{type:"file",accept:n,style:"display:none",onchange:()=>(t(r.files),document.body.removeChild(r))});document.body.appendChild(r),r.click()}))}const I={};function x(e,t=1){return new Promise((async n=>{var r;const i=null!==(r=I[e])&&void 0!==r?r:await(s=e,new Promise((e=>fetch(s).then((e=>e.blob())).then((t=>{const n=new FileReader;n.onload=()=>e(n.result),n.readAsDataURL(t)}))))).then((t=>I[e]=t)),o=Object.assign(new Audio(i),{volume:t});var s;o.addEventListener("ended",n),o.play().catch((t=>console.error("Error playing sound!",e,t)))}))}function O(e){return 1024*function(e){return 1024*e}(e)}function N(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}function P(e){var t,n;if(!e)return"";const r=null!==(n=null==e||null===(t=e.toDate)||void 0===t?void 0:t.call(e))&&void 0!==n?n:e;return`${S(r)} at ${r.toLocaleTimeString("en-US")}`}const A={PAGE_UPDATE:"PAGE_UPDATE",LOCAL_USER_UPDATE:"LOCAL_USER_UPDATE",USER_UPDATE:"USER_UPDATE",CIRCLE_UPDATE:"CIRCLE_UPDATE",CIRCLES_UPDATE:"CIRCLES_UPDATE",CIRCLE_UPDATE_GROUPS:"CIRCLE_UPDATE_GROUPS",BATCH_UPDATE_DMS:"BATCH_UPDATE_DMS",GROUP_UPDATE:"GROUP_UPDATE",UPDATE_VOICE_MEMBERS:"UPDATE_VOICE_MEMBERS",UPDATE_CURRENT_CALL:"UPDATE_CURRENT_CALL",DM_UPDATE:"DM_UPDATE",UPDATE_MESSAGE_COUNT:"UPDATE_MESSAGE_COUNT",UPDATE_READ_COUNT:"UPDATE_READ_COUNT",UPDATE_CSS_VAR:"UPDATE_CSS_VAR",BATCH_UPDATE_CSS_VARS:"BATCH_UPDATE_CSS_VARS",UPDATE_SETTING:"UPDATE_SETTING",BATCH_UPDATE_SETTINGS:"BATCH_UPDATE_SETTINGS",MESSAGE_CREATE:"MESSAGE_CREATE",MESSAGE_UPDATE:"MESSAGE_UPDATE",MESSAGE_DELETE:"MESSAGE_DELETE",FETCH_MORE_MESSAGES:"FETCH_MORE_MESSAGES",SEND_MESSAGE:"SEND_MESSAGE",EDIT_MESSAGE:"EDIT_MESSAGE",DELETE_MESSAGE:"DELETE_MESSAGE",START_EDIT_MESSAGE:"START_EDIT_MESSAGE",CHAT_UPDATE:"CHAT_UPDATE",FETCH_EMOTE:"FETCH_EMOTE",UPDATE_EMOTE_FILTERS:"UPDATE_EMOTE_FILTERS",UPDATE_EMOTE_PACK:"UPDATE_EMOTE_PACK",UPDATE_READS:"UPDATE_READS",UPDATE_TYPING_INDICATORS:"UPDATING_TYPING_INDICATORS",DISPLAY_BANNER_NOTIFICATION:"DISPLAY_BANNER_NOTIFICATION",RTA_ATTACH_FILE:"RTA_ATTACH_FILE",RTA_APPEND_TEXT:"RTA_APPEND_TEXT",RTA_SET_TEXT:"RTA_SET_TEXT",SHOW_TUT:"SHOW_TUT",HIDE_TUT:"HIDE_TUT"},R={FOLDER:0,TEXT:1,VOICE:2,ANNOUNCEMENTS:3},D={OFFLINE:0,ONLINE:1,AWAY:2,BUSY:3,BOT:100},L={__circleOwner:{Component:()=>_.createElement(u,null),tooltip:"Circle Owner"},__dev$:{Component:()=>_.createElement(w.Z,null),tooltip:"Developer"},EarlyTester:{Component:()=>_.createElement(f,null),tooltip:"Early Tester"},ProjectManager:{Component:()=>_.createElement(g,null),tooltip:"Project Manager"},BugCatcher:{Component:()=>_.createElement(b,null),tooltip:"Bug Catcher"}}},7921:(e,t,n)=>{"use strict";n.d(t,{Z:()=>le});var r=n(4258);(0,r.KN)("firebase","9.1.1","app");var i,o=n(6690),s=n(3680),a=n(4444),l=n(909);!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(i||(i={}));const c="firebasestorage.googleapis.com";class u extends a.ZR{constructor(e,t){super(d(e),`Firebase Storage: ${t} (${d(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,u.prototype)}_codeEquals(e){return d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function d(e){return"storage/"+e}function h(){return new u("unknown","An unknown error occurred, please check the error payload for server response.")}function f(e){return new u("invalid-argument",e)}function p(){return new u("app-deleted","The Firebase app was deleted.")}function m(e,t){return new u("invalid-format","String does not match format '"+e+"': "+t)}function g(e){throw new u("internal-error","Internal error: "+e)}class v{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=i.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=i.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=i.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw g("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw g("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw g("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponseText(){if(!this.sent_)throw g("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class y{createConnection(){return new v}}class b{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=b.makeFromUrl(e,t)}catch(t){return new b(e,"")}if(""===n.path)return n;throw new u("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===c?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let t=0;t<a.length;t++){const r=a[t],i=r.regex.exec(e);if(i){const e=i[r.indices.bucket];let t=i[r.indices.path];t||(t=""),n=new b(e,t),r.postModify(n);break}}if(null==n)throw function(e){return new u("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class w{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _(e){return"string"==typeof e||e instanceof String}function E(e){return C()&&e instanceof Blob}function C(){return"undefined"!=typeof Blob}function T(e,t,n,r){if(r<t)throw f(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw f(`Invalid value for '${e}'. Expected ${n} or less.`)}function S(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function k(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}class I{constructor(e,t,n,r,i,o,s,a,l,c,u){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=l,this.pool_=u,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=this;function t(t,n){const r=e.resolve_,i=e.reject_,o=n.connection;if(n.wasSuccessCode)try{const t=e.callback_(o,o.getResponseText());void 0===t?r():r(t)}catch(e){i(e)}else if(null!==o){const t=h();t.serverResponse=o.getResponseText(),e.errorCallback_?i(e.errorCallback_(o,t)):i(t)}else n.canceled?i(e.appDelete_?p():new u("canceled","User canceled the upload/download.")):i(new u("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new x(!1,null,!0)):this.backoffId_=function(t,n,r){let o=1,s=null,a=!1,l=0;function c(){return 2===l}let u=!1;function d(...e){u||(u=!0,n.apply(null,e))}function h(t){s=setTimeout((()=>{s=null,function(t,n){if(n)return void t(!1,new x(!1,null,!0));const r=e.pool_.createConnection();function o(t){const n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(o),r.send(e.url_,e.method_,e.body_,e.headers_).then((()=>{null!==e.progressCallback_&&r.removeUploadProgressListener(o),e.pendingConnection_=null;const n=r.getErrorCode()===i.NO_ERROR,s=r.getStatus();if(!n||e.isRetryStatusCode_(s)){const e=r.getErrorCode()===i.ABORT;return void t(!1,new x(!1,null,e))}const a=-1!==e.successCodes_.indexOf(s);t(!0,new x(a,r))}))}(f,c())}),t)}function f(e,...t){if(u)return;if(e)return void d.call(null,e,...t);if(c()||a)return void d.call(null,e,...t);let n;o<64&&(o*=2),1===l?(l=2,n=0):n=1e3*(o+Math.random()),h(n)}let p=!1;function m(e){p||(p=!0,u||(null!==s?(e||(l=2),clearTimeout(s),h(0)):e||(l=1)))}return h(0),setTimeout((()=>{a=!0,m(!0)}),r),m}(0,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class x{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function O(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function N(...e){const t=O();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(C())return new Blob(e);throw new u("unsupported-environment","This browser doesn't seem to support creating Blobs")}const P="base64",A="base64url",R="data_url";class D{constructor(e,t){this.data=e,this.contentType=t||null}}function L(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function M(e,t){switch(e){case P:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw m(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case A:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw m(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(t){throw m(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class F{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw m(R,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;var r,i;null!=n&&(this.base64=(i=";base64",(r=n).length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class U{constructor(e,t){let n=0,r="";E(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(E(this.data_)){const o=(n=this.data_,r=e,i=t,n.webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===o?null:new U(o)}var n,r,i;{const n=new Uint8Array(this.data_.buffer,e,t-e);return new U(n,!0)}}static getBlob(...e){if(C()){const t=e.map((e=>e instanceof U?e.data_:e));return new U(N.apply(null,t))}{const t=e.map((e=>_(e)?function(e,t){switch(e){case"raw":return new D(L(t));case P:case A:return new D(M(e,t));case R:return new D(function(e){const t=new F(e);return t.base64?M(P,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw m(R,"Malformed data URL.")}return L(t)}(t.rest)}(t),new F(t).contentType)}throw h()}("raw",e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new U(r,!0)}}uploadData(){return this.data_}}function j(e){let t;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t;var n}function B(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function z(e,t){return t}class V{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||z}}let W=null;function q(){if(W)return W;const e=[];e.push(new V("bucket")),e.push(new V("generation")),e.push(new V("metageneration")),e.push(new V("name","fullPath",!0));const t=new V("name");t.xform=function(e,t){return function(e){return!_(e)||e.length<2?e:B(e)}(t)},e.push(t);const n=new V("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new V("timeCreated")),e.push(new V("updated")),e.push(new V("md5Hash",null,!0)),e.push(new V("cacheControl",null,!0)),e.push(new V("contentDisposition",null,!0)),e.push(new V("contentEncoding",null,!0)),e.push(new V("contentLanguage",null,!0)),e.push(new V("contentType",null,!0)),e.push(new V("metadata","customMetadata",!0)),W=e,W}function G(e,t,n){const r=j(t);return null===r?null:function(e,t,n){const r={type:"file"},i=n.length;for(let e=0;e<i;e++){const i=n[e];r[i.local]=i.xform(r,t[i.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new b(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}class H{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $(e){if(!e)throw h()}function Z(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new u("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new u("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new u("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new u("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function K(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=function(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+function(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",d="\r\n--"+a+"--",h=U.getBlob(c,r,d);if(null===h)throw new u("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.");const f={name:l.fullPath},p=S(o,e.host,e._protocol),m=e.maxUploadRetryTime,g=new H(p,"POST",function(e,t){return function(n,r){const i=G(e,r,t);return $(null!==i),i}}(e,n),m);return g.urlParams=f,g.headers=s,g.body=h.uploadData(),g.errorHandler=Z(t),g}class Y{constructor(e,t){this._service=e,this._location=t instanceof b?t:b.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Y(e,t)}get root(){const e=new b(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new b(this._location.bucket,e);return new Y(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new u("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}async function Q(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=S(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new H(r,"GET",function(e,t){return function(n,r){const i=G(e,r,t);return $(null!==i),function(e,t,n,r){const i=j(t);if(null===i)return null;if(!_(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return S("/b/"+s(i)+"/o/"+s(o),n,r)+k({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}(e,n),i);return o.errorHandler=function(e){const t=Z(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new u("object-not-found","Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}(t),o}(e.storage,e._location,q());return(await e.storage.makeRequestWithTokens(t)).getPromise().then((e=>{if(null===e)throw new u("no-download-url","The given file does not have any download URLs.");return e}))}function X(e,t){if(e instanceof ee){const n=e;if(null==n._bucket)throw new u("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new Y(n,n._bucket);return null!=t?X(r,t):r}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new b(e._location.bucket,n);return new Y(e.storage,r)}(e,t):e}function J(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:b.makeFromBucketSpec(n,e)}class ee{constructor(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=c,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?b.makeFromBucketSpec(i,this._host):J(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=b.makeFromBucketSpec(this._url,e):this._bucket=J(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Y(this,e)}_makeRequest(e,t,n){if(this._deleted)return new w(p());{const r=function(e,t,n,r,i,o){const s=k(e.urlParams),a=e.url+s,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(l,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new I(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((()=>this._requests.delete(r)),(()=>this._requests.delete(r))),r}}async makeRequestWithTokens(e){const[t,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n)}}const te="storage";function ne(e,t){return function(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ee)return new Y(e,t);throw f("To use ref(service, url), the first argument must be a Storage instance.")}return X(e,t)}(e=(0,a.m9)(e),t)}(0,r.Xd)(new l.wA(te,(function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ee(n,i,o,new y,t,r.Jn)}),"PUBLIC").setMultipleInstances(!0)),(0,r.KN)("@firebase/storage","0.8.3");var re=n(6486),ie=n.n(re),oe=n(7294);function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ae={apiKey:"AIzaSyCWL2SBBGhjsKq922QaI2W6XwDEeFZ-YQY",authDomain:"www.cirlos.net",projectId:"cirlos",storageBucket:"cirlos.appspot.com",messagingSenderId:"624454143510",appId:"1:624454143510:web:beb8a88238bc3b9ea72f37",measurementId:"G-ZYXVMY55WD",tosUrl:"https://www.cirlos.net/terms",privacyPolicyUrl:"https://www.cirlos.net/privacy"},le=new class{doc(...e){return(0,s.JU)(this.db,...e)}collection(...e){return(0,s.hJ)(this.db,...e)}formatDocument(e,t){return t?{_ref:e,_snapshot:t,id:t.id,...t.data()}:null}async getDoc(e){const t=await(0,s.QT)(e);return t.exists()?this.formatDocument(e,t):null}async getDocs(e){return(await(0,s.PL)(e)).docs.map((e=>this.formatDocument(e.ref,e)))}createSnapshotListener(e,t,n={}){let{onReady:r}=n;const i=(0,s.cf)(e,(n=>{const o=e instanceof s.my?this.formatDocument(e,n):{changes:n.docChanges().map((e=>({...e,data:this.formatDocument(e.doc.ref,e.doc)}))),items:n.docs.map((e=>this.formatDocument(e.ref,e)))};o&&(o._unbindListener=i),t(o),null==r||r(o),r=null}));return i}get useSnapshot(){return(e,t={})=>{const{processor:n}=t,[r,i]=oe.useState(void 0);return oe.useEffect((()=>this.createSnapshotListener(e,(async e=>{if("function"!=typeof n)return i(e);if(Array.isArray(e.items))for(const t in e.items)e.items[t]=await n(e.items[t]);else e=await n(e);i(e)}),t)),[]),r}}serializeObject(e){return ie().omit({...e},["_ref","_snapshot","_unbindListener","id"])}async set(e,t){return await(0,s.pl)(e,this.serializeObject(t)).catch(console.error.bind(null,`Error setting doc data at "${e.path}"!`))}async delete(e){return await(0,s.oe)(e).catch(console.error.bind(null,`Error deleting doc at "${e.path}"!`))}async update(e,t){return await(0,s.r7)(e,this.serializeObject(t)).catch(console.error.bind(null,`Error updating doc data at "${e.path}"!`))}async getStorageUrl(...e){const t=e.join("/"),n=ne(this.storage,t),r=await function(e){return Q(e=(0,a.m9)(e))}(n);return this.storageCache[t]=r}uploadStorage(e,...t){const n=t.join("/");return(r=ne(this.storage,n),i=e,function(e,t,n){e._throwIfRoot("uploadBytes");const r=K(e.storage,e._location,q(),new U(t,!0),n);return e.storage.makeRequestWithTokens(r).then((e=>e.getPromise())).then((t=>({metadata:t,ref:e})))}(r=(0,a.m9)(r),i,void 0)).then((async e=>({result:e,url:await this.getStorageUrl(...t)})));var r,i}constructor(){se(this,"app",(0,r.ZF)(ae)),se(this,"auth",(0,o.v0)()),se(this,"db",(0,s.ad)()),se(this,"storage",function(e=(0,r.Mq)(),t){return e=(0,a.m9)(e),(0,r.qX)(e,te).getImmediate({identifier:t})}()),se(this,"storageCache",{}),Object.freeze(this)}}},4702:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,e:()=>a});var r=n(6486),i=n.n(r),o=n(7294);class s{subscribe(e,t){return this._callbacks[e]||(this._callbacks[e]=new Set),this._callbacks[e].add(t),this.unsubscribe.bind(this,e,t)}unsubscribe(e,t){this._callbacks[e]&&this._callbacks[e].delete(t)}dispatch(e){const t=e.type;if(this._callbacks[t])for(const n of this._callbacks[t])n(e)}get useForceUpdater(){return(e,t=null,n=[],r={})=>{let[,s]=o.useReducer((e=>e+1),0);"number"==typeof r.debounce&&(s=i().debounce(s,r.debounce)),o.useEffect((()=>this.subscribe(e,(e=>{"function"==typeof t?t(e)&&s():s()}))),n)}}constructor(){var e,t;t={},(e="_callbacks")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}}const a=new s},9818:(e,t,n)=>{"use strict";n.d(t,{Yz:()=>i,s4:()=>o,OR:()=>s,FI:()=>a,ac:()=>l});var r=n(7294);function i(e,t,n=!1,i=[]){r.useEffect((()=>{const r=setInterval(e,t);return n&&e(),()=>clearInterval(r)}),i)}function o(){const e=r.useRef(!1);return r.useEffect((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function s(e,t,n={}){const{target:i=document,dependencies:o=[],init:s=!1}=n;r.useEffect((()=>(i.addEventListener(e,t),s&&t(),()=>i.removeEventListener(e,t))),o)}function a(e){r.useEffect((()=>{e()}),[])}function l(e,t){const n=r.useMemo((()=>window.matchMedia(`(${e}: ${t}px)`)),[e,t]),[i,o]=r.useState(n.matches);return r.useEffect((()=>{const e=e=>o(e.matches);return n.addEventListener("change",e),()=>n.removeEventListener("change",e)}),[e,t]),i}},1962:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(6486),i=n.n(r),o=n(7294),s=n(4249),a=n(5697),l=n.n(a);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}),o.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),o.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}))}));u.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},u.displayName="AlertOctagon";const d=u;var h=n(9818),f=n(9683),p=n(9606);function m({src:e,message:t=null}){const[n,r]=o.useState(!1),[i,s]=o.useState(!1),a=(0,h.s4)();return o.useEffect((()=>{const t=Object.assign(document.createElement("img"),{style:"display:none",src:e,onload:()=>(a&&r(!0),t.remove()),onerror:()=>(a&&s(!0),t.remove())});return document.body.appendChild(t),()=>t.remove()}),[e]),o.createElement("div",{className:"ImageContainer FlexCenter",onClick:()=>(0,p.jY)(e,(()=>[...document.querySelectorAll(".ImageContainer > .Image")].reverse().map((e=>e.src))))},i?o.createElement("div",{className:"FailedPlaceholder FlexCenter"},o.createElement(d,null),o.createElement("h4",null,"Image 404")):n?o.createElement("img",{className:"Image",src:e}):o.createElement("div",{className:"LoadingPlaceholder FlexCenter"},o.createElement(f.Z,null)))}var g=n(2846),v=n(3513),y=n(5295),b=n(5744),w=n(1832);function _({messageId:e}){var t,n,r;const{circleId:i,id:s}=v.Z.useState((()=>null!==(r=v.Z.getSelectedGroup())&&void 0!==r?r:{})),a=y.Z.useState((()=>y.Z.getMessage(i,s,e))),l=b.default.useState((()=>{var e;return a&&(null===(e=b.default.getUser(a.senderId))||void 0===e?void 0:e.displayName)})),[c,u]=o.useState(!1);return o.createElement("div",{className:(0,g.Ch)("ReplyRenderer",[c,"Expanded"]),onClick:e=>e.target.matches(".ReplyRenderer, .ReplyRenderer > *, .ReplyRenderer > .Flex > *")&&u(!c),style:{borderColor:null===(t=b.default.getUser(null==a?void 0:a.senderId))||void 0===t?void 0:t.getColor()}},a?o.createElement(o.Fragment,null,o.createElement("div",{className:"Flex"},o.createElement("h4",{className:"Username",style:{color:null===(n=b.default.getUser(a.senderId))||void 0===n?void 0:n.getColor()}},l),o.createElement("div",{onClick:()=>{const e=document.querySelector(`[data-message-id="${a.id}"]`);if(e){const t=e.getBoundingClientRect();window.scrollTo({left:0,top:t.top,behavior:"smooth"}),e.classList.add("Highlight")}else w.Z.showToast("Message could not be found!","Failure")}},"said ",a.getCreationDate(),o.createElement("div",null,"jump to message"))),o.createElement("div",{className:"MessageContent"},k.parse(a.content,a,{minimal:!c}))):o.createElement("div",{className:"MessageContent Failed"},"Message failed to load."))}var E=n(3158);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let T=10;var S;const k=new class{parse(e,t,n={}){return this.render(this.parser(e,{inline:!0,message:t,...n}))}constructor(){C(this,"rules",i().extend({},s.defaultRules,{link:{order:s.defaultRules.link.order,match:s.defaultRules.link.match,parse:(e,t,n)=>({state:n,content:t(e[1],n),target:(0,s.unescapeUrl)(e[2])}),react:(e,t,n)=>{var r;return(null==e||null===(r=e.state)||void 0===r?void 0:r.minimal)?o.createElement("span",{className:"MinimalTag",key:n.key},"[link]"):e.content[0].content===e.target?o.createElement("a",{href:e.target,key:n.key,target:"_blank"},decodeURIComponent(e.target)):(e.ref=null!==(S=e.ref)&&void 0!==S?S:o.createRef(),o.createElement("div",{className:"CustomLinkContainer",ref:e.ref,key:n.key},o.createElement("a",{href:e.target,target:"_blank"},e.content[0].content)))}},image:{order:T++,match:e=>/^https:\/\/(\S?)+\.(jpe?g|png|gif|bmp)\S*(\s|$)/i.exec(e),parse:(e,t,n)=>({src:e[0].trim(),message:null==n?void 0:n.message,state:n}),react:(e,t,n)=>e.state.minimal?o.createElement("span",{className:"MinimalTag",key:n.key},"[image]"):o.createElement(m,{key:n.key,src:e.src,message:e.message})},video:{order:T++,match:e=>/^https:\/\/(\S?)+\.(mp4|webm)(\S?)+/.exec(e),parse:(e,t,n)=>({src:e[0],state:n}),react:(e,t,n)=>e.state.minimal?o.createElement("span",{className:"MinimalTag",key:n.key},"[video]"):o.createElement("video",{className:"VideoRenderer",key:n.key,src:e.src,controls:!0})},userMention:{order:T++,match:e=>/^@(\S{28})/.exec(e),parse:(e,t,n)=>({userId:e[1],state:n}),react:(e,t,n)=>o.createElement(b.default.getUser(e.userId).Mention,{key:n.key})},emote:{order:T++,match:e=>/^:([^\/\s\\]+)\.([^\/\s\\]+):/.exec(e),parse:(e,t,n)=>({packId:e[1],emoteId:e[2],src:e.src,state:n}),react:(e,t,n)=>{const r=E.Z.getEmote(e.packId,e.emoteId);return r?o.createElement(r.Component,{key:n.key}):null}},audio:{order:T++,match:e=>/^https:\/\/(\S?)+\.(ogg|mp3|wav)(\S?)+/.exec(e),parse:(e,t,n)=>({src:e[0],state:n}),react:(e,t,n)=>o.createElement("audio",{key:n.key,src:e.src,controls:!0})},youtube:{order:T++,match:e=>/^https:\/\/((?:www|music)\.youtube\.com\/watch\?v=|youtu\.be\/)(\S+)/i.exec(e),parse:(e,t,n)=>({id:e[2],state:n}),react:(e,t,n)=>o.createElement("iframe",{key:e.id,className:"YouTubeEmbed",src:`https://www.youtube.com/embed/${e.id}`,allowFullScreen:!0})},reply:{order:T++,match:e=>/^re:(\S{20}?)/.exec(e),parse:(e,t,n)=>({messageId:e[1],state:n}),react:(e,t,n)=>e.state.minimal?o.createElement("span",{className:"MinimalTag",key:n.key},"[reply]"):o.createElement(_,{key:n.key,messageId:e.messageId})},quote:{order:T++,match:e=>/^#"(.+)"/gm.exec(e),parse:(e,t,n)=>({content:t(e[1]),state:n}),react:(e,t,n)=>e.state.minimal?t(e.content):o.createElement("div",{className:"ReplyRenderer Expanded",key:n.key},o.createElement("div",{className:"MessageContent"},t(e.content)))},heading:{order:T++,match:e=>/^#h([1-4]) (.+)(?:$|\n)/.exec(e),parse:(e,t,n)=>({sizeIndex:e[1],content:t(e[2]),state:n}),react:(e,t,n)=>e.state.minimal?o.createElement("b",{key:n.key},t(e.content)):o.createElement("b",{style:{fontSize:`${[2.5,2,1.6,1.2][e.sizeIndex-1]}em`},key:n.key},t(e.content))},color:{order:T++,match:e=>/^(#[a-f0-9]{6})# (.+)(?:$|\n)/i.exec(e),parse:(e,t,n)=>({color:e[1],content:t(e[2],n)}),react:(e,t,n)=>o.createElement("span",{style:{color:e.color},key:n.key},t(e.content))}})),C(this,"parser",(0,s.parserFor)(this.rules)),C(this,"render",(0,s.reactFor)((0,s.ruleOutput)(this.rules,"react")))}}},9480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>vi});var r=n(4258),i=n(909),o=n(4444),s=n(6934);let a="";class l{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class c{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const u=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(e){}return new c},d=u("localStorage"),h=u("sessionStorage"),f=new s.Yd("@firebase/database"),p=function(){let e=1;return function(){return e++}}(),m=function(e){const t=(0,o.dS)(e),n=new o.gQ;n.update(t);const r=n.digest();return o.US.encodeByteArray(r)},g=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=g.apply(null,r):t+="object"==typeof r?(0,o.Pz)(r):r,t+=" "}return t};let v=null,y=!0;const b=function(...e){if(!0===y&&(y=!1,null===v&&!0===h.get("logging_enabled")&&(t=!0,(0,o.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(f.logLevel=s.in.VERBOSE,v=f.log.bind(f),n&&h.set("logging_enabled",!0)):"function"==typeof t?v=t:(v=null,h.remove("logging_enabled")))),v){const t=g.apply(null,e);v(t)}var t,n},w=function(e){return function(...t){b(e,...t)}},_=function(...e){const t="FIREBASE INTERNAL ERROR: "+g(...e);f.error(t)},E=function(...e){const t=`FIREBASE FATAL ERROR: ${g(...e)}`;throw f.error(t),new Error(t)},C=function(...e){const t="FIREBASE WARNING: "+g(...e);f.warn(t)},T=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},S="[MIN_NAME]",k="[MAX_NAME]",I=function(e,t){if(e===t)return 0;if(e===S||t===k)return-1;if(t===S||e===k)return 1;{const n=L(e),r=L(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},x=function(e,t){return e===t?0:e<t?-1:1},O=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},N=function(e){if("object"!=typeof e||null===e)return(0,o.Pz)(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,o.Pz)(t[r]),n+=":",n+=N(e[t[r]]);return n+="}",n},P=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function A(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const R=function(e){(0,o.hu)(!T(e),"Invalid JSON number");let t,n,r,i,s;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()},D=new RegExp("^-?(0*)\\d{1,10}$"),L=function(e){if(D.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},M=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw C("Exception was thrown by user callback.",t),e}),Math.floor(0))}},F=function(e,t){const n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n};class U{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){C(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class j{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(b("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',C(e)}}class B{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}B.OWNER="owner";const z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,V="websocket",W="long_polling";class q{constructor(e,t,n,r,i=!1,o="",s=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function G(e,t,n){let r;if((0,o.hu)("string"==typeof t,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),t===V)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==W)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return A(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class H{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,o.p$)(this.counters_)}}const $={},Z={};function K(e){const t=e.toString();return $[t]||($[t]=new H),$[t]}class Y{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&M((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Q{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(e),this.stats_=K(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),G(t,W,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Y(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new X(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Q.forceAllow_=!0}static forceDisallow(){Q.forceDisallow_=!0}static isAvailable(){return!((0,o.Yr)()||!Q.forceAllow_&&(Q.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,o.h$)(t),r=P(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,o.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class X{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=X.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){b("frame writing exception"),e.stack&&b(e.stack),b(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||b("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{b("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let J=null;"undefined"!=typeof MozWebSocket?J=MozWebSocket:"undefined"!=typeof WebSocket&&(J=WebSocket);class ee{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=K(t),this.connURL=ee.connectionURL_(t,o,s,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r){const i={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),G(e,V,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){const e=this.nodeAdmin?"AdminNode":"Node",t={headers:{"User-Agent":`Firebase/5/${a}/${process.platform}/${e}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(t.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n=process.env,r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(t.proxy={origin:r}),this.mySock=new J(this.connURL,[],t)}else{const e={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new J(this.connURL,[],e)}}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){ee.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==J&&!ee.forceDisallow_}static previouslyFailed(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")}markConnectionHealthy(){d.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,o.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=P(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ee.responsesRequiredToBeHealthy=2,ee.healthyTimeout=3e4;class te{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Q,ee]}initTransports_(e){const t=ee&&ee.isAvailable();let n=t&&!ee.previouslyFailed();if(e.webSocketOnly&&(t||C("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ee];else{const e=this.transports_=[];for(const t of te.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class ne{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new te(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=F((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=O("t",e),n=O("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=O("t",e),n=O("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=O("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?_("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&C("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),F((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):F((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class re{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class ie{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){(0,o.hu)(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class oe extends ie{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new oe}getInitialEvent(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class se{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ae(){return new se("")}function le(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ce(e){return e.pieces_.length-e.pieceNum_}function ue(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new se(e.pieces_,t)}function de(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function he(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function fe(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new se(t,0)}function pe(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof se)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new se(n,0)}function me(e){return e.pieceNum_>=e.pieces_.length}function ge(e,t){const n=le(e),r=le(t);if(null===n)return t;if(n===r)return ge(ue(e),ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ve(e,t){const n=he(e,0),r=he(t,0);for(let e=0;e<n.length&&e<r.length;e++){const t=I(n[e],r[e]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function ye(e,t){if(ce(e)!==ce(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function be(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ce(e)>ce(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class we{constructor(e,t){this.errorPrefix_=t,this.parts_=he(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=(0,o.ug)(this.parts_[e]);_e(this)}}function _e(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ee(e))}function Ee(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Ce extends ie{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Ce}getInitialEvent(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Te=1e3;class Se extends re{constructor(e,t,n,r,i,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Se.nextPersistentConnectionId_++,this.log_=w("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Te,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ce.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&oe.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new o.BH,n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:e=>{const r=e.d;"ok"===e.s?(this.onDataUpdate_(n.p,r,!1,null),t.resolve(r)):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_||setTimeout((()=>{const e=this.outstandingGets_[i];void 0!==e&&r===e&&(delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+i+" timed out on connection"),t.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;Se.warnOnListenWarnings_(o,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&(0,o.r3)(e,"w")){const n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();C(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,o.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):_("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Te,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Te,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Te),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Se.nextConnectionId_++,i=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,n())},c=function(e){(0,o.hu)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?b("getToken() completed but was canceled"):(b("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=l&&l.token,a=new ne(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{C(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(e){this.log_("Failed to get token: "+e),s||(this.repoInfo_.nodeAdmin&&C(e),l())}}}interrupt(e){b("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){b("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Te,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>N(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new se(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){b("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){b("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+a.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oe.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e}}Se.nextPersistentConnectionId_=0,Se.nextConnectionId_=0;class ke{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ke(e,t)}}class Ie{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new ke(S,e),r=new ke(S,t);return 0!==this.compare(n,r)}minPost(){return ke.MIN}}let xe;class Oe extends Ie{static get __EMPTY_NODE(){return xe}static set __EMPTY_NODE(e){xe=e}compare(e,t){return I(e.name,t.name)}isDefinedOn(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ke.MIN}maxPost(){return new ke(k,xe)}makePost(e,t){return(0,o.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new ke(e,xe)}toString(){return".key"}}const Ne=new Oe;class Pe{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ae{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ae.RED,this.left=null!=r?r:Re.EMPTY_NODE,this.right=null!=i?i:Re.EMPTY_NODE}copy(e,t,n,r,i){return new Ae(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Re.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Re.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ae.RED=!0,Ae.BLACK=!1;class Re{constructor(e,t=Re.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Re(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ae.BLACK,null,null))}remove(e){return new Re(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ae.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pe(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Pe(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Pe(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Pe(this.root_,null,this.comparator_,!0,e)}}function De(e,t){return I(e.name,t.name)}function Le(e,t){return I(e,t)}let Me;Re.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Ae(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Fe=function(e){return"number"==typeof e?"number:"+R(e):"string:"+e},Ue=function(e){if(e.isLeafNode()){const t=e.val();(0,o.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===Me||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===Me||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let je,Be,ze;class Ve{constructor(e,t=Ve.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ue(this.priorityNode_)}static set __childrenNodeConstructor(e){je=e}static get __childrenNodeConstructor(){return je}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ve(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:".priority"===le(e)?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Ve.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=le(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,o.hu)(".priority"!==n||1===ce(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Ve.__childrenNodeConstructor.EMPTY_NODE.updateChild(ue(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Fe(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?R(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ve.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ve.__childrenNodeConstructor?-1:((0,o.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Ve.VALUE_TYPE_ORDER.indexOf(t),i=Ve.VALUE_TYPE_ORDER.indexOf(n);return(0,o.hu)(r>=0,"Unknown leaf type: "+t),(0,o.hu)(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Ve.VALUE_TYPE_ORDER=["object","boolean","number","string"];const We=new class extends Ie{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?I(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ke.MIN}maxPost(){return new ke(k,new Ve("[PRIORITY-POST]",ze))}makePost(e,t){const n=Be(e);return new ke(t,new Ve("[PRIORITY-POST]",n))}toString(){return".priority"}},qe=Math.log(2);class Ge{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/qe,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const He=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Ae(a,s.node,Ae.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new Ae(a,s.node,Ae.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new Ae(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Ae.BLACK):(a(r,Ae.BLACK),a(r,Ae.RED))}return o}(new Ge(e.length));return new Re(r||t,o)};let $e;const Ze={};class Ke{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,o.hu)(Ze&&We,"ChildrenNode.ts has not been loaded"),$e=$e||new Ke({".priority":Ze},{".priority":We}),$e}get(e){const t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Re?t:null}hasIndex(e){return(0,o.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,o.hu)(e!==Ne,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(ke.Wrap);let s,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();s=r?He(n,e.getCompare()):Ze;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=s,new Ke(u,c)}addToIndexes(e,t){const n=(0,o.UI)(this.indexes_,((n,r)=>{const i=(0,o.DV)(this.indexSet_,r);if((0,o.hu)(i,"Missing index implementation for "+r),n===Ze){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(ke.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),He(n,i.getCompare())}return Ze}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new ke(e.name,r))),i.insert(e,e.node)}}));return new Ke(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,o.UI)(this.indexes_,(n=>{if(n===Ze)return n;{const r=t.get(e.name);return r?n.remove(new ke(e.name,r)):n}}));return new Ke(n,this.indexSet_)}}let Ye;class Qe{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ue(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ye||(Ye=new Qe(new Re(Le),null,Ke.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ye}updatePriority(e){return this.children_.isEmpty()?this:new Qe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Ye:t}}getChild(e){const t=le(e);return null===t?this:this.getImmediateChild(t).getChild(ue(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,o.hu)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new ke(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Ye:this.priorityNode_;return new Qe(r,o,i)}}updateChild(e,t){const n=le(e);if(null===n)return t;{(0,o.hu)(".priority"!==le(e)||1===ce(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(ue(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(We,((o,s)=>{t[o]=s.val(e),n++,i&&Qe.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Fe(this.getPriority().val())+":"),this.forEachChild(We,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new ke(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ke(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ke(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,ke.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,ke.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xe?-1:0}withIndex(e){if(e===Ne||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Qe(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ne||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(We),n=t.getIterator(We);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Ne?null:this.indexMap_.get(e.toString())}}Qe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Xe=new class extends Qe{constructor(){super(new Re(Le),Qe.EMPTY_NODE,Ke.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Qe.EMPTY_NODE}isEmpty(){return!1}};function Je(e,t=null){if(null===e)return Qe.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ve(e,Je(t));if(e instanceof Array){let n=Qe.EMPTY_NODE;return A(e,((t,r)=>{if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){const e=Je(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Je(t))}{const n=[];let r=!1;if(A(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Je(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new ke(e,i)))}})),0===n.length)return Qe.EMPTY_NODE;const i=He(n,De,(e=>e.name),Le);if(r){const e=He(n,We.getCompare());return new Qe(i,Je(t),new Ke({".priority":e},{".priority":We}))}return new Qe(i,Je(t),Ke.Default)}}Object.defineProperties(ke,{MIN:{value:new ke(S,Qe.EMPTY_NODE)},MAX:{value:new ke(k,Xe)}}),Oe.__EMPTY_NODE=Qe.EMPTY_NODE,Ve.__childrenNodeConstructor=Qe,Me=Xe,ze=Xe,function(e){Be=e}(Je);class et extends Ie{constructor(e){super(),this.indexPath_=e,(0,o.hu)(!me(e)&&".priority"!==le(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?I(e.name,t.name):i}makePost(e,t){const n=Je(e),r=Qe.EMPTY_NODE.updateChild(this.indexPath_,n);return new ke(t,r)}maxPost(){const e=Qe.EMPTY_NODE.updateChild(this.indexPath_,Xe);return new ke(k,e)}toString(){return he(this.indexPath_,0).join("/")}}const tt=new class extends Ie{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?I(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ke.MIN}maxPost(){return ke.MAX}makePost(e,t){const n=Je(e);return new ke(t,n)}toString(){return".value"}};function nt(e){return{type:"value",snapshotNode:e}}function rt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function it(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ot(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class st{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(it(t,a)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(rt(t,n)):s.trackChildChange(ot(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(We,((e,r)=>{t.hasChild(e)||n.trackChildChange(it(e,r))})),t.isLeafNode()||t.forEachChild(We,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ot(t,r,i))}else n.trackChildChange(rt(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Qe.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class at{constructor(e){this.indexedFilter_=new st(e.getIndex()),this.index_=e.getIndex(),this.startPost_=at.getStartPost_(e),this.endPost_=at.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,o){return this.matches(new ke(t,n))||(n=Qe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Qe.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Qe.EMPTY_NODE);const i=this;return t.forEachChild(We,((e,t)=>{i.matches(new ke(e,t))||(r=r.updateImmediateChild(e,Qe.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class lt{constructor(e){this.rangedFilter_=new at(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new ke(t,n))||(n=Qe.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Qe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Qe.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,o;if(r=t.withIndex(this.index_),r=r.updatePriority(Qe.EMPTY_NODE),this.reverse_){o=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else o=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let s=0,a=!1;for(;o.hasNext();){const t=o.getNext();!a&&i(e,t)<=0&&(a=!0),a&&s<this.limit_&&i(t,n)<=0?s++:r=r.updateImmediateChild(t.name,Qe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;(0,o.hu)(a.numChildren()===this.limit_,"");const l=new ke(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const e=a.getImmediateChild(t);let o=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=o&&(o.name===t||a.hasChild(o.name));)o=r.getChildAfterChild(this.index_,o,this.reverse_);const d=null==o?1:s(o,l);if(u&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(ot(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(it(t,e));const n=a.updateImmediateChild(t,Qe.EMPTY_NODE);return null!=o&&this.rangedFilter_.matches(o)?(null!=i&&i.trackChildChange(rt(o.name,o.node)),n.updateImmediateChild(o.name,o.node)):n}}return n.isEmpty()?e:u&&s(c,l)>=0?(null!=i&&(i.trackChildChange(it(c.name,c.node)),i.trackChildChange(rt(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,Qe.EMPTY_NODE)):e}}class ct{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:S}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:k}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===We}copy(){const e=new ct;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ut(e){const t={};if(e.isDefault())return t;let n;return e.index_===We?n="$priority":e.index_===tt?n="$value":e.index_===Ne?n="$key":((0,o.hu)(e.index_ instanceof et,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,o.Pz)(n),e.startSet_&&(t.startAt=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(t.endAt=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function dt(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==We&&(t.i=e.index_.toString()),t}class ht extends re{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=w("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=ht.getListenId_(e,n),a={};this.listens_[s]=a;const l=ut(e._queryParams);this.restRequest_(i+".json",l,((e,t)=>{let l=t;if(404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(i,l,!1,n),(0,o.DV)(this.listens_,s)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=ht.getListenId_(e,t);delete this.listens_[n]}get(e){const t=ut(e._queryParams),n=e._path.toString(),r=new o.BH;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,o.xO)(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=(0,o.cI)(a.responseText)}catch(e){C("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&C("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class ft{constructor(){this.rootNode_=Qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function pt(){return{value:null,children:new Map}}function mt(e,t,n){if(me(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=le(t);e.children.has(r)||e.children.set(r,pt()),mt(e.children.get(r),t=ue(t),n)}}function gt(e,t){if(me(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(We,((t,n)=>{mt(e,new se(t),n)})),gt(e,t)}}if(e.children.size>0){const n=le(t);return t=ue(t),e.children.has(n)&&gt(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function vt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{vt(r,new se(t.toString()+"/"+e),n)}))}class yt{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&A(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class bt{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new yt(e);const n=1e4+2e4*Math.random();F(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;A(e,((e,r)=>{r>0&&(0,o.r3)(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),F(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var wt;function _t(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(wt||(wt={}));class Et{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=wt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(me(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new se(e));return new Et(ae(),t,this.revert)}}return(0,o.hu)(le(this.path)===e,"operationForChild called for unrelated child."),new Et(ue(this.path),this.affectedTree,this.revert)}}class Ct{constructor(e,t){this.source=e,this.path=t,this.type=wt.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new Ct(this.source,ae()):new Ct(this.source,ue(this.path))}}class Tt{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=wt.OVERWRITE}operationForChild(e){return me(this.path)?new Tt(this.source,ae(),this.snap.getImmediateChild(e)):new Tt(this.source,ue(this.path),this.snap)}}class St{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=wt.MERGE}operationForChild(e){if(me(this.path)){const t=this.children.subtree(new se(e));return t.isEmpty()?null:t.value?new Tt(this.source,ae(),t.value):new St(this.source,ae(),t)}return(0,o.hu)(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new St(this.source,ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class kt{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const t=le(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class It{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function xt(e,t,n,r,i,s){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");const r=new ke(t.childName,t.snapshotNode),i=new ke(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Ot(e,t){return{eventCache:e,serverCache:t}}function Nt(e,t,n,r){return Ot(new kt(t,n,r),e.serverCache)}function Pt(e,t,n,r){return Ot(e.eventCache,new kt(t,n,r))}function At(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Rt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Dt;class Lt{constructor(e,t=(()=>(Dt||(Dt=new Re(x)),Dt))()){this.value=e,this.children=t}static fromObject(e){let t=new Lt(null);return A(e,((e,n)=>{t=t.set(new se(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ae(),value:this.value};if(me(e))return null;{const n=le(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(ue(e),t);return null!=i?{path:pe(new se(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(me(e))return this;{const t=le(e),n=this.children.get(t);return null!==n?n.subtree(ue(e)):new Lt(null)}}set(e,t){if(me(e))return new Lt(t,this.children);{const n=le(e),r=(this.children.get(n)||new Lt(null)).set(ue(e),t),i=this.children.insert(n,r);return new Lt(this.value,i)}}remove(e){if(me(e))return this.children.isEmpty()?new Lt(null):new Lt(null,this.children);{const t=le(e),n=this.children.get(t);if(n){const r=n.remove(ue(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Lt(null):new Lt(this.value,i)}return this}}get(e){if(me(e))return this.value;{const t=le(e),n=this.children.get(t);return n?n.get(ue(e)):null}}setTree(e,t){if(me(e))return t;{const n=le(e),r=(this.children.get(n)||new Lt(null)).setTree(ue(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Lt(this.value,i)}}fold(e){return this.fold_(ae(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(pe(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ae(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(me(e))return null;{const r=le(e),i=this.children.get(r);return i?i.findOnPath_(ue(e),pe(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ae(),t)}foreachOnPath_(e,t,n){if(me(e))return this;{this.value&&n(t,this.value);const r=le(e),i=this.children.get(r);return i?i.foreachOnPath_(ue(e),pe(t,r),n):new Lt(null)}}foreach(e){this.foreach_(ae(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(pe(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Mt{constructor(e){this.writeTree_=e}static empty(){return new Mt(new Lt(null))}}function Ft(e,t,n){if(me(t))return new Mt(new Lt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=ge(i,t);return o=o.updateChild(s,n),new Mt(e.writeTree_.set(i,o))}{const r=new Lt(n),i=e.writeTree_.setTree(t,r);return new Mt(i)}}}function Ut(e,t,n){let r=e;return A(n,((e,n)=>{r=Ft(r,pe(t,e),n)})),r}function jt(e,t){if(me(t))return Mt.empty();{const n=e.writeTree_.setTree(t,new Lt(null));return new Mt(n)}}function Bt(e,t){return null!=zt(e,t)}function zt(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ge(n.path,t)):null}function Vt(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(We,((e,n)=>{t.push(new ke(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new ke(e,n.value))})),t}function Wt(e,t){if(me(t))return e;{const n=zt(e,t);return new Mt(null!=n?new Lt(n):e.writeTree_.subtree(t))}}function qt(e){return e.writeTree_.isEmpty()}function Gt(e,t){return Ht(ae(),e.writeTree_,t)}function Ht(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ht(pe(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(pe(e,".priority"),r)),n}}function $t(e,t){return on(t,e)}function Zt(e,t){if(e.snap)return be(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&be(pe(e.path,n),t))return!0;return!1}function Kt(e){return e.visible}function Yt(e,t,n){let r=Mt.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)be(n,e)?(t=ge(n,e),r=Ft(r,t,s.snap)):be(e,n)&&(t=ge(e,n),r=Ft(r,ae(),s.snap.getChild(t)));else{if(!s.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(be(n,e))t=ge(n,e),r=Ut(r,t,s.children);else if(be(e,n))if(t=ge(e,n),me(t))r=Ut(r,ae(),s.children);else{const e=(0,o.DV)(s.children,le(t));if(e){const n=e.getChild(ue(t));r=Ft(r,ae(),n)}}}}}return r}function Qt(e,t,n,r,i){if(r||i){const o=Wt(e.visibleWrites,t);if(!i&&qt(o))return n;if(i||null!=n||Bt(o,ae())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(be(e.path,t)||be(t,e.path))};return Gt(Yt(e.allWrites,o,t),n||Qe.EMPTY_NODE)}return null}{const r=zt(e.visibleWrites,t);if(null!=r)return r;{const r=Wt(e.visibleWrites,t);return qt(r)?n:null!=n||Bt(r,ae())?Gt(r,n||Qe.EMPTY_NODE):null}}}function Xt(e,t,n,r){return Qt(e.writeTree,e.treePath,t,n,r)}function Jt(e,t){return function(e,t,n){let r=Qe.EMPTY_NODE;const i=zt(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(We,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=Wt(e.visibleWrites,t);return n.forEachChild(We,((e,t)=>{const n=Gt(Wt(i,new se(e)),t);r=r.updateImmediateChild(e,n)})),Vt(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Vt(Wt(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function en(e,t,n,r){return function(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=pe(t,n);if(Bt(e.visibleWrites,s))return null;{const t=Wt(e.visibleWrites,s);return qt(t)?i.getChild(n):Gt(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function tn(e,t){return function(e,t){return zt(e.visibleWrites,t)}(e.writeTree,pe(e.treePath,t))}function nn(e,t,n){return function(e,t,n,r){const i=pe(t,n),o=zt(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Gt(Wt(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function rn(e,t){return on(pe(e.treePath,t),e.writeTree)}function on(e,t){return{treePath:e,writeTree:t}}class sn{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ot(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,it(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,rt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ot(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const an=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class ln{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nn(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=Wt(e.visibleWrites,t),c=zt(l,ae());if(null!=c)a=c;else{if(null==n)return[];a=Gt(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function cn(e,t,n,r,i,s){const a=t.eventCache;if(null!=tn(r,n))return t;{let l,c;if(me(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Rt(t),i=Jt(r,n instanceof Qe?n:Qe.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Xt(r,Rt(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const u=le(n);if(".priority"===u){(0,o.hu)(1===ce(n),"Can't have a priority with additional path components");const i=a.getNode();c=t.serverCache.getNode();const s=en(r,n,i,c);l=null!=s?e.filter.updatePriority(i,s):a.getNode()}else{const o=ue(n);let d;if(a.isCompleteForChild(u)){c=t.serverCache.getNode();const e=en(r,n,a.getNode(),c);d=null!=e?a.getNode().getImmediateChild(u).updateChild(o,e):a.getNode().getImmediateChild(u)}else d=nn(r,u,t.serverCache);l=null!=d?e.filter.updateChild(a.getNode(),u,d,o,i,s):a.getNode()}}return Nt(t,l,a.isFullyInitialized()||me(n),e.filter.filtersNodes())}}function un(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(me(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=le(n);if(!l.isCompleteForPath(n)&&ce(n)>1)return t;const i=ue(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,an,null)}const d=Pt(t,c,l.isFullyInitialized()||me(n),u.filtersNodes());return cn(e,d,n,i,new ln(i,d,o),a)}function dn(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new ln(i,t,o);if(me(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Nt(t,c,!0,e.filter.filtersNodes());else{const i=le(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Nt(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=ue(n),c=a.getNode().getImmediateChild(i);let d;if(me(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===de(o)&&e.getChild(fe(o)).isEmpty()?e:e.updateChild(o,r):Qe.EMPTY_NODE}l=c.equals(d)?t:Nt(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function hn(e,t){return e.eventCache.isCompleteForChild(t)}function fn(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function pn(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=me(n)?r:new Lt(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=fn(0,t.serverCache.getNode().getImmediateChild(n),r);c=un(e,c,new se(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!l){const l=fn(0,t.serverCache.getNode().getImmediateChild(n),r);c=un(e,c,new se(n),l,i,o,s,a)}})),c}class mn{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new st(n.getIndex()),i=(o=n).loadsAllData()?new st(o.getIndex()):o.hasLimit()?new lt(o):new at(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(Qe.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(Qe.EMPTY_NODE,a.getNode(),null),u=new kt(l,s.isFullyInitialized(),r.filtersNodes()),d=new kt(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Ot(d,u),this.eventGenerator_=new It(this.query_)}get query(){return this.query_}}function gn(e,t){const n=Rt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!me(t)&&!n.getImmediateChild(le(t)).isEmpty())?n.getChild(t):null}function vn(e){return 0===e.eventRegistrations_.length}function yn(e,t,n){const r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function bn(e,t,n,r){t.type===wt.MERGE&&null!==t.source.queryId&&((0,o.hu)(Rt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(At(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=function(e,t,n,r,i){const s=new sn;let a,l;if(n.type===wt.OVERWRITE){const c=n;c.source.fromUser?a=dn(e,t,c.path,c.snap,r,i,s):((0,o.hu)(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!me(c.path),a=un(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===wt.MERGE){const c=n;c.source.fromUser?a=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=pe(n,r);hn(t,le(c))&&(a=dn(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=pe(n,r);hn(t,le(c))||(a=dn(e,a,c,l,i,o,s))})),a}(e,t,c.path,c.children,r,i,s):((0,o.hu)(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered(),a=pn(e,t,c.path,c.children,r,i,l,s))}else if(n.type===wt.ACK_USER_WRITE){const l=n;a=l.revert?function(e,t,n,r,i,s){let a;if(null!=tn(r,n))return t;{const l=new ln(r,t,i),c=t.eventCache.getNode();let u;if(me(n)||".priority"===le(n)){let n;if(t.serverCache.isFullyInitialized())n=Xt(r,Rt(t));else{const e=t.serverCache.getNode();(0,o.hu)(e instanceof Qe,"serverChildren would be complete if leaf node"),n=Jt(r,e)}n=n,u=e.filter.updateFullNode(c,n,s)}else{const i=le(n);let o=nn(r,i,t.serverCache);null==o&&t.serverCache.isCompleteForChild(i)&&(o=c.getImmediateChild(i)),u=null!=o?e.filter.updateChild(c,i,o,ue(n),l,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,Qe.EMPTY_NODE,ue(n),l,s):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Xt(r,Rt(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=tn(r,ae()),Nt(t,u,a,e.filter.filtersNodes())}}(e,t,l.path,r,i,s):function(e,t,n,r,i,o,s){if(null!=tn(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(me(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return un(e,t,n,l.getNode().getChild(n),i,o,a,s);if(me(n)){let r=new Lt(null);return l.getNode().forEachChild(Ne,((e,t)=>{r=r.set(new se(e),t)})),pn(e,t,n,r,i,o,a,s)}return t}{let c=new Lt(null);return r.foreach(((e,t)=>{const r=pe(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),pn(e,t,n,c,i,o,a,s)}}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==wt.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache;return cn(e,Pt(t,o.getNode(),o.isFullyInitialized()||me(n),o.isFiltered()),n,r,an,i)}(e,t,n.path,r,s)}const c=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=At(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(nt(At(t)))}}(t,a,c),{viewCache:a,changes:c}}(e.processor_,i,t,n,r);var a,l;return a=e.processor_,l=s.viewCache,(0,o.hu)(l.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(l.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,wn(e,s.changes,s.viewCache.eventCache.getNode(),null)}function wn(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),xt(e,i,"child_removed",t,r,n),xt(e,i,"child_added",t,r,n),xt(e,i,"child_moved",o,r,n),xt(e,i,"child_changed",t,r,n),xt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let _n,En;class Cn{constructor(){this.views=new Map}}function Tn(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return(0,o.hu)(null!=s,"SyncTree gave us an op for an invalid query."),bn(s,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(bn(o,t,n,r));return i}}function Sn(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Xt(n,i?r:null),o=!1;e?o=!0:r instanceof Qe?(e=Jt(n,r),o=!1):(e=Qe.EMPTY_NODE,o=!1);const s=Ot(new kt(e,o,!1),new kt(r,i,!1));return new mn(t,s)}return s}function kn(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function In(e,t){let n=null;for(const r of e.views.values())n=n||gn(r,t);return n}function xn(e,t){if(t._queryParams.loadsAllData())return Pn(e);{const n=t._queryIdentifier;return e.views.get(n)}}function On(e,t){return null!=xn(e,t)}function Nn(e){return null!=Pn(e)}function Pn(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let An=1;class Rn{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Lt(null),this.pendingWriteTree_={visibleWrites:Mt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Dn(e,t,n,r,i){return function(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ft(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Bn(e,new Tt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ln(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Zt(t,r.path)?i=!1:be(r.path,t.path)&&(s=!0)),a--}return!!i&&(s?(function(e){e.visibleWrites=Yt(e.allWrites,Kt,ae()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=jt(e.visibleWrites,r.path):A(r.children,(t=>{e.visibleWrites=jt(e.visibleWrites,pe(r.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new Lt(null);return null!=r.snap?t=t.set(ae(),!0):A(r.children,(e=>{t=t.set(new se(e),!0)})),Bn(e,new Et(r.path,t,n))}return[]}function Mn(e,t,n){return Bn(e,new Tt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Fn(e,t,n,r){const i=t._path,s=e.syncPointTree_.get(i);let a=[];if(s&&("default"===t._queryIdentifier||On(s,t))){const l=function(e,t,n,r){const i=t._queryIdentifier,s=[];let a=[];const l=Nn(e);if("default"===i)for(const[t,i]of e.views.entries())a=a.concat(yn(i,n,r)),vn(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||s.push(i.query));else{const t=e.views.get(i);t&&(a=a.concat(yn(t,n,r)),vn(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return l&&!Nn(e)&&s.push(new((0,o.hu)(_n,"Reference.ts has not been loaded"),_n)(t._repo,t._path)),{removed:s,events:a}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const c=l.removed;a=l.events;const u=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),d=e.syncPointTree_.findOnPath(i,((e,t)=>Nn(t)));if(u&&!d){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Nn(t))return[Pn(t)];{let e=[];return t&&(e=kn(t)),A(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Wn(e,r);e.listenProvider_.startListening(Kn(i),qn(e,i),o.hashFn,o.onComplete)}}}if(!d&&c.length>0&&!r)if(u){const n=null;e.listenProvider_.stopListening(Kn(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Gn(t));e.listenProvider_.stopListening(Kn(t),n)}));!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Gn(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Un(e,t,n){const r=t._path;let i=null,s=!1;e.syncPointTree_.foreachOnPath(r,((e,t)=>{const n=ge(e,r);i=i||In(t,n),s=s||Nn(t)}));let a,l=e.syncPointTree_.get(r);l?(s=s||Nn(l),i=i||In(l,ae())):(l=new Cn,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=i?a=!0:(a=!1,i=Qe.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild(((e,t)=>{const n=In(t,ae());n&&(i=i.updateImmediateChild(e,n))})));const c=On(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Gn(t);(0,o.hu)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=An++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=function(e,t,n,r,i,o){const s=Sn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,((e,t)=>{r.push(rt(e,t))})),n.isFullyInitialized()&&r.push(nt(n.getNode())),wn(e,r,n.getNode(),t)}(s,n)}(l,t,n,$t(e.pendingWriteTree_,r),i,a);if(!c&&!s){const n=xn(l,t);u=u.concat(function(e,t,n){const r=t._path,i=qn(e,t),s=Wn(e,n),a=e.listenProvider_.startListening(Kn(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!Nn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold(((e,t,n)=>{if(!me(e)&&t&&Nn(t))return[Pn(t).query];{let e=[];return t&&(e=e.concat(kn(t).map((e=>e.query)))),A(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Kn(r),qn(e,r))}}return a}(e,t,n))}return u}function jn(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=In(n,ge(e,t));if(r)return r}));return Qt(r,t,i,n,!0)}function Bn(e,t){return zn(t,e.syncPointTree_,null,$t(e.pendingWriteTree_,ae()))}function zn(e,t,n,r){if(me(e.path))return Vn(e,t,n,r);{const i=t.get(ae());null==n&&null!=i&&(n=In(i,ae()));let o=[];const s=le(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=rn(r,s);o=o.concat(zn(a,l,e,t))}return i&&(o=o.concat(Tn(i,e,r,n))),o}}function Vn(e,t,n,r){const i=t.get(ae());null==n&&null!=i&&(n=In(i,ae()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=rn(r,t),l=e.operationForChild(t);l&&(o=o.concat(Vn(l,i,s,a)))})),i&&(o=o.concat(Tn(i,e,r,n))),o}function Wn(e,t){const n=t.query,r=qn(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Qe.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Hn(e,n);if(r){const n=$n(r),i=n.path,o=n.queryId,s=ge(i,t);return Zn(e,i,new Ct(_t(o),s))}return[]}(e,n._path,r):function(e,t){return Bn(e,new Ct({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Fn(e,n,null,r)}}}}function qn(e,t){const n=Gn(t);return e.queryToTagMap.get(n)}function Gn(e){return e._path.toString()+"$"+e._queryIdentifier}function Hn(e,t){return e.tagToQueryMap.get(t)}function $n(e){const t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new se(e.substr(0,t))}}function Zn(e,t,n){const r=e.syncPointTree_.get(t);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),Tn(r,n,$t(e.pendingWriteTree_,t),null)}function Kn(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.hu)(En,"Reference.ts has not been loaded"),En)(e._repo,e._path):e}class Yn{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Yn(t)}node(){return this.node_}}class Qn{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=pe(this.path_,e);return new Qn(this.syncTree_,t)}node(){return jn(this.syncTree_,this.path_)}}const Xn=function(e,t,n){return e&&"object"==typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Jn(e[".sv"],t,n):"object"==typeof e[".sv"]?er(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Jn=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.hu)(!1,"Unexpected server value: "+e)},er=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},tr=function(e,t,n){return nr(e,new Yn(t),n)};function nr(e,t,n){const r=e.getPriority().val(),i=Xn(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Xn(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Ve(o,Je(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Ve(i))),r.forEachChild(We,((e,r)=>{const i=nr(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class rr{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function ir(e,t){let n=t instanceof se?t:new se(t),r=e,i=le(n);for(;null!==i;){const e=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new rr(i,r,e),n=ue(n),i=le(n)}return r}function or(e){return e.node.value}function sr(e,t){e.node.value=t,dr(e)}function ar(e){return e.node.childCount>0}function lr(e,t){A(e.node.children,((n,r)=>{t(new rr(n,e,r))}))}function cr(e,t,n,r){n&&!r&&t(e),lr(e,(e=>{cr(e,t,!0,r)})),n&&r&&t(e)}function ur(e){return new se(null===e.parent?e.name:ur(e.parent)+"/"+e.name)}function dr(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===or(e)&&!ar(e)}(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,dr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,dr(e))}(e.parent,e.name,e)}const hr=/[\[\].#$\/\u0000-\u001F\u007F]/,fr=/[\[\].#$\u0000-\u001F\u007F]/,pr=10485760,mr=function(e){return"string"==typeof e&&0!==e.length&&!hr.test(e)},gr=function(e){return"string"==typeof e&&0!==e.length&&!fr.test(e)},vr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!T(e)||e&&"object"==typeof e&&(0,o.r3)(e,".sv")},yr=function(e,t,n,r){r&&void 0===t||br((0,o.gK)(e,"value"),t,n)},br=function(e,t,n){const r=n instanceof se?new we(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ee(r));if("function"==typeof t)throw new Error(e+"contains a function "+Ee(r)+" with contents = "+t.toString());if(T(t))throw new Error(e+"contains "+t.toString()+" "+Ee(r));if("string"==typeof t&&t.length>pr/3&&(0,o.ug)(t)>pr)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Ee(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(A(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!mr(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ee(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.ug)(t),_e(e)}(r,t),br(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,o.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Ee(r)+" in addition to actual children.")}},wr=function(e,t,n,r){if(!(r&&void 0===n||gr(n)))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_r=function(e,t){if(".info"===le(t))throw new Error(e+" failed = Can't modify data under /.info/")};class Er{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cr(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||ye(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Tr(e,t,n){Cr(e,n),kr(e,(e=>ye(e,t)))}function Sr(e,t,n){Cr(e,n),kr(e,(e=>be(e,t)||be(t,e)))}function kr(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(Ir(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Ir(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();v&&b("event: "+n.toString()),M(r)}}}class xr{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Er,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pt(),this.transactionQueueTree_=new rr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Or(e,t,n){if(e.stats_=K(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ht(e.repoInfo_,((t,n,r,i)=>{Ar(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Rr(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Se(e.repoInfo_,t,((t,n,r,i)=>{Ar(e,t,n,r,i)}),(t=>{Rr(e,t)}),(t=>{!function(e,t){A(t,((t,n)=>{Dr(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t,n){const r=t.toString();return Z[r]||(Z[r]=new bt(e.stats_,e.server_)),Z[r]}(e.repoInfo_),e.infoData_=new ft,e.infoSyncTree_=new Rn({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Mn(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Dr(e,"connected",!1),e.serverSyncTree_=new Rn({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);Sr(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Nr(e){const t=e.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Pr(e){return(t=(t={timestamp:Nr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Ar(e,t,n,r,i){e.dataUpdateCount++;const s=new se(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=(0,o.UI)(n,(e=>Je(e)));a=function(e,t,n,r){const i=Hn(e,r);if(i){const r=$n(i),o=r.path,s=r.queryId,a=ge(o,t),l=Lt.fromObject(n);return Zn(e,o,new St(_t(s),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Je(n);a=function(e,t,n,r){const i=Hn(e,r);if(null!=i){const r=$n(i),o=r.path,s=r.queryId,a=ge(o,t);return Zn(e,o,new Tt(_t(s),a,n))}return[]}(e.serverSyncTree_,s,t,i)}else if(r){const t=(0,o.UI)(n,(e=>Je(e)));a=function(e,t,n){const r=Lt.fromObject(n);return Bn(e,new St({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Je(n);a=Mn(e.serverSyncTree_,s,t)}let l=s;a.length>0&&(l=Wr(e,s)),Sr(e.eventQueue_,l,a)}function Rr(e,t){Dr(e,"connected",t),!1===t&&function(e){jr(e,"onDisconnectEvents");const t=Pr(e),n=pt();vt(e.onDisconnect_,ae(),((r,i)=>{const o=function(e,t,n,r){return nr(t,new Qn(n,e),r)}(r,i,e.serverSyncTree_,t);mt(n,r,o)}));let r=[];vt(n,ae(),((t,n)=>{r=r.concat(Mn(e.serverSyncTree_,t,n));const i=Zr(e,t);Wr(e,i)})),e.onDisconnect_=pt(),Sr(e.eventQueue_,ae(),r)}(e)}function Dr(e,t,n){const r=new se("/.info/"+t),i=Je(n);e.infoData_.updateSnapshot(r,i);const o=Mn(e.infoSyncTree_,r,i);Sr(e.eventQueue_,r,o)}function Lr(e){return e.nextWriteId_++}function Mr(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&gt(e.onDisconnect_,t),Br(0,n,r,i)}))}function Fr(e,t,n,r){const i=Je(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,o)=>{"ok"===n&&mt(e.onDisconnect_,t,i),Br(0,r,n,o)}))}function Ur(e,t,n){let r;r=".info"===le(t._path)?Fn(e.infoSyncTree_,t,n):Fn(e.serverSyncTree_,t,n),Tr(e.eventQueue_,t._path,r)}function jr(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),b(n,...t)}function Br(e,t,n,r){t&&M((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function zr(e,t,n){return jn(e.serverSyncTree_,t,n)||Qe.EMPTY_NODE}function Vr(e,t=e.transactionQueueTree_){if(t||$r(e,t),or(t)){const n=Gr(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=zr(e,t,r);let s=i;const a=i.hash();for(let e=0;e<n.length;e++){const r=n[e];(0,o.hu)(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=ge(t,r.path);s=s.updateChild(i,r.currentOutputSnapshotRaw)}const l=s.val(!0),c=t;e.server_.put(c.toString(),l,(r=>{jr(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Ln(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();$r(e,ir(e.transactionQueueTree_,t)),Vr(e,e.transactionQueueTree_),Sr(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)M(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{C("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Wr(e,t)}}),a)}(e,ur(t),n)}else ar(t)&&lr(t,(t=>{Vr(e,t)}))}function Wr(e,t){const n=qr(e,t),r=ur(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)).map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const c=t[l],u=ge(n,c.path);let d,h=!1;if((0,o.hu)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,d=c.abortReason,i=i.concat(Ln(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,d="maxretry",i=i.concat(Ln(e.serverSyncTree_,c.currentWriteId,!0));else{const n=zr(e,c.path,s);c.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){br("transaction failed: Data returned ",r,c.path);let t=Je(r);"object"==typeof r&&null!=r&&(0,o.r3)(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=c.currentWriteId,l=Pr(e),u=tr(t,n,l);c.currentOutputSnapshotRaw=t,c.currentOutputSnapshotResolved=u,c.currentWriteId=Lr(e),s.splice(s.indexOf(a),1),i=i.concat(Dn(e.serverSyncTree_,c.path,u,c.currentWriteId,c.applyLocally)),i=i.concat(Ln(e.serverSyncTree_,a,!0))}else h=!0,d="nodata",i=i.concat(Ln(e.serverSyncTree_,c.currentWriteId,!0))}Sr(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===d?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(d),!1,null)))))}var a;$r(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)M(r[e]);Vr(e,e.transactionQueueTree_)}(e,Gr(e,n),r),r}function qr(e,t){let n,r=e.transactionQueueTree_;for(n=le(t);null!==n&&void 0===or(r);)r=ir(r,n),n=le(t=ue(t));return r}function Gr(e,t){const n=[];return Hr(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Hr(e,t,n){const r=or(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);lr(t,(t=>{Hr(e,t,n)}))}function $r(e,t){const n=or(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,sr(t,n.length>0?n:void 0)}lr(t,(t=>{$r(e,t)}))}function Zr(e,t){const n=ur(qr(e,t)),r=ir(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Kr(e,t)})),Kr(e,r),cr(r,(t=>{Kr(e,t)})),n}function Kr(e,t){const n=or(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,o.hu)(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):((0,o.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Ln(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?sr(t,void 0):n.length=s+1,Sr(e.eventQueue_,ur(t),i);for(let e=0;e<r.length;e++)M(r[e])}}const Yr=function(e,t){const n=Qr(e),r=n.namespace;"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&C("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new q(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new se(n.pathString)}},Qr=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):C(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class Xr{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())}}class Jr{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ei{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class ti{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new o.BH;return Mr(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){_r("OnDisconnect.remove",this._path);const e=new o.BH;return Fr(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){_r("OnDisconnect.set",this._path),yr("OnDisconnect.set",e,this._path,!1);const t=new o.BH;return Fr(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){_r("OnDisconnect.setWithPriority",this._path),yr("OnDisconnect.setWithPriority",e,this._path,!1),function(e,t,n){if(!n||void 0!==t){if(T(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vr(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",t,!1);const n=new o.BH;return function(e,t,n,r,i){const o=Je(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,r)=>{"ok"===n&&mt(e.onDisconnect_,t,o),Br(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){_r("OnDisconnect.update",this._path),function(e,t,n,r){if(r&&void 0===t)return;const i=(0,o.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];A(t,((e,t)=>{const r=new se(e);if(br(i,t,pe(n,r)),".priority"===de(r)&&!vr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=he(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!mr(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ve);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&be(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)}("OnDisconnect.update",e,this._path,!1);const t=new o.BH;return function(e,t,n,r){if((0,o.xb)(n))return b("onDisconnect().update() called with empty data.  Don't do anything."),void Br(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,o)=>{"ok"===i&&A(n,((n,r)=>{const i=Je(r);mt(e.onDisconnect_,pe(t,n),i)})),Br(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class ni{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return me(this._path)?null:de(this._path)}get ref(){return new ri(this._repo,this._path)}get _queryIdentifier(){const e=dt(this._queryParams),t=N(e);return"{}"===t?"default":t}get _queryObject(){return dt(this._queryParams)}isEqual(e){if(!((e=(0,o.m9)(e))instanceof ni))return!1;const t=this._repo===e._repo,n=ye(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class ri extends ni{constructor(e,t){super(e,t,new ct,!1)}get parent(){const e=fe(this._path);return null===e?null:new ri(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class ii{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new se(e),n=oi(this.ref,e);return new ii(this._node.getChild(t),n,We)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,((t,n)=>e(new ii(n,oi(this.ref,t),We))))}hasChild(e){const t=new se(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oi(e,t){var n;return null===le((e=(0,o.m9)(e))._path)?("child","path",!1,(n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wr("child","path",n,false)):wr("child","path",t,!1),new ri(e._repo,pe(e._path,t))}function si(e,t){e=(0,o.m9)(e),_r("set",e._path),yr("set",t,e._path,!1);const n=new o.BH;return function(e,t,n,r,i){jr(e,"set",{path:t.toString(),value:n,priority:r});const o=Pr(e),s=Je(n,r),a=jn(e.serverSyncTree_,t),l=tr(s,a,o),c=Lr(e),u=Dn(e.serverSyncTree_,t,l,c,!0);Cr(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||C("set at "+t+" failed: "+n);const s=Ln(e.serverSyncTree_,c,!o);Sr(e.eventQueue_,t,s),Br(0,i,n,r)}));const d=Zr(e,t);Wr(e,d),Sr(e.eventQueue_,d,[])}(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function ai(e){return function(e,t){const n=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=ge(e,n);r=r||In(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||In(i,ae()):(i=new Cn,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new kt(r,!0,!1):null;return At(Sn(i,t,$t(e.pendingWriteTree_,t._path),o?s.getNode():Qe.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((n=>{const r=Je(n).withIndex(t._queryParams.getIndex()),i=Mn(e.serverSyncTree_,t._path,r);return Tr(e.eventQueue_,t._path,i),Promise.resolve(r)}),(n=>(jr(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n)))))}((e=(0,o.m9)(e))._repo,e).then((t=>new ii(t,new ri(e._repo,e._path),e._queryParams.getIndex())))}class li{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Xr("value",this,new ii(e.snapshotNode,new ri(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Jr(this,e,t):null}matches(e){return e instanceof li&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ci{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Jr(this,e,t):null}createEvent(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");const n=oi(new ri(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Xr(e.type,this,new ii(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ci&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ui(e,t,n,r){return function(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Ur(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new ei(n,o||void 0),a="value"===t?new li(s):new ci(t,s);return function(e,t,n){let r;r=".info"===le(t._path)?Un(e.infoSyncTree_,t,n):Un(e.serverSyncTree_,t,n),Tr(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Ur(e._repo,e,a)}(e,"value",t,n,r)}!function(e){(0,o.hu)(!_n,"__referenceConstructor has already been defined"),_n=e}(ri),function(e){(0,o.hu)(!En,"__referenceConstructor has already been defined"),En=e}(ri);const di={};function hi(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),b("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,l,c=Yr(s,i),u=c.repoInfo;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(a=!0,s=`http://${l}?ns=${u.namespace}`,c=Yr(s,i),u=c.repoInfo):a=!c.repoInfo.secure;const d=i&&a?new B(B.OWNER):new j(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!mr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gr(e)}(n))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",c),me(c.path)||E("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=di[t.name];i||(i={},di[t.name]=i);let o=i[e.toURLString()];return o&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new xr(e,false,n,r),i[e.toURLString()]=o,o}(u,e,d,new U(e.name,n));return new fi(h,e)}class fi{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Or(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ri(this._repo,ae())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=di[t];n&&n[e.key]===e||E(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&E("Cannot call "+e+" on a deleted database.")}}var pi;Se.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Se.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},pi=r.Jn,a=pi,(0,r.Xd)(new i.wA("database",((e,{instanceIdentifier:t})=>hi(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),(0,r.KN)("@firebase/database","0.12.1",undefined);var mi=n(6486),gi=n.n(mi);const vi=new class{serializeObject(e){return gi().omit({...e},["_ref","_unbindListener","id"])}ref(e){return function(e,t){return(e=(0,o.m9)(e))._checkNotDeleted("ref"),void 0!==t?oi(e._root,t):e._root}(this.db,e)}createListener(e,t){return ui(this.ref(e),t)}createDisconnectListener(e){return function(e){return e=(0,o.m9)(e),new ti(e._repo,e._path)}(this.ref(e))}async get(e){return await ai(this.ref(e))}async set(e,t){return await si(this.ref(e),t?this.serializeObject(t):null)}constructor(){var e,t,n;e=this,t="db",n=function(e=(0,r.Mq)(),t){return(0,r.qX)(e,"database").getImmediate({identifier:t})}(),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e.db=n}}},7219:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7294);class i{emitChange(){for(const e of this._listeners)e()}addListener(e){return this._listeners.add(e)}removeListener(e){return this._listeners.delete(e)}get useState(){return(e=(e=>e),t=[])=>{const[n,i]=r.useState(e(this));return r.useEffect((()=>{const t=()=>i(e(this));return this.addListener(t),()=>{this.removeListener(t)}}),[n,...t]),n}}constructor(e,t){var n,r,i;if(n=this,r="_listeners",i=new Set,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this._dispatcher=e,"object"==typeof t)for(const n in t)e.subscribe(n,(e=>{var r;!1!==(null===(r=t[n])||void 0===r?void 0:r.call(t,e))&&this.emitChange()}));this._actionHandlers=t}}},2562:(e,t,n)=>{"use strict";n.d(t,{of:()=>R,ZP:()=>P});var r=n(3680),i=n(6486),o=n.n(i),s=n(7294),a=n(5697),l=n.n(a);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return s.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),s.createElement("circle",{cx:"12",cy:"12",r:"10"}),s.createElement("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"}))}));u.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},u.displayName="Compass";const d=u;function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var f=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return s.createElement("svg",h({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),s.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),s.createElement("polyline",{points:"16 17 21 12 16 7"}),s.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}))}));f.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},f.displayName="LogOut";const p=f;var m=n(6536),g=n(8623),v=n(164),y=n(9606),b=n(1832),w=n(6856),_=n(2846),E=n(7921),C=n(4702),T=n(3694),S=n(3513),k=n(8746),I=n(9912),x=n(5744);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}class P{getGroups(){return S.Z.getGroups(this.id)}get position(){return parseInt(I.default.getSettingValue("__properties","circlePositions",this.id)||0)}set position(e){I.settingsDispatcher.dispatch({type:_.MF.UPDATE_SETTING,path:["__properties","circlePositions",this.id],value:e})}async leaveCircle(){await(0,y.Up)({title:"Are you sure?",description:`Leave <b>${this.name}</b>?`})&&(await E.Z.delete(E.Z.doc("circles",this.id,"members",x.default.getLocalUser().id)),await E.Z.delete(E.Z.doc("userdata",x.default.getLocalUser().id,"circles",this.id)),window.location.href.includes(this.id)&&(0,g.IH)("app"),b.Z.showToast(s.createElement("span",null,"Left ",s.createElement("b",null,"$",this.name))),T.Z.destroyCircle(this.id))}renderGroups(){const e=this.getGroups();if(e){const t=Object.values(e).sort(((e,t)=>e.position-t.position)),n=e=>s.createElement(e.Component,{key:e.id},t.filter((t=>t.parent===e.id)).map(n));return[s.createElement("div",{className:(0,_.Ch)("Group TypeButton",["overview"===g.Jm[2],"Selected"]),key:"__overview"},s.createElement("div",{className:"Title",onClick:()=>(0,g.IH)(`#app/circles/${g.Jm[1]}/overview`)},s.createElement(d,null)," Overview")),...t.filter((t=>!t.parent||!e[t.parent])).map(n)]}}static async join(e,t,n=x.default.getLocalUser().id){const i=E.Z.doc("circles",e,"members",n);if(await E.Z.getDoc(i))return;const{error:o}=await E.Z.set(i,{joinDate:(0,r.Bt)(),inviteId:t}).then((()=>({error:null}))).catch((e=>({error:e})));if(o)return b.Z.showToast("There was an error joining circle","Failure"),console.error("Error joining circle",o);await E.Z.set(E.Z.doc("userdata",n,"circles",e),{position:0})}constructor(e){O(this,"id",""),O(this,"name",""),O(this,"iconUrl",""),O(this,"_groups",null),O(this,"BubbleComponent",(()=>s.createElement(R,{circle:this}))),O(this,"ContextMenu",(()=>s.createElement(A,{circle:this}))),o().extend(this,e)}}function A({circle:e}){return s.createElement(v.Z,null,s.createElement(v.Z.Item,{icon:s.createElement(p,null),style:{color:"var(--busy-color)"},autoClose:!0,onClick:e.leaveCircle.bind(e)},"Leave"),I.default.getSettingValue("extensions","developerTools","devMode")&&s.createElement(s.Fragment,null,s.createElement(v.Z.Divider,null),s.createElement(v.Z.SubMenuItem,{icon:s.createElement(m.Z,null),label:"Developer"},s.createElement(v.Z.Item,{onClick:()=>(0,y.vQ)(e.id)},"Copy Circle ID"))))}function R({circle:e,icon:t=null,onClick:n=null}){C.e.useForceUpdater(_.MF.CIRCLE_UPDATE,(t=>t.circle.id===e.id));const r=k.Z.useState((()=>k.Z.getUnreadMessageCount(e.id))),i={onClick:()=>{if(n)return n();const t=localStorage.getItem(`lastGroup.${e.id}`)||"overview";e.lastLocation?(0,g.IH)(e.lastLocation):(0,g.IH)(`app/circles/${e.id}/${t}`)}};return s.createElement(v.Z.Wrapper,{menu:e instanceof P?s.createElement(e.ContextMenu,null):null},s.createElement("div",N({className:"Circle FlexCenter"},i),t||(e.iconUrl?s.createElement("img",{className:"Icon",src:e.iconUrl,alt:e.name}):s.createElement("h3",{className:"Icon Acronym"},(0,_.Zg)(e.name))),s.createElement("div",{className:"UnreadBlips Flex"},r>0&&s.createElement("div",{className:"Blip Unread"},r>999?`${Math.round(r/1e3)}k`:r)),s.createElement(w.Z,{direction:"right"},e.name)))}},6582:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(6486),i=n.n(r),o=n(7294),s=n(3158);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(e){a(this,"id",void 0),a(this,"url",void 0),a(this,"packId",void 0),a(this,"Component",(()=>o.createElement(c,{emote:this}))),i().extend(this,e)}}function c({emote:e}){const t=o.useRef(),[n,r]=o.useState("1.25em"),i=s.Z.useState((()=>e.url));return o.useEffect((()=>{var e,n;1===(null===(e=t.current)||void 0===e||null===(n=e.parentElement)||void 0===n?void 0:n.childNodes.length)&&r("4em")}),[]),o.createElement("div",{className:"Emote",ref:t,style:{width:n,height:n}},o.createElement("img",{className:"EmoteImage",src:i,alt:""}))}},4719:(e,t,n)=>{"use strict";n.d(t,{Pe:()=>q,ZP:()=>L});var r=n(6486),i=n.n(r),o=n(7294),s=n(5697),a=n.n(s);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("polyline",{points:"6 9 12 15 18 9"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},c.displayName="ChevronDown";const u=c;function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var h=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",d({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),o.createElement("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),o.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),o.createElement("line",{x1:"8",y1:"23",x2:"16",y2:"23"}))}));h.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},h.displayName="Mic";const f=h;function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}var m=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",p({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("path",{d:"M4 11a9 9 0 0 1 9 9"}),o.createElement("path",{d:"M4 4a16 16 0 0 1 16 16"}),o.createElement("circle",{cx:"5",cy:"19",r:"1"}))}));m.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},m.displayName="Rss";const g=m;var v=n(1912),y=n(329),b=n(8623),w=n(164),_=n(9683),E=n(2846),C=n(7921),T=n(4702),S=n(9178),k=n(3694),I=n(3513),x=n(8746),O=n(9724),N=n(5744),P=n(8540),A=n(5833);function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}class L{get isNsfw(){return this.nsfw}get circle(){return k.Z.getCircle(this.circleId)}markAsRead(){this.isDm?x.Z.markRead(this.groupId):x.Z.markRead(this.circleId,this.id)}constructor(e){R(this,"id",""),R(this,"title",""),R(this,"Component",(e=>o.createElement(M,D({group:this},e)))),i().extend(this,e)}}function M({group:e,children:t=null}){if(T.e.useForceUpdater(E.MF.GROUP_UPDATE,(({circle:e,group:t})=>e.id===t.circleId&&t.id==t.id)),e.isNsfw&&!A.ZP.isNsfwVerified)return null;switch(e.type){default:return null;case E.YT.FOLDER:return o.createElement(F,{group:e},t);case E.YT.TEXT:return o.createElement(j,{group:e});case E.YT.VOICE:return o.createElement(z,{group:e});case E.YT.ANNOUNCEMENTS:return o.createElement(W,{group:e})}}function F({group:e,children:t}){return o.createElement("div",{className:"Group TypeFolder"},o.createElement("div",{className:"Title"},o.createElement(u,null)," ",e.title),o.createElement("div",{className:"FolderContents"},t))}function U(e){(0,b.IH)(e.circle.lastLocation=`app/circles/${e.circleId}/groups/${e.id}`),x.Z.markRead(e.circle.id,e.id)}function j({group:e}){const t={onClick:()=>U(e)};return o.createElement("div",{className:(0,E.Ch)("Group","TypeText",[I.Z.getSelectedGroup()===e,"Selected"])},o.createElement("div",D({className:"Title"},t),o.createElement(v.Z,null)," ",e.title,o.createElement(B,{group:e})))}function B({group:e}){const t=x.Z.useState((()=>x.Z.getUnreadMessageCount(e.circleId,e.id))),n=O.Z.useState((()=>i().size(O.Z.getTypingUsersForGroup(e.circleId,e.id))));return o.createElement("div",{className:"UnreadBlips Flex"},o.createElement(_.Z,{style:{opacity:n?1:0}}),!!t&&o.createElement("div",{className:"Blip Unread"},t>999?`${Math.round(t/1e3)}k`:t))}function z({group:e}){var t,n;const r=P.Z.useState((()=>P.Z.getVoiceMembers(e.circleId,e.id)));return o.createElement("div",{className:"Group TypeVoice"},o.createElement("div",{className:"Title"},o.createElement(f,null)," ",e.title),o.createElement("div",{className:"FolderContents"},o.createElement("div",{className:(0,E.Ch)("Group","TypeText",[I.Z.getSelectedGroup()===e,"Selected"]),onClick:function(){U(e)}},o.createElement("div",{className:"Title"},o.createElement(v.Z,null)," Text Chat",o.createElement(B,{group:e}))),o.createElement("div",{className:(0,E.Ch)("Group","TypeText",[(null===(t=S.ZP.currentRoom)||void 0===t?void 0:t.group)===e,"Selected"]),onClick:function(){var t;(null===(t=S.ZP.currentRoom)||void 0===t?void 0:t.group.id)===e.id?(0,b.IH)(`#app/circles/${e.circleId}/call`):new S.WK(e.circleId,e.id).connect()}},o.createElement("div",{className:"Title"},o.createElement(y.Z,null)," ",(null===(n=S.ZP.currentRoom)||void 0===n?void 0:n.group)===e?"Connected":"Join Room"),o.createElement("div",{className:"FolderContents"},r&&r.map((e=>o.createElement(V,{key:e,userId:e})))))))}function V({userId:e}){const t=S.ZP.currentRoom,n=N.default.useState((()=>N.default.getUser(e)));return console.log({room:t}),o.createElement("div",{className:"Group TypeText TypeUser"},o.createElement("div",{className:"Title"},o.createElement(n.AvatarComponent,{size:17}),n.displayName))}function W({group:e}){return o.createElement("div",{className:"Group TypeAnnouncement"},o.createElement("div",{className:"Title"},o.createElement(g,null)," ",e.title))}class q extends L{async initTypingListener(){for(;!this.id;)await new Promise((e=>setTimeout(e,0)));O.Z.tryCreateListenerFor("dms",this.userId)}get circleId(){return"dms"}get isNsfw(){return!1}get _ref(){return C.Z.doc("directmessages",q.getId(this.userId))}static getId(e){var t;return(null===(t=N.default.getLocalUser())||void 0===t?void 0:t.id)||console.error("Attempting to get a DM group ID before the user is initialized!"),[N.default.getLocalUser().id,e].sort().join("_")}constructor(...e){super(...e),R(this,"userId",""),R(this,"lastMessageDate",void 0),R(this,"Component",(()=>o.createElement(G,{group:this}))),this.initTypingListener()}}function G({group:e}){const t=N.default.useState((()=>N.default.getUser(e.userId)));return(null==t?void 0:t.displayName)?o.createElement(w.Z.Wrapper,{menu:o.createElement(t.ContextMenu,null),wrapperClassName:"DirectMessageGroup UserSection Flex",onClick:()=>(0,b.IH)(q.lastSelected=`#app/dms/${t.id}`)},o.createElement(t.AvatarComponent,{size:30}),o.createElement("div",{className:"Details"},o.createElement("h3",{className:"Username"},t.displayName),o.createElement(t.StatusText,{tooltipDirection:"none"}))):null}R(q,"lastSelected",null)},8529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(6486),i=n.n(r),o=n(7294),s=n(5697),a=n.n(s);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("polyline",{points:"3 6 5 6 21 6"}),o.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},c.displayName="Trash";const u=c;function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var h=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",d({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("circle",{cx:"12",cy:"12",r:"4"}),o.createElement("path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"}))}));h.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},h.displayName="AtSign";const f=h;var p=n(2655),m=n(6536),g=n(164),v=n(9606),y=n(2846),b=n(4702),w=n(1962),_=n(3513),E=n(9912),C=n(5744);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S{getContent(e={}){return w.Z.parse(this.content,this,e)}getCreationDate(e){return(0,y.i$)(null!=e?e:this.creationDate)}constructor(e){T(this,"id",""),T(this,"content",""),T(this,"senderId",""),T(this,"creationDate",null),T(this,"mentions",[]),T(this,"ContextMenu",(()=>o.createElement(k,{message:this}))),i().extend(this,e)}}function k({message:e}){const t=_.Z.getSelectedGroup(),n=C.default.getLocalUser(),r=(null==e?void 0:e.senderId)===n.id;return o.createElement(g.Z,null,r&&o.createElement(o.Fragment,null,o.createElement(g.Z.Item,{style:{color:"var(--busy-color)"},icon:o.createElement(u,null),autoClose:!0,onClick:()=>b.e.dispatch({type:y.MF.DELETE_MESSAGE,messageId:e.id,group:t})},"Delete"),o.createElement(g.Z.Item,{icon:o.createElement(p.Z,null),autoClose:!0,onClick:()=>b.e.dispatch({type:y.MF.START_EDIT_MESSAGE,message:e})},"Edit"),o.createElement(g.Z.Divider,null)),o.createElement(g.Z.Item,{icon:o.createElement(f,null),autoClose:!0,onClick:()=>b.e.dispatch({type:y.MF.RTA_APPEND_TEXT,text:` re:${e.id} `})},"Reply"),E.default.getSettingValue("extensions","developerTools","devMode")&&o.createElement(o.Fragment,null,o.createElement(g.Z.Divider,null),o.createElement(g.Z.SubMenuItem,{icon:o.createElement(m.Z,null),label:"Developer"},o.createElement(g.Z.Item,{onClick:()=>(0,v.vQ)(e.id)},"Copy Message ID"))))}},8997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(2846),i=n(4702),o=n(3513),s=n(5744);function a(e){const t=o.Z.getSelectedGroup();if(t)return i.e.dispatch({type:r.MF.SEND_MESSAGE,group:t,content:e}),!0}const l={clapclap:{description:"TheClapBestClapFeatureClapEver",handler:e=>a(["",...e.split(" "),""].join(" 👏 "))},lenny:{description:"All Lenny's proudly stolen from https://www.lennyfac.es",arguments:[{title:"type",description:"Choose your Lenny.",entries:{default:{value:"( ͡° ͜ʖ ͡°)"},shaven:{value:"( ° ͜ʖ °)"},confused:{value:"( ͠° ͟ʖ ͡°)"},eyes:{value:"( ͡ʘ ͜ʖ ͡ʘ)"},uwu:{value:"( ͡° ᴥ ͡°)"},shrug:{value:"¯\\_( ͡° ͜ʖ ͡°)_/¯"},licc:{value:"( ͡°👅 ͡°)"},army:{value:"( ͡°( ͡° ͜ʖ( ͡° ͜ʖ ͡°)ʖ ͡°) ͡°)"},bruh:{value:"(●__● )"}}}],handler:function(e,[t]){var n,r;return a((null!==(r=this.arguments[0].entries[null==t||null===(n=t.toLowerCase)||void 0===n?void 0:n.call(t)])&&void 0!==r?r:this.arguments[0].entries.default).value)}},"?":{description:"Someone say some dumb sh*t?",handler:()=>a("(｢•-•)｢ ʷʱʸ?")},asciicat:{description:"They're cute.",arguments:[{title:"type",description:"Choose your cat.",entries:{default:{value:"ㅇㅅㅇ"},flustered:{value:"(˃ᆺ˂)"},judgemental:{value:"/ᐠ-ꞈ-ᐟ\\"},stare:{value:"/ᐠ｡ꞈ｡ᐟ\\"}}}],handler:function(e,[t]){var n,r;return a((null!==(r=this.arguments[0].entries[null==t||null===(n=t.toLowerCase)||void 0===n?void 0:n.call(t)])&&void 0!==r?r:this.arguments[0].entries.default).value)}},get shrug(){return"0Nt4nUMOnPQWbhTmIH3Q5uvBtzJ2"===s.default.getLocalUser().id?{description:"E? More like L.",handler:()=>a("¯\\\\_(ツ)_/¯")}:null}}},3694:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(6486),i=n.n(r),o=n(2846),s=n(7921),a=n(4702),l=n(7219),c=n(2562),u=n(5295),d=n(9724);const h={},f=new class extends l.Z{getCircle(e){var t;return null!==(t=h[e])&&void 0!==t?t:(this.fetchCircle(e),new c.ZP({id:e,loading:!0,name:"..."}))}getCircles(){return h}async fetchCircle(e,t=!1){return new Promise((n=>{const r=s.Z.createSnapshotListener(s.Z.doc("circles",e),(s=>{var l;const u=s?i().extend(null!==(l=h[e])&&void 0!==l?l:new c.ZP,s):new c.ZP({id:e,name:"Invalid Circle"});d.Z.tryCreateListenerFor(e),a.e.dispatch({type:o.MF.CIRCLE_UPDATE,circle:u}),t&&r(),n(u)}))}))}destroyCircle(e){const t=h[e];if(!t)return;var n;t._unbindListener();const r=null!==(n=u.Z.getCleanupCache()[e])&&void 0!==n?n:{};for(const t in r)u.Z.cleanup(e,t);delete h[e]}}(a.e,{[o.MF.CIRCLE_UPDATE]:({circle:e})=>{h[e.id]=e},[o.MF.CIRCLE_UPDATE_GROUPS]:({circle:e,groups:t})=>{h[e.id]._groups=t}})},1756:(e,t,n)=>{"use strict";n.d(t,{m:()=>h,Z:()=>p});var r=n(6486),i=n.n(r),o=n(7294),s=n(2846),a=n(7921),l=n(4702),c=n(7219),u=n(5744);const d={"group-panel-size":250};function h(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}const f=new class extends c.Z{_save(){this._hasLoaded&&a.Z.set(this._databaseReference,d).catch((e=>console.error("Error saving CSS variables!",e.stack)))}getStyle(e){return d[h(e)]}getStyles(){return d}get Renderer(){return()=>(l.e.useForceUpdater(s.MF.UPDATE_CSS_VAR),l.e.useForceUpdater(s.MF.BATCH_UPDATE_CSS_VARS),o.createElement("style",{},`#root {\n\t\t\t\t\t${Object.entries(d).map((([e,t])=>`--${e}: ${t};`)).join("\n")}\n\t\t\t\t}`))}constructor(...e){super(...e);const t=()=>{u.default.getLocalUser()&&(this._databaseReference=a.Z.doc("usersettings",u.default.getLocalUser().id,"v2","cssVars"),a.Z.getDoc(this._databaseReference).then((e=>{this._hasLoaded=!0,l.e.dispatch({type:s.MF.BATCH_UPDATE_CSS_VARS,entries:null!=e?e:{}})})),u.default.removeListener(t))};setTimeout((()=>u.default.addListener(t)),0),this._save=i().debounce(this._save.bind(this),5e3)}}(l.e,{[s.MF.UPDATE_CSS_VAR]:({key:e,value:t})=>{d[h(e)]=t,f._save()},[s.MF.BATCH_UPDATE_CSS_VARS]:({entries:e})=>{for(const t in e){const n=["string","number"];~n.indexOf(typeof t)&&~n.indexOf(typeof e[t])&&(d[t]=e[t])}}}),p=f},7994:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(6486),i=n.n(r),o=n(2846),s=n(7921),a=n(4702),l=n(7219),c=n(6582),u=n(3158),d=n(5744);const h={default:{filter:[]}},f=new class extends l.Z{_save(){if(!this._hasLoaded)return;const e={};for(const t in h)i().get(h,[t,"filter"])&&(e[t]=h[t].filter);s.Z.set(this._filtersReference,e).catch(console.error.bind(null,"Failed to save emote filter settings!"))}getEmotePack(e){return i().get(h,[e],(this.fetchEmotePack(e),i().set(h,[e],{}),{}))}getCachedEmotePacks(){return h}getLocalEmotePacks(){const e=[];for(const t in h)i().get(h,[t,"filter"])&&e.push(t);return i().pick(h,...e)}async fetchEmotePack(e){if(i().get(h,[e,"_unbindPackListener"]))return;const t=s.Z.createSnapshotListener(s.Z.doc("emotepacks",e),(r=>{i().extend(h[e],r),null==r&&(t(),n())})),n=s.Z.createSnapshotListener(s.Z.collection("emotepacks",e,"emotes"),(({items:t=[]}={})=>{a.e.dispatch({type:o.MF.UPDATE_EMOTE_PACK,packId:e,emotes:t})}));i().extend(h[e],{_unbindPackListener:t,_unbindEmotesListener:n})}constructor(...e){super(...e),(0,d.awaitLocalUser)().then((e=>{this._filtersReference=s.Z.doc("usersettings",e.id,"v2","emotes"),s.Z.getDoc(this._filtersReference).then((e=>{this._hasLoaded=!0,a.e.dispatch({type:o.MF.UPDATE_EMOTE_FILTERS,packs:null!=e?e:{}})})),new Promise((async()=>{for(;!this._hasLoaded;)await new Promise((e=>setTimeout(e,200)));for(const e in h)this.fetchEmotePack(e)}))})),this._save=i().debounce(this._save.bind(this),5e3)}}(a.e,{[o.MF.UPDATE_EMOTE_FILTERS]:({filters:e})=>{for(const t in e)e[t]&&i().set(h,[t,"filter"],e[t])},[o.MF.UPDATE_EMOTE_PACK]:({packId:e,emotes:t})=>{for(const n of t)i().set(u.Z.getCachedEmotes(),[e,n.id],new c.Z({...n,packId:e}));i().set(h,[e,"emotes"],u.Z.getCachedEmotes()[e])}})},3158:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(6486),i=n.n(r),o=n(2846),s=n(7921),a=n(4702),l=n(7219),c=n(6582);const u={},d=new class extends l.Z{getEmote(e,t){var n;return null!==(n=i().get(u,[e,t]))&&void 0!==n?n:(this.fetchEmote(e,t),i().set(u,[e,t],new c.Z({packId:e,id:t,loading:!0})),i().get(u,[e,t]))}getCachedEmotes(){return u}async fetchEmote(e,t){const n=await s.Z.getDoc(s.Z.doc("emotepacks",e,"emotes",t));var r;const l=i().extend(null!==(r=i().get(u,[e,t]))&&void 0!==r?r:new c.Z,{...n,packId:e,loading:!1});return a.e.dispatch({type:o.MF.FETCH_EMOTE,packId:e,emoteId:t,emote:l}),l}}(a.e,{[o.MF.FETCH_EMOTE]:({packId:e,emoteId:t,emote:n})=>{i().set(u,[e,t],i().extend(i().get(u,[e,t]),n))}})},3513:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(3680),i=n(6486),o=n.n(i),s=n(8623),a=n(2846),l=n(7921),c=n(4702),u=n(7219),d=n(4719),h=n(3694),f=n(5744);const p={},m={},g=new class extends u.Z{getGroup(e,t){if("*"!==e)return o().get(p,[e,t]);for(const e in p){const n=p[e][t];if(n)return n}}getSelectedGroup(){return"dms"===s.Jm[0]?this.getGroup("dms",s.Jm[1]):this.getGroup(s.Jm[1],s.Jm[3])}getGroups(e){return p[e]||this.fetchGroups(e),p[e]}getAllCachedGroups(){return p}async fetchGroups(e){if(m[e])return;if("dms"===e)return await this.fetchDms();const t=h.Z.getCircle(e);if(!t)return console.error(`Can't fetch groups for uncached circle with ID "${e}"!`);for(;t.loading;)await new Promise((e=>setTimeout(e,100)));return new Promise((n=>{const r=l.Z.createSnapshotListener(l.Z.collection("circles",e,"groups"),(({items:r=[]}={})=>{for(const n of r){var i,s,l,u,h;const r=o().extend(null!==(h=o().get(p,[e,n.id]))&&void 0!==h?h:new d.ZP,n,{parent:null===(i=t.groupPositions)||void 0===i||null===(s=i[n.id])||void 0===s?void 0:s[0],position:null===(l=t.groupPositions)||void 0===l||null===(u=l[n.id])||void 0===u?void 0:u[1]});c.e.dispatch({type:a.MF.GROUP_UPDATE,circle:t,group:r})}c.e.dispatch({type:a.MF.CIRCLE_UPDATE_GROUPS,circle:t,groups:p[e]}),n(p[e])}));m[e]=r}))}async fetchDms(){let e;for(;!(e=f.default.getLocalUser());)await new Promise((e=>setTimeout(e,100)));return new Promise((t=>{const n=l.Z.createSnapshotListener((0,r.IO)(l.Z.collection("userdata",e.id,"dms"),(0,r.Xo)("lastMessageDate","desc")),(({items:e=[]}={})=>{for(const t of e){var n;const e=o().extend(null!==(n=o().get(p,["dms",t.id]))&&void 0!==n?n:new d.Pe,t,{circleId:"dms",isDm:!0,userId:t.id});c.e.dispatch({type:a.MF.DM_UPDATE,group:e,userId:t.id})}c.e.dispatch({type:a.MF.BATCH_UPDATE_DMS,groups:p.dms}),t(p.dms)}));m.dms=n}))}}(c.e,{[a.MF.GROUP_UPDATE]:({circle:e,group:t})=>{o().set(p,[e.id,t.id],t)},[a.MF.DM_UPDATE]:({group:e,userId:t})=>{o().set(p,["dms",t],e)}})},8746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(6486),i=n.n(r),o=n(2846),s=n(7921),a=n(4702),l=n(7219),c=n(3513),u=n(5744);const d={},h={},f={};let p=!1;const m=class extends l.Z{async _initializeReadListener(){let e;for(;!u.default||!(e=u.default.getLocalUser());)await new Promise((e=>setTimeout(e,250)));s.Z.createSnapshotListener(s.Z.doc("usersettings",e.id,"v2","readCounts"),(e=>{e=s.Z.serializeObject(e);for(const t in e)for(const n in e[t])a.e.dispatch({type:o.MF.UPDATE_READ_COUNT,circleId:t,groupId:n,value:e[t][n],fromDb:!0});p=!0}))}_initializeListenerFor(e){f[e]||(f[e]=s.Z.createSnapshotListener(s.Z.doc("messageCounts",e),(t=>{t=s.Z.serializeObject(t);const n=c.Z.getSelectedGroup();for(const r in t)"t"!==r&&(a.e.dispatch({type:o.MF.UPDATE_MESSAGE_COUNT,circleId:e,groupId:r,value:t[r]||0}),(null==n?void 0:n.id)===r&&document.hasFocus()&&this.markRead(e,r));a.e.dispatch({type:o.MF.UPDATE_MESSAGE_COUNT,circleId:e,groupId:"__total",value:t.t||0}),(null==n?void 0:n.groupId)===e&&document.hasFocus()&&this.markRead(e)})))}getMessageCount(e,t=null){return f[e]||this._initializeListenerFor(e),i().get(d,[e,null!=t?t:"__total"])||0}getUnreadMessageCount(e,t=null){f[e]||this._initializeListenerFor(e);let n=0,r=0;var o;if(null!=t||~e.split("_").indexOf(u.default.getLocalUser().id))n=this.getMessageCount(e,t),r=i().get(h,[e,null!=t?t:"__total"]);else for(const t in null!==(o=d[e])&&void 0!==o?o:{})"__total"!==t&&(n+=this.getMessageCount(e,t),r+=i().get(h,[e,t],0));return(!r||n<r)&&n!==r?(i().set(h,[e,t],n),n):n-r<=0?0:n-r}markRead(e,t=null,n=null){a.e.dispatch({type:o.MF.UPDATE_READ_COUNT,circleId:e,groupId:null!=t?t:"__total",value:null!=n?n:this.getMessageCount(e,t)})}pushValue(e,t,n=1){const r=i().get(d,[e,t]);if(~[r,i().get(d,[e,"__total"])].indexOf(void 0))return;i().set(d,[e,t],r+n),i().set(d,[e,"__total"],r+n);const o=c.Z.getSelectedGroup();o&&o.circleId===e&&o.id===t&&this.markRead(e,t)}},g=i().debounce((()=>{p&&s.Z.set(s.Z.doc("usersettings",u.default.getLocalUser().id,"v2","readCounts"),h)}),3e3),v=new m(a.e,{[o.MF.UPDATE_MESSAGE_COUNT]:({circleId:e,groupId:t,value:n})=>{i().set(d,[e,t],n)},[o.MF.UPDATE_READ_COUNT]:({circleId:e,groupId:t,value:n,fromDb:r})=>{i().set(h,[e,t],n),!r&&g()}});v._initializeReadListener();const y=v},3095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(6486),i=n.n(r),o=n(2846),s=n(4702),a=n(7219);const l={},c=new class extends a.Z{getReads(e,t){return i().get(l,[e,t])}getReadsForMessage(e,t,n){var r;const i=null!==(r=this.getReads(e,t))&&void 0!==r?r:{};return Object.entries(i).filter((([,e])=>e.messageId===n)).map((([e,t])=>({userId:e,timestamp:t.timestamp})))}getAllCachedReads(){return l}}(s.e,{[o.MF.UPDATE_READS]:({circleId:e,groupId:t,reads:n})=>{i().get(l,[e,t])||i().set(l,[e,t],{});for(const r of n)l[e][t][r.id]=i().pick(r,"messageId","timestamp")}})},5295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(3680),i=n(6486),o=n.n(i),s=n(2846),a=n(7921),l=n(4702),c=n(7219),u=n(4719),d=n(8529),h=n(3513),f=n(8746),p=n(5744);const m={},g={},v={},y={},b={},w={},_=new class extends c.Z{getMessage(e,t,n){return o().get(g,[e,t,n])}getMessages(e,t){var n;return null!==(n=o().get(g,[e,t]))&&void 0!==n?n:(this.fetchMessages(e,t),o().set(g,[e,t],{}),null)}getOrderedMessages(e,t){return Object.values(this.getMessages(e,t)||{}).sort(((e,t)=>e.creationDate-t.creationDate))}getMessageGroups(e,t){const n=this.getOrderedMessages(e,t);if(!n.length)return[];const r=[];let i,o;for(const e of n){const t=(null==i?void 0:i.senderId)!==e.senderId,n=e.creationDate-(null==i?void 0:i.creationDate)>600;(!i||t||n)&&(o&&i&&r.push({key:"mg-"+i.id,userId:i.senderId,messages:o}),o=[]),o.push(e),i=e}return o&&r.push({key:"mg-"+o[0].id,userId:o[0].senderId,messages:o}),r.reverse()}getAllCachedMessages(){return g}getCleanupCache(){return v}isEditingMessage(e){return!!m[e]}isFetching(e,t){return!0===o().get(y,[e,t],!1)}tickCache(e,t){var n;const r=o().get(v,[e,t],{});null===(n=r.tick)||void 0===n||n.call(r)}cleanup(e,t){var n;const r=o().get(v,[e,t],{});null===(n=r.instantly)||void 0===n||n.call(r)}async fetchMessages(e,t){if(o().get(y,[e,t]))return;o().set(y,[e,t],!0);const n="dms"===e?u.Pe.getId(t):null;return new Promise((i=>{const c="dms"===e?a.Z.collection("directmessages",n,"messages"):a.Z.collection("circles",e,"groups",t,"messages");o().set(b,[e,t],c);const u=a.Z.createSnapshotListener((0,r.IO)(c,(0,r.Xo)("creationDate"),(0,r.vh)(50)),(({changes:n=[]}={})=>{const r=o().get(y,[e,t]);o().set(y,[e,t],null);for(const i of n)switch(i.type){case"added":if(1===n.length&&0===i.newIndex&&!r)break;l.e.dispatch({type:s.MF.MESSAGE_CREATE,circleId:e,groupId:t,message:new d.Z(i.data)}),n.length<=2&&f.Z.pushValue(e,t);break;case"modified":var a;l.e.dispatch({type:s.MF.MESSAGE_UPDATE,circleId:e,groupId:t,message:o().extend(null!==(a=this.getMessage(e,t))&&void 0!==a?a:new d.Z(i.data),i.data)});break;case"removed":l.e.dispatch({type:s.MF.MESSAGE_DELETE,circleId:e,groupId:t,messageId:i.doc.id})}setTimeout((()=>{l.e.dispatch({type:s.MF.CHAT_UPDATE,circleId:e,groupId:t})}),0),i(o().get(g,[e,t]))})),h="dms"===e?a.Z.collection("directmessages",n,"lastread"):a.Z.collection("circles",e,"groups",t,"lastread"),p=a.Z.createSnapshotListener((0,r.IO)(h,(0,r.Xo)("timestamp"),(0,r.vh)(10)),(({items:n=[]}={})=>{l.e.dispatch({type:s.MF.UPDATE_READS,circleId:e,groupId:t,reads:n})})),m=()=>{u(),p(),delete g[e][t],delete v[e][t]};o().set(v,[e,t],{instantly:m,tick:o().debounce(m,6e5)})}))}}(l.e,{[s.MF.MESSAGE_CREATE]:({circleId:e,groupId:t,message:n})=>{o().set(g,[e,t,n.id],n)},[s.MF.MESSAGE_UPDATE]:({circleId:e,groupId:t,message:n})=>{o().set(g,[e,t,n.id],n)},[s.MF.MESSAGE_DELETE]:({circleId:e,groupId:t,messageId:n})=>{var r,i;null===(r=g[e])||void 0===r||null===(i=r[t])||void 0===i||delete i[n]},[s.MF.SEND_MESSAGE]:async({circleId:e,groupId:t,group:n=null,content:i})=>{if(n||(n=h.Z.getGroup(e,t)),!n)return console.error("Can't send message to uncached/invalid group!",{circleId:e,groupId:t});const s=p.default.getLocalUser();if(n.isDm&&n.isPhantom){const e={creationDate:(0,r.Bt)(),creator:s.id,members:[s.id,n.userId]};await a.Z.set(a.Z.doc("directmessages",n.groupId),e),o().assign(n,e),await a.Z.set(a.Z.doc("userdata",n.userId,"dms",s.id),{groupId:n.groupId}),n.userId!==s.id&&await a.Z.set(a.Z.doc("userdata",s.id,"dms",n.userId),{groupId:n.groupId})}(0,r.ET)((0,r.hJ)(n._ref,"messages"),{senderId:s.id,creationDate:(0,r.Bt)(),content:i})},[s.MF.DELETE_MESSAGE]:({circleId:e,groupId:t,group:n=null,messageId:i})=>{n||(n=h.Z.getGroup(e,t)),n&&(0,r.oe)(_.getMessage(n.circleId,n.id,i)._ref)},[s.MF.EDIT_MESSAGE]:({circleId:e,groupId:t,group:n=null,messageId:i,content:o})=>{if(n||(n=h.Z.getGroup(e,t)),!n)return;delete m[i];const s=_.getMessage(n.circleId,n.id,i);s&&o.trim()&&o.trim()!==s.content.trim()&&(0,r.r7)(s._ref,{content:o,editedAt:(0,r.Bt)()})},[s.MF.START_EDIT_MESSAGE]:({message:e})=>{m[e.id]=!0},[s.MF.FETCH_MORE_MESSAGES]:async({circleId:e,groupId:t})=>{if(o().get(fetch,[e,t]))return;if(o().get(w,[e,t]))return;let n=o().get(b,[e,t]);if(!n)return console.error("Can't fetch more messages in a group that isn't cached!",e,t);const i=_.getOrderedMessages(e,t)[0];if(!i)return console.error("Can't fetch more messages if none are cached!",e,t);o().set(y,[e,t],!0),n=(0,r.IO)(n,(0,r.Xo)("creationDate"),(0,r.vh)(50),(0,r.Lx)(i.creationDate)),await a.Z.getDocs(n).then((n=>{(null==n?void 0:n.length)||o().set(w,[e,t],!0);for(const r of n)l.e.dispatch({type:s.MF.MESSAGE_CREATE,circleId:e,groupId:t,message:new d.Z(r)});l.e.dispatch({type:s.MF.CHAT_UPDATE,circleId:e,groupId:t})})).catch(console.error.bind(null,"Failed to fetch more messages!",e,t)),o().set(y,[e,t],null)}}),E=_},9912:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SettingFieldTypes:()=>Z,SettingsCssRenderer:()=>oe,default:()=>ie,defaultSettingsSchematic:()=>Y,settingsDispatcher:()=>ne});var r=n(4894),i=n(6486),o=n.n(i),s=n(7294),a=n(5697),l=n.n(a);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return s.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),s.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),s.createElement("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.createElement("line",{x1:"9",y1:"21",x2:"9",y2:"9"}))}));u.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},u.displayName="Layout";const d=u;function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var f=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return s.createElement("svg",h({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),s.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),s.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))}));f.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},f.displayName="Bell";const p=f;function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var g=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return s.createElement("svg",m({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),s.createElement("circle",{cx:"12",cy:"12",r:"10"}),s.createElement("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),s.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),s.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));g.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},g.displayName="Smile";const v=g;function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}var b=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return s.createElement("svg",y({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),s.createElement("line",{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}),s.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),s.createElement("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),s.createElement("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"}))}));b.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},b.displayName="Package";const w=b;function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}var E=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return s.createElement("svg",_({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),s.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),s.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),s.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),s.createElement("rect",{x:"3",y:"14",width:"7",height:"7"}))}));E.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},E.displayName="Grid";const C=E;function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}var S=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return s.createElement("svg",T({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),s.createElement("circle",{cx:"12",cy:"12",r:"10"}),s.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),s.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));S.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},S.displayName="HelpCircle";const k=S;function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}var x=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return s.createElement("svg",I({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),s.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),s.createElement("polyline",{points:"14 2 14 8 20 8"}),s.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),s.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),s.createElement("polyline",{points:"10 9 9 9 8 9"}))}));x.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},x.displayName="FileText";const O=x;var N=n(3752),P=n(329),A=n(2126),R=n(7611),D=n(2846);function L({children:e}){const[t,n]=s.useState(!1);return s.createElement("div",{className:(0,D.Ch)("LegalSection",[t,"Expanded"])},s.createElement("div",{className:"Contents"},e),s.createElement("div",{className:"ToggleExpandedState",onClick:()=>n(!t)},t?"Show Less":"Show More"))}var M=n(7595),F=n(4728),U=n(2456);function j({theme:e={}}){return s.createElement("div",{className:"ThemePreview Flex",style:e,onClick:()=>{for(const t in e){const n=t.slice(2).replace(/-./g,(e=>e.toUpperCase()[1]));ne.dispatch({type:D.MF.UPDATE_SETTING,path:["appearance","colors",n],value:e[t]})}}},s.createElement("div",{className:"DarkenBgEg AbsoluteCover"}),s.createElement("div",{className:"CirclesEg"},s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{style:{marginTop:"auto"}}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"})),s.createElement("div",{className:"GroupsEg"},s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg Selected"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"}),s.createElement("div",{className:"Eg"})),s.createElement("div",{className:"ChatEg"},s.createElement("div",{className:"Eg"},s.createElement("div",{className:"Flex"},s.createElement("div",{className:"Avatar"}),s.createElement("div",{className:"Username"})),s.createElement("div",{className:"Message"}),s.createElement("div",{className:"Message"})),s.createElement("div",{className:"Eg Local"},s.createElement("div",{className:"Flex"},s.createElement("div",{className:"Avatar"}),s.createElement("div",{className:"Username"})),s.createElement("div",{className:"Message"}),s.createElement("div",{className:"Message"}),s.createElement("div",{className:"Message"})),s.createElement("div",{className:"Eg"},s.createElement("div",{className:"Flex"},s.createElement("div",{className:"Avatar"}),s.createElement("div",{className:"Username"})),s.createElement("div",{className:"Message"})),s.createElement("div",{className:"Eg Local"},s.createElement("div",{className:"Flex"},s.createElement("div",{className:"Avatar"}),s.createElement("div",{className:"Username"})),s.createElement("div",{className:"Message"}),s.createElement("div",{className:"Message"}),s.createElement("div",{className:"Message"}),s.createElement("div",{className:"Message"}),s.createElement("div",{className:"Message"}),s.createElement("div",{className:"Message"}))))}var B,z,V=n(7921),W=n(4702),q=n(7219),G=n(1756),H=n(5744),$=n(7294);const Z={STRING:"STRING",COLOUR:"COLOUR",BUTTON:"BUTTON",SWITCH:"SWITCH",CUSTOM:"CUSTOM",SLIDER:"SLIDER"};var K;const Y={account:{__icon:$.createElement(N.Z,null),profile:{},privacy:{ageVerification:{type:Z.CUSTOM,note:"WARNING - If you input a false age and this is discovered, your account will be terminated.",component:()=>$.createElement("input",{ref:e=>e&&(e.valueAsDate=new Date(null!==(K=re.getSettingValue("account","privacy","ageVerification"))&&void 0!==K?K:(new Date).toString())),onInput:e=>e.target.valueAsDate&&(e.target.valueAsDate.setHours(24),ne.dispatch({type:D.MF.UPDATE_SETTING,path:["account","privacy","ageVerification"],value:e.target.valueAsDate.toString()})),type:"date"})},showNsfwContent:{type:Z.SWITCH,label:"Show NSFW Content",note:$.createElement($.Fragment,null,"Whether or not NSFW content will be displayed.",$.createElement("br",null),"If your account is not age-verified, this setting does nothing."),value:!0}},logOut:{$:{type:Z.BUTTON,text:"Log Out",color:"var(--busy-color)",action:()=>(0,r.w7)(V.Z.auth).then((()=>window.location.assign("/")))}}},appearance:{__icon:$.createElement(d,null),themes:{__hideReset:!0,"City Fog (default)":{type:Z.CUSTOM,component:()=>$.createElement(j,{theme:Object.entries(Y.appearance.colors).reduce(((e,[t,{value:n}])=>o().set(e,[`--${(0,G.m)(t)}`],n)),{})})},crehanBlue:{type:Z.CUSTOM,component:()=>$.createElement(j,{theme:{"--primary-color":"#3e92d7","--secondary-color":"#ab8cd4","--text-color":"#ced7de","--primary-bg":"#3a4354","--secondary-bg":"#4a566c","--tertiary-bg":"#54627c","--darken-bg":"rgba(0, 0, 0, 0.12)"}})},flashbang:{type:Z.CUSTOM,component:()=>$.createElement(j,{theme:{"--primary-color":"#ff7777","--secondary-color":"#75a5ff","--text-color":"#383838","--primary-bg":"#ffffff","--secondary-bg":"#dddddd","--tertiary-bg":"#bbbbbb","--darken-bg":"rgba(0, 0, 0, 0.075)"}})},amoled:{type:Z.CUSTOM,component:()=>$.createElement(j,{theme:{"--primary-color":"#f25a85","--secondary-color":"#5a9cf2","--text-color":"#dddddd","--primary-bg":"#000000","--secondary-bg":"#131313","--tertiary-bg":"#252525","--darken-bg":"rgba(255, 255, 255, 0.065)"}})},nordPolarNight:{type:Z.CUSTOM,component:()=>$.createElement(j,{theme:{"--primary-color":"#8FBCBB","--secondary-color":"#88C0D0","--text-color":"#D8DEE9","--primary-bg":"#2E3440","--secondary-bg":"#3B4252","--tertiary-bg":"#434C5E","--darken-bg":"#3B4252"}})},cirlosLegacy:{type:Z.CUSTOM,component:()=>$.createElement(j,{theme:{"--primary-color":"#C0A1FF","--secondary-color":"#C0A1FF","--text-color":"#ffffff","--primary-bg":"#272033","--secondary-bg":"#302840","--tertiary-bg":"#392F4D","--darken-bg":"rgba(255, 255, 255, 0.05)"}})},crimson:{type:Z.CUSTOM,component:()=>$.createElement(j,{theme:{"--primary-color":"#dd5555","--secondary-color":"#dd8455","--text-color":"#ccccd4","--primary-bg":"#321a1a","--secondary-bg":"#452121","--tertiary-bg":"#542727","--darken-bg":"rgba(0, 0, 0, 0.3)"}})},dracula:{type:Z.CUSTOM,component:()=>$.createElement(j,{theme:{"--primary-color":"#bd93f9","--secondary-color":"#ff79c6","--text-color":"#f8f8f2","--primary-bg":"#282a36","--secondary-bg":"#303241","--tertiary-bg":"#363949","--darken-bg":"rgba(0, 0, 0, 0.15)"}})}},colors:{},background:{image:{type:Z.STRING,label:"Image URL",note:"Must link directly to an image.",value:""},positionX:{type:Z.SLIDER,label:"Position X",value:50,step:1,min:0,max:100,renderValue:e=>e.toFixed(0)+"%"},positionY:{type:Z.SLIDER,label:"Position Y",value:50,step:1,min:0,max:100,renderValue:e=>e.toFixed(0)+"%"},brightness:{type:Z.SLIDER,label:"Brightness",value:75,step:1,min:0,max:100,renderValue:e=>e.toFixed(0)+"%"},blurRadius:{type:Z.SLIDER,label:"Blur Radius",value:0,step:1,min:0,max:20,renderValue:e=>e.toFixed(0)+"px"}},iconStyles:{avatarShape:{type:Z.SWITCH,label:"Use circular style",value:!1},circleShape:{type:Z.SWITCH,label:"Use circular style",value:!1}},otherStyles:{localMessageDirection:{type:Z.SWITCH,label:"Display your messages right-to-left",value:!1}},richTextArea:{renderRich:{type:Z.SWITCH,label:"Render markdown in RTA",value:!0}}},notifications:{__icon:$.createElement(p,null),toasts:{},audio:{}},communication:{__icon:$.createElement(P.Z,null),voice:{},video:{}},emotes:{__icon:$.createElement(v,null),library:{},store:{}},extensions:{__icon:$.createElement(w,null),store:{},plugins:{},themes:{},customStyles:{},developerTools:{devMode:{type:Z.SWITCH,label:"Developer Mode",note:"Displays the 'Developer' sub-menu on some context menus.",value:!1}}},miscellaneous:{__icon:$.createElement(C,null),aboutMe:{},changeLogs:{},developerTools:{}},help:{__icon:$.createElement(k,null),guides:{},markdownRules:{},shortcutsMap:{}},legal:{__icon:$.createElement(O,null),communityGuidelines:{[`Version ${A.BK}`]:{type:Z.CUSTOM,component:()=>$.createElement(L,null,$.createElement(A.ZP,null))}},termsOfService:{[`Version ${U.DJ}`]:{type:Z.CUSTOM,component:()=>$.createElement(L,null,$.createElement(U.ZP,null))}},privacyPolicy:{[`Version ${F.bW}`]:{type:Z.CUSTOM,component:()=>$.createElement(L,null,$.createElement(F.ZP,null))}},cookiesPolicy:{"Version 1":{type:Z.CUSTOM,component:()=>$.createElement(L,null,$.createElement(R.Z,null))}},licenses:{"Version 1":{type:Z.CUSTOM,component:()=>$.createElement(L,null,$.createElement(M.I,null))}}},__properties:{}},Q=["primaryColor","secondaryColor","textColor","primaryBg","secondaryBg","tertiaryBg","darkenBg"],X={primaryColor:"The primary accent color, used to highlight most elements.",secondaryColor:"The secondary accent color, used to highlight other elements.",textColor:"The base text color for the app.",primaryBg:"The primary background color, used as the background color for almost everything.",secondaryBg:"The secondary background color, used to highlight some element backgrounds.",tertiaryBg:"The tertiary background color, used to double highlight some element backgrounds.",darkenBg:"The background overlay color, used to darken sections of background."},J=null===(z=(B=document.documentElement).computedStyleMap)||void 0===z?void 0:z.call(B);if(J){for(const e of Q){const t=`--${(0,G.m)(e)}`;Y.appearance.colors[e]={type:Z.COLOUR,label:(0,D.JR)(e),note:X[e],value:J.get(t)[0].trim()}}Y.appearance.colors.themePreview={type:Z.CUSTOM,value:null,component:()=>$.createElement(j,null)}}const ee={},te=class extends q.Z{_save(){this._hasLoaded&&V.Z.set(this._databaseReference,ee).catch((e=>console.error("Error saving settings!",e.stack)))}getSettingValue(...e){e=o().flatten(e);const t=o().get(Y,e);return void 0===t&&"__properties"!==e[0]?console.error("No setting at path",e.join(".")):o().get(ee,[...e,"value"],null==t?void 0:t.value)}constructor(...e){super(...e),(0,H.awaitLocalUser)().then((e=>{e&&(this._databaseReference=V.Z.doc("usersettings",e.id,"v2","properties"),V.Z.getDoc(this._databaseReference).then((e=>{this._hasLoaded=!0,ne.dispatch({type:D.MF.BATCH_UPDATE_SETTINGS,entries:null!=e?e:{}})})))})),this._1=o().debounce(this._save.bind(this),5e3)}},ne=new W.Z,re=new te(ne,{[D.MF.UPDATE_SETTING]:({path:e,value:t})=>{o().get(Y,e)||"__properties"===e[0]?(o().set(ee,[...e,"value"],t),re._save()):console.warn("Invalid setting was passed!",{path:e,value:t})},[D.MF.BATCH_UPDATE_SETTINGS]:({entries:e})=>{o().extend(ee,e)}}),ie=re;function oe(){var e,t;ne.useForceUpdater(D.MF.UPDATE_SETTING),ne.useForceUpdater(D.MF.BATCH_UPDATE_SETTINGS);const n={"appearance.background.image":n=>n&&`\n\t\t\t.Core::before,\n\t\t\t.SettingsModal::before {\n\t\t\t\tcontent: "";\n\n\t\t\t\tbackground-image: url("${n}");\n\t\t\t\tbackground-position:\n\t\t\t\t\t${null!==(e=re.getSettingValue("appearance","background","positionX"))&&void 0!==e?e:50}%\n\t\t\t\t\t${null!==(t=re.getSettingValue("appearance","background","positionY"))&&void 0!==t?t:50}%;\n\t\t\t\tbackground-size: cover;\n\n\t\t\t\tposition: fixed;\n\t\t\t\twidth: 100vw;\n\t\t\t\theight: 100vh;\n\n\t\t\t\tz-index: -1000;\n\n\t\t\t\tfilter:\n\t\t\t\t\tbrightness(${re.getSettingValue("appearance","background","brightness")/100})\n\t\t\t\t\tblur(${re.getSettingValue("appearance","background","blurRadius")}px);\n\t\t\t}\n\n\t\t\t.SettingsModal:before { z-index: 0; }\n\n\t\t\t.MessageGroup, #root .RichTextArea .Renderer {\n\t\t\t\tbackground-color: var(--darken-bg);\n\t\t\t}\n\n\t\t\t.MessageGroup {\n\t\t\t\tborder: none;\n\t\t\t\tmargin-top: 5px;\n\t\t\t}\n\n\t\t\t.Messages {\n\t\t\t\tbackground-color: var(--darken-bg);\n\t\t\t}\n\t\t`,"appearance.iconStyles.avatarShape":e=>e&&"\n\t\t\t.AvatarContainer, .AvatarContainer > .Avatar {\n\t\t\t\tborder-radius: 100%;\n\t\t\t}\n\t\t","appearance.iconStyles.circleShape":e=>e&&"\n\t\t\t.Circle, .Circle > .Icon {\n\t\t\t\tborder-radius: 100%;\n\t\t\t}\n\t\t","appearance.otherStyles.localMessageDirection":e=>e&&"\n\t\t\t.MessageGroup.LocalUser {\n\t\t\t\tdirection: rtl;\n\t\t\t}\n\n\t\t\t.MessageGroup.LocalUser > .Message {\n\t\t\t\tdirection: ltr;\n\t\t\t\tflex-direction: row-reverse;\n\t\t\t}\n\n\t\t\t.MessageGroup.LocalUser > .Message > .MessageContent {\n\t\t\t\ttext-align: right;\n\t\t\t\tmargin-right: 50px;\n\t\t\t}\n\n\t\t\t.MessageGroup.LocalUser > .UserSection .Status {\n\t\t\t\tmargin-left: 5px;\n\t\t\t}\n\n\t\t\t.MessageGroup.LocalUser > .Message > .TimestampContainer {\n\t\t\t\torder: 5;\n\t\t\t\tmargin-right: auto;\n\t\t\t}\n\t\t",...Object.keys(Y.appearance.colors).reduce(((e,t)=>o().set(e,[`appearance.colors.${t}`],(e=>e&&`\n\t\t\t\t:root {\n\t\t\t\t\t--${(0,G.m)(t)}: ${e};\n\t\t\t\t}\n\t\t\t`))),{})};return $.createElement("style",null,Object.keys(n).map((e=>n[e](re.getSettingValue(...e.split(".")))||"")).join("\n"))}},9724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(6486),i=n.n(r),o=n(2846),s=n(4702),a=n(9480),l=n(7219),c=n(4719),u=n(3513),d=n(5744);const h={},f={},p={},m=new class extends l.Z{_getRefPath(e,t=null){return"dms"===e?`typingIndicators/dms/${c.Pe.getId(t)}`:t?`typingIndicators/${e}/${t}`:`typingIndicators/${e}`}getTypingUsersForCircle(e){if("dms"===e)throw new Error("Not allowed to fetch all DM typing indicators!");return i().get(h,[e])}getTypingUsersForGroup(e,t){return i().get(h,"dms"===e?[t]:[e,t],{})}getAllTypingUsers(){return h}tryCreateListenerFor(e,t=null){if(f[null!=t?t:e]||!e&&!t)return;const n=this._getRefPath(e,t),r=a.Z.createListener(n,(n=>{const r=n.val();s.e.dispatch({type:o.MF.UPDATE_TYPING_INDICATORS,indicators:r,circleId:e,userId:t})}));f[null!=t?t:e]=()=>{r(),delete f[null!=t?t:e]}}async startTyping(){const e=u.Z.getSelectedGroup();if(!e)return;const t=`${this._getRefPath(e.circleId,e.id)}/${d.default.getLocalUser().id}`;p[t]||(p[t]=a.Z.createDisconnectListener(t),await p[t].remove().catch(console.error.bind(null,"Failed to create typing disconnect listener: "))),i().get(this.getTypingUsersForGroup(e.circleId,e.id),[d.default.getLocalUser().id])||a.Z.set(t,{t:!0}).catch(console.error.bind(null,"Failed to set typing state!")),this.stopTypingSoft(e.circleId,e.id)}stopTyping(e,t){if(!e){const n=u.Z.getSelectedGroup();if(!n)return;e=n.circleId,t=n.id}const n=`${this._getRefPath(e,t)}/${d.default.getLocalUser().id}`;a.Z.set(n,null).catch(console.error.bind(null,"Failed to stop typing!"))}constructor(...e){var t,n,r;super(...e),t=this,n="stopTypingSoft",r=i().debounce(this.stopTyping.bind(this),5e3),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}}(s.e,{[o.MF.UPDATE_TYPING_INDICATORS]:({circleId:e,userId:t,indicators:n})=>{i().set(h,[t||e],n)}})},5744:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p,awaitLocalUser:()=>m});var r=n(6486),i=n.n(r),o=n(9586),s=n(2846),a=n(7921),l=n(4702),c=n(7219),u=n(5833);let d;const h={SYSTEM:new u.ZP({id:"SYSTEM",displayName:"System",status:s.J0.BOT,avatarUrl:o.Z,profileBackgroundNsfw:"https://c.tenor.com/Z6gmDPeM6dgAAAAC/dance-moves.gif",feed:"Giving friendly welcomes and farewells. ♥"})},f=new class extends c.Z{getLocalUser(){return d}getUser(e){var t;return null!==(t=h[e])&&void 0!==t?t:(this.fetchUser(e),h[e]=new u.ZP({id:e,loading:!0,displayName:"..."}))}getUsers(){return h}fetchUser(e,t=!1){return e?new Promise((n=>{const r=a.Z.createSnapshotListener(a.Z.doc("userdata",e),(o=>{var a,c;(null===(a=h[e])||void 0===a?void 0:a.loading)&&delete h[e];const d=o?i().extend(null!==(c=h[e])&&void 0!==c?c:new u.ZP,o):new u.ZP({id:e,displayName:"Deleted User"});l.e.dispatch({type:s.MF.USER_UPDATE,user:d}),t&&r(),n(d)}))})):null}}(l.e,{[s.MF.LOCAL_USER_UPDATE]:({user:e})=>{d=e},[s.MF.USER_UPDATE]:({user:e})=>{h[e.id]=e}}),p=f;function m(){return new Promise((async e=>{setTimeout((()=>{let t=f.getLocalUser();if(t)e(t);else{const n=()=>{t=f.getLocalUser(),t&&(e(t),f.removeListener(n))};f.addListener(n)}}),0)}))}},8540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(6486),i=n.n(r),o=n(2846),s=n(4702),a=n(7219),l=n(7451),c=n(2345),u=n(9178);const d={},h=new class extends a.Z{getVoiceMembers(e,t){return i().get(d,[e,t])}getAllVoiceMembers(){return d}}(s.e,{[o.MF.UPDATE_VOICE_MEMBERS]:({circleId:e,groupId:t,users:n})=>{var r;const s=i().get(d,[e,t],[]);if((null===(r=u.ZP.currentRoom)||void 0===r?void 0:r.group.id)===t){for(const e of s)~n.indexOf(e)||(0,o.GN)(c,.5);for(const e of n)~s.indexOf(e)||(0,o.GN)(l,.5)}i().set(d,[e,t],n)}})},5833:(e,t,n)=>{"use strict";n.d(t,{cB:()=>H,ZP:()=>W});var r=n(6486),i=n.n(r),o=n(7294),s=n(5697),a=n.n(s);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),o.createElement("polyline",{points:"21 15 16 10 5 21"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},c.displayName="Image";const u=c;function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var h=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",d({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}))}));h.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},h.displayName="Maximize";const f=h;var p=n(3752),m=n(1912),g=n(616),v=n(6536),y=n(8623),b=n(164),w=n(9606),_=n(2655),E=n(6445);function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}var T=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",C({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("path",{d:"M12 20h9"}),o.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))}));T.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},T.displayName="Edit3";const S=T;var k=n(8268),I=n(2846),x=n(7921),O=n(4702),N=n(1962),P=n(5744),A=n(2284),R=n(9683),D=n(1832);function L({userId:e}){var t;const n=P.default.useState((()=>P.default.getUser(e))),r=P.default.getLocalUser(),s=o.useRef(),a=o.useRef(),[l,c]=o.useState(!1),[u,d]=o.useState(!1);async function h(e=!1){const[t]=await(0,I.ep)({type:"image/*"});if(t)return t.size>(0,I.rg)(10)?D.Z.showToast("You cannot upload a background above 10MiB","Failure"):void x.Z.uploadStorage(t,e?"profilebgNsfw":"profilebg",r.id).then((t=>(r[e?"profileBackgroundNsfw":"profileBackground"]=t.url,D.Z.showToast("Background updated - changes will show after confirming changes","Warning",10)))).catch((e=>(console.error(e),D.Z.showToast("There was an error uploading your background image","Failure"))))}return O.e.useForceUpdater(I.MF.USER_UPDATE,(({user:t})=>t.id===e)),o.createElement("div",{className:"UserProfileModal FullScreenModal Flex"},o.createElement("div",{className:"Background FlexCenter"},n.profileBackground&&o.createElement(R.Z,null),o.createElement("img",{ref:s,className:"Image",src:n.profileBackground,onLoad:e=>e.target.style.opacity=1}),n.profileBackgroundNsfw&&W.isNsfwVerified&&o.createElement("img",{ref:a,className:"Image",src:n.profileBackgroundNsfw})),o.createElement("div",{className:"LeftSection Flex"},o.createElement(n.AvatarComponent,{size:250},l&&o.createElement("div",{className:"Picker FlexCenter",onClick:()=>{(0,I.ep)({type:"image/*"}).then((([t])=>{t.size>(0,I.rg)(8)?D.Z.showToast("You cannot upload an avatar above 8MiB!","Failure"):x.Z.uploadStorage(t,"avatar",e).then((({url:e})=>{e+=`&date=${Date.now()}`,n.avatarUrl=e,O.e.dispatch({type:I.MF.USER_UPDATE,user:n}),D.Z.showToast("Successfully uploaded new avatar")})).catch((e=>(console.error(e),D.Z.showToast("An unknown error ocurred uploading avatar!","Failure"))))}))}},o.createElement(_.Z,null))),o.createElement("h3",{className:"Username"},n.displayName),l?o.createElement(A.Z,{defaultValue:n.feed,id:"UserFeed"},"Specify what you're up to currently with your user feed."):n.feed&&o.createElement("div",{className:"Feed"},N.Z.parse(n.feed)),o.createElement("div",{className:"AboutFields"},l?[1,2,3,4,5].map(((e,t)=>{var r,i,s,a;return o.createElement("div",{className:"AboutField EditMode",key:t},o.createElement("input",{defaultValue:null===(r=n.about)||void 0===r||null===(i=r[t])||void 0===i?void 0:i.title,placeholder:"About Title"}),o.createElement("input",{defaultValue:null===(s=n.about)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.field,placeholder:"About Body"}))})):null===(t=n.about)||void 0===t?void 0:t.map(((e,t)=>e.title&&e.field&&o.createElement("div",{className:"AboutField",key:t},o.createElement("h3",{className:"Title"},e.title),o.createElement("div",{className:"Body"},e.field))))),l&&o.createElement(o.Fragment,null,o.createElement("h4",{className:"Button",onClick:()=>h()},"Pick Background Image"),o.createElement("h4",{className:"Button",onClick:()=>h(!0)},"Pick NSFW Background")),n.profileBackgroundNsfw&&W.isNsfwVerified&&o.createElement("h4",{className:"Button NsfwToggle",onClick:()=>(d(!u),a.current.style.opacity=u?0:1)},u?"Hide":"Show"," NSFW Background")),o.createElement("div",{className:"RightSection Flex"},o.createElement("div",null,o.createElement("h1",{className:"Header"},"Bio"),o.createElement("div",{className:(0,I.Ch)("Bio MessageGroup",[l,"EditMode"])},l?o.createElement(A.Z,{defaultValue:n.bio,id:"UserBio"},"Describe yourself with a personal bio."):n.bio?N.Z.parse(n.bio):o.createElement("div",{className:"Placeholder"},"This user has no bio.")))),o.createElement("div",{className:"Buttons"},n===r&&(l?o.createElement(E.Z,{className:"Button",onClick:()=>(c(!1),Object.assign(r,{feed:document.getElementById("UserFeed").value,bio:document.getElementById("UserBio").value,about:[...document.querySelectorAll(".AboutField.EditMode")].map((e=>({title:e.getElementsByTagName("input")[0].value,field:e.getElementsByTagName("input")[1].value})))}),x.Z.update(r._ref,i().pick(r,["displayName","feed","bio","about","avatarUrl","backgroundImage","backgroundImageNsfw"])).then((()=>D.Z.showToast("Successfully updated profile"))))}):o.createElement(S,{className:"Button",onClick:()=>c(!0)})),o.createElement(k.Z,{className:"Button",onClick:()=>w.nK.pop()})))}var M=n(6856),F=n(4719),U=n(3694),j=n(3513),B=n(9912);function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}class W{getColor(){var e;return this.id===(null===(e=P.default.getLocalUser())||void 0===e?void 0:e.id)?"var(--primary-color)":"var(--secondary-color)"}static async selectAvatar(){const[e]=await(0,I.ep)({type:"image/*"});if(e)return e.size>(0,I.rg)(8)?D.Z.showToast("You cannot upload an avatar above 8MiB","Failure"):void x.Z.uploadStorage(e,"avatar",P.default.getLocalUser().id).then((e=>(this.avatarUrl=e.url,D.Z.showToast("Avatar updated")))).catch((e=>(console.error(e),D.Z.showToast("There was an error uploading your avatar","Failure"))))}static age(e){return"string"==typeof e&&(e=new Date(e)),"function"==typeof(null==e?void 0:e.toDate)&&(e=e.toDate()),(Date.now()-e)/3154e7}static get isNsfwVerified(){if(!P.default.getLocalUser())return!1;const e=B.default.getSettingValue("account","privacy","ageVerification"),t=B.default.getSettingValue("account","privacy","showNsfwContent");return!(!e||!t)&&Math.floor(this.age(e))>=18}constructor(e){z(this,"id",""),z(this,"displayName",""),z(this,"avatarUrl",""),z(this,"AvatarComponent",(e=>o.createElement(q,V({user:this},e)))),z(this,"StatusText",(e=>o.createElement(G,V({user:this},e)))),z(this,"Mention",(()=>o.createElement(H,{user:this}))),z(this,"BadgesList",(()=>o.createElement($,{user:this}))),z(this,"ContextMenu",(()=>o.createElement(Z,{user:this}))),i().extend(this,e)}}function q({user:e,size:t=40,className:n="",style:r={},children:i=null}){const s=P.default.useState((()=>e.avatarUrl)),a=P.default.useState((()=>e.displayName)),[l,c]=o.useState(!1);return o.createElement("div",{className:(0,I.Ch)("AvatarContainer StyleSquare FlexCenter",n),style:{width:t,height:t,...r}},l?o.createElement(p.Z,{className:"DefaultAvatar",style:{width:t/1.5,height:t/1.5}}):o.createElement("img",{className:"Avatar",src:s,alt:a,width:t,height:t,onError:()=>c(!0)}),i)}function G({user:e,tooltipDirection:t="right"}){const n=P.default.useState((()=>e.status)),r=e.lastOnline?new Date(e.lastOnline):null;switch(n){default:case I.J0.OFFLINE:return o.createElement("div",{className:"Flex StatusContainer"},o.createElement("div",{className:"Status Offline"}),o.createElement("div",null,"Offline"),r&&"none"!==t&&o.createElement(M.Z,{direction:t},"Last online ",(0,I.ie)(r)," at ",r.toLocaleTimeString("en-US")));case I.J0.ONLINE:return o.createElement("div",{className:"Flex StatusContainer"},o.createElement("div",{className:"Status Online"}),o.createElement("div",null,"Online"));case I.J0.AWAY:return o.createElement("div",{className:"Flex StatusContainer"},o.createElement("div",{className:"Status Away"}),o.createElement("div",null,"Away"));case I.J0.BUSY:return o.createElement("div",{className:"Flex StatusContainer"},o.createElement("div",{className:"Status Busy"}),o.createElement("div",null,"Busy"));case I.J0.BOT:return o.createElement("div",{className:"Flex StatusContainer"},o.createElement("div",{className:"Status Bot"}),o.createElement("div",null,"Bot"))}}function H({user:e,convertToYou:t=!1}){return O.e.useForceUpdater(I.MF.USER_UPDATE,(t=>t.user.id===e.id)),e=P.default.getUser(e.id),o.createElement(b.Z.Wrapper,{menu:o.createElement(e.ContextMenu,null),wrapperClassName:"UserMention"},o.createElement(q,{user:e,size:19}),o.createElement("div",{className:"Username"},t&&e.id===P.default.getLocalUser().id?"You":e.displayName))}function $({user:e}){const t=[...P.default.useState((()=>e.badges))||[]],n=j.Z.getSelectedGroup();if("dms"!==(null==n?void 0:n.circleId)){const r=U.Z.getCircle(n.circleId);(null==r?void 0:r.ownerId)===e.id&&t.push("__circleOwner")}return(null==t?void 0:t.length)?o.createElement("div",{className:"UserBadgesContainer FlexCenter"},t.map((e=>{var t;return(null===(t=I.yf[e])||void 0===t?void 0:t.Component)&&o.createElement("div",{className:"Badge",key:e},o.createElement(I.yf[e].Component),o.createElement(M.Z,null,I.yf[e].tooltip||e))}))):null}function Z({user:e}){return o.createElement(b.Z,null,o.createElement(b.Z.Item,{icon:o.createElement(p.Z,null),onClick:()=>w.nK.push(o.createElement(L,{userId:e.id})),autoClose:!0},"Profile"),o.createElement(b.Z.Item,{icon:o.createElement(m.Z,null),onClick:async function(){j.Z.getGroup("dms",e.id)||i().set(j.Z.getAllCachedGroups(),["dms",e.id],i().extend(new F.Pe,{circleId:"dms",isDm:!0,userId:e.id,groupId:F.Pe.getId(e.id),id:e.id,isPhantom:!0})),(0,y.IH)(`app/dms/${e.id}`)},autoClose:!0},"Message"),e.avatarUrl&&o.createElement(b.Z.SubMenuItem,{label:"Avatar",icon:o.createElement(u,null)},o.createElement(b.Z.Item,{icon:o.createElement(f,null),onClick:()=>(0,w.jY)(e.avatarUrl),autoClose:!0},"View"),o.createElement(b.Z.Item,{icon:o.createElement(g.Z,null),onClick:()=>(0,w.vQ)(e.avatarUrl),autoClose:!0},"Copy URL")),B.default.getSettingValue("extensions","developerTools","devMode")&&o.createElement(o.Fragment,null,o.createElement(b.Z.Divider,null),o.createElement(b.Z.SubMenuItem,{icon:o.createElement(v.Z,null),label:"Developer"},o.createElement(b.Z.Item,{onClick:()=>(0,w.vQ)(e.id)},"Copy User ID"))))}},9178:(e,t,n)=>{"use strict";n.d(t,{WK:()=>f,ZP:()=>p});var r=n(6486),i=n.n(r),o=n(2846),s=n(4702),a=n(3513),l=n(5744);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="UPDATE_MEMBERS",d=new class{async initialize(){this.initialized||(this.initialized=!0,window.location.hostname,this.socket=new WebSocket("wss://voice.cirlos.net:46236"),this.socket.onerror=console.error,console.log("socket",this.socket),this.socket.addEventListener("message",(({data:e})=>{const t=JSON.parse(e);console.log("voice ws message",t),t.type===u&&s.e.dispatch({...t,type:o.MF.UPDATE_VOICE_MEMBERS})})),this.socket.addEventListener("close",(e=>{console.log("what",e)})),s.e.subscribe(o.MF.CIRCLES_UPDATE,(async({circles:e})=>{const t=e.map((e=>e.id));for(;this.socket.readyState!==WebSocket.OPEN;)await new Promise((e=>setTimeout(e,0)));this.socket.send(JSON.stringify({type:"INITIALIZE",userId:l.default.getLocalUser().id,circleIds:t}))})))}constructor(){c(this,"currentRoom",null)}},h={iceServers:[{urls:"stun:stun.l.google.com:19302"}],bundlePolicy:"max-bundle"};class f{emitSocket(e){console.log("emitting socket event",e),d.socket.send(JSON.stringify(e))}async connect(){d.currentRoom&&await d.currentRoom.disconnect(),console.log("should connect"),d.socket.addEventListener("message",this.handleMessage),this.initializePeerConnection().catch(console.error.bind("Failed to initialize peer connection!")),s.e.dispatch({type:o.MF.UPDATE_CURRENT_CALL,call:this}),d.currentRoom=this}createPeerConnection(){return i().extend(new RTCPeerConnection(h),{onicecandidate:this.handleIceCandidate.bind(this),onnegotiationneeded:this.handleNegotiation.bind(this)})}async handleIceCandidate({candidate:e}){var t;(null==e||null===(t=e.candidate)||void 0===t?void 0:t.length)&&this.emitSocket({type:"SEND_ICE",ice:e})}async handleNegotiation(e,t){console.log("negotiation is needed on the client side");const n=await this.pc.createOffer();await this.pc.setLocalDescription(n),console.log("offer was created"),this.emitSocket({type:"CONNECT",offer:n,circleId:this.group.circleId,groupId:this.group.id})}async initializePeerConnection(){const e=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0});this.handleTrack(e,l.default.getLocalUser().id),this.localStream=e,this.pc=this.createPeerConnection(),this.pc.onicecandidateerror=e=>{console.error("local ice candidate error",e)};for(const t of e.getTracks())this.pc.addTrack(t,e),console.log("adding track to stream",t)}handleTrack(e,t){if(console.log("handle track",t),t===l.default.getLocalUser().id)return;const n=`vc-aud-${t}`;var r;const o=i().assign(null!==(r=document.getElementById(n))&&void 0!==r?r:document.createElement("audio"),{id:n,style:"display:none",volume:.5});console.log({audio:o,stream:e,userId:t}),document.body.appendChild(o),o.srcObject=e,o.autoplay=!0}async disconnect(){console.log("should disconnect"),d.socket.removeEventListener("message",this.handleMessage),this.emitSocket({type:"DISCONNECT"}),s.e.dispatch({type:o.MF.UPDATE_CURRENT_CALL,call:null}),d.currentRoom=null}async requestConsumer(e){console.log("HANDLING CONSUMER",e);const t=new RTCPeerConnection(h);i().extend(this.connections,{[e]:{pc:t}});const n={direction:"recvonly"};t.addTransceiver("video",n),t.addTransceiver("audio",n),t.onicecandidate=({candidate:t})=>{var n;(null==t||null===(n=t.candidate)||void 0===n?void 0:n.length)&&this.emitSocket({type:"UPDATE_CONSUMER_ICE",ice:t,userId:e})};const r=await t.createOffer();await t.setLocalDescription(r),t.onicecandidateerror=e=>{console.error("consumer ice candidate error",e)},t.ontrack=t=>this.handleTrack(t.streams[0],e),this.emitSocket({type:"REQUEST_CONSUMER",userId:e,offer:r})}handleMessage({data:e}){const t=JSON.parse(e);switch(t.type){case"PC_ANSWER":{const e=new RTCSessionDescription(t.answer);this.pc.setRemoteDescription(e).catch(console.error)}break;case u:for(const e in this.connections)if(!~t.users.indexOf(e)&&(this.connections[e].pc.close(),delete this.connections[e],e===l.default.getLocalUser().id))for(const e in this.connections)this.connections[e].pc.close(),delete this.connections[e];for(const e of t.users)e!==l.default.getLocalUser().id&&(this.connections[e]||this.requestConsumer(e).catch(console.error.bind(null,"Failed to request consumer!")));console.log(this.connections);break;case"RECEIVE_CONSUMER":{const e=new RTCSessionDescription(t.answer),{pc:n}=i().get(this.connections,[t.userId],{});console.log("received consumer answer",n,t.userId),null==n||n.setRemoteDescription(e).catch(console.error.bind(null,"Failed to receive consumer!"))}}}constructor(e,t){c(this,"connections",{});const n=a.Z.getGroup(e,t);if(!n)return console.error("Unable to find voice group!",{circleId:e,groupId:t}),null;this.group=n,this.handleMessage=this.handleMessage.bind(this)}}const p=d},2284:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(6486),i=n.n(r),o=n(7294),s=n(2846),a=n(7921),l=n(4702),c=n(9818),u=n(1962),d=n(3513),h=n(9912),f=n(5744),p=n(8997),m=n(7994),g=n(5295),v=n(9894);function y({value:e}){const t=e.split(/\s/g).slice(-1)[0];let n=[];function r(t){var n,r;l.e.dispatch({type:s.MF.RTA_SET_TEXT,text:`${null!==(r=null===(n=e.match(/^.*\s/gm))||void 0===n?void 0:n[0])&&void 0!==r?r:""} ${t} `.trimStart()})}const a={replies:()=>{var e;const i=null===(e=t.match(/re:(\S*)/gm))||void 0===e?void 0:e[0];if(!i)return;const s=d.Z.getSelectedGroup();if(!s)return;const[,a]=i.split("re:"),l=g.Z.getOrderedMessages(s.circleId,s.id).filter((e=>{const t=a.toLowerCase();return!t||!!f.default.getUser(e.senderId).displayName.toLowerCase().includes(t)||!!e.content.toLowerCase().includes(t)}));l.reverse(),l.length=5,l.reverse(),n=l.map((e=>o.createElement("div",{className:"AutoCompleteItem ReplyItem",key:e.id,onClick:r.bind(null,`re:${e.id}`)},o.createElement(v.d,{userId:e.senderId,messages:[e],minimal:!0}))))},emotes:()=>{var e;if(!(null===(e=t.match(/:(\S*)/gm))||void 0===e?void 0:e[0]))return;const s=t.toLowerCase().slice(1),a=m.Z.getLocalEmotePacks(),l=i().flatten(Object.values(a).map((e=>Object.values(e.emotes)))).filter((e=>{var t,n;return!!(null===(t=e.packId)||void 0===t?void 0:t.toLowerCase().includes(s))||!!(null===(n=e.id)||void 0===n?void 0:n.toLowerCase().includes(s))}));l.length=10,n=l.map((e=>o.createElement("div",{className:"AutoCompleteItem EmoteItem FlexCenter",key:e.id,onClick:r.bind(null,`:${e.packId}.${e.id}:`)},o.createElement(e.Component,null),o.createElement("h4",null,e.id),o.createElement("div",{className:"PackId"},e.packId))))},commands:()=>{if(!e.startsWith("/"))return;let[t,...i]=e.trim().split(/\s/gm).slice();t=t.slice(1);const a=Object.keys(p.Z).filter((e=>p.Z[e]&&e.includes(t)));if(p.Z[t]){var c;const r=p.Z[t],a=o.createElement("div",{className:"AutoCompleteItem CommandItem Flex",key:e,"data-disabled":!0},o.createElement("h4",null,r.description));if(null===(c=r.arguments)||void 0===c?void 0:c.length){const e=r.arguments[Math.max(0,Math.min(100,i.length-1))];var u;n=e?[a,o.createElement("div",{className:"AutoCompleteItem CommandItem ArgumentItem Flex",key:e.title,"data-disabled":!0},o.createElement("h4",null,e.title),o.createElement("h4",null,"-"),o.createElement("h4",{style:{opacity:.5}},e.description)),o.createElement("div",{className:"AutoCompleteItem DividerItem","data-disabled":!0}),...Object.entries(null!==(u=e.entries)&&void 0!==u?u:[]).filter((([e])=>!i[i.length-1]||e.toLowerCase().includes(i[i.length-1].toLowerCase()))).map((([e,n])=>n&&o.createElement("div",{className:"AutoCompleteItem CommandItem ArgumentItem Flex",key:e,onClick:()=>l.e.dispatch({type:s.MF.RTA_SET_TEXT,text:`/${t}${i.filter((e=>e)).slice(0,-1).join(" ")} ${e}`})},n.title?o.createElement("h4",null,n.title):o.createElement("h4",null,e),o.createElement("h4",null,n.value),n.description&&o.createElement("h4",null,n.description))))]:[a]}else n=[a]}else n=a.map((e=>{var t;return o.createElement("div",{className:"AutoCompleteItem CommandItem Flex",key:e,onClick:r.bind(null,`/${e}`)},o.createElement("h4",null,o.createElement("b",null,"/"),e),(null===(t=p.Z[e].arguments)||void 0===t?void 0:t.length)>0&&p.Z[e].arguments.map(((e,t)=>o.createElement("h4",{key:t,style:{opacity:.5}},e.title))))}))}};for(const e in a)n.length||a[e]();return o.createElement("div",{className:"MarkdownAutoComplete"},n)}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}let w;function _(e){const t=o.useRef(),n=o.useRef(),r=o.useRef(),[p,m]=o.useState(0);var g;const[v,_]=o.useState(null!==(g=e.defaultValue)&&void 0!==g?g:""),[E,C]=o.useState(!1),[T,S]=o.useState([0,0]),k=o.useMemo((()=>o.createElement("div",{className:"Caret",key:(0,s.dA)()})),[v,T]),I={onInput:t=>{var n;null===(n=e.onInput)||void 0===n||n.call(e,t),_(t.target.value)},onKeyDown:async t=>{switch(null===(n=e.onKeyDown)||void 0===n||n.call(e,t),t.key){case"Enter":var n;t.shiftKey||(t.preventDefault(),!0===await(null===(n=e.onSend)||void 0===n?void 0:n.call(e,v))&&(_(""),r.current.value=""));break;case"Tab":{const e=document.getElementsByClassName("AutoCompleteItem");e.length&&(t.preventDefault(),e[0].dispatchEvent(new MouseEvent("click",{bubbles:!0})))}}},onFocus:t=>{var n;return C(!0),w=r.current,null===(n=e.onFocus)||void 0===n?void 0:n.call(e,t)},onBlur:()=>C(!1)};return o.useEffect((()=>{w=r.current,setTimeout((()=>{var e;return m(null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().height)}),0);const e={[s.MF.RTA_ATTACH_FILE]:({file:e})=>{if(w===r.current){const i=f.default.getLocalUser();var t;const o=null!==(t=d.Z.getSelectedGroup())&&void 0!==t?t:{circleId:"default",id:"default"};var n;a.Z.uploadStorage(e,"gs://cirlos","files",o.circleId,null!==(n=o.groupId)&&void 0!==n?n:o.id,i.id,`${Date.now()}_${e.name}`).then((({url:e})=>{const t=`${r.current.value} ${e} `;I.onInput({target:{value:t}}),r.current.value=t,_(t)}))}},[s.MF.RTA_APPEND_TEXT]:({text:e})=>{if(w===r.current){const t=`${r.current.value}${e}`.trimStart();I.onInput({target:{value:t}}),setTimeout((()=>{r.current&&(r.current.setSelectionRange(-1,-1),r.current.focus())}),50),r.current.value=t,_(t)}},[s.MF.RTA_SET_TEXT]:({text:e})=>{if(w===r.current){const t=e;I.onInput({target:{value:t}}),setTimeout((()=>{r.current&&(r.current.setSelectionRange(-1,-1),r.current.focus())}),50),r.current.value=t,_(t)}}};for(const t in e)l.e.subscribe(t,e[t]);return()=>{for(const t in e)l.e.unsubscribe(t,e[t])}}),[v]),(0,c.OR)("selectionchange",(()=>{const e=document.getSelection();(null==e?void 0:e.anchorNode)===t.current&&S([r.current.selectionStart,r.current.selectionEnd])})),(0,c.FI)((()=>{setTimeout((()=>{r.current&&(r.current.selectionStart=r.current.selectionEnd=r.current.value.length,r.current.focus())}),0)})),o.createElement("div",{ref:t,className:(0,s.Ch)("RichTextArea",[E,"Focused"]),onClick:function(){var e;const t=document.getSelection(),i=n.current.childNodes;let o=t.anchorOffset;e:for(const n of i)if(!(null===(e=n.classList)||void 0===e?void 0:e.contains("Caret"))){if(n===t.anchorNode||n===t.anchorNode.parentElement)break e;o+=n.textContent.length}const s=n.current.textContent,a=r.current.value;let l=s;for(let e in a){const t=parseInt(e);t>o||a[t]!==l[t]&&(o++,l=l.slice(0,t)+a[t]+l.slice(t))}r.current.setSelectionRange(o,o),r.current.focus()},style:{"--rich-text-height":`${p}px`}},e.containerChildren,o.createElement(y,{value:v}),o.createElement("textarea",b({ref:r},i().omit(e,"children","onInput","onChange","onSend","onKeyDown","containerChildren"),I)),v?o.createElement("div",{className:"Renderer",ref:n},h.default.getSettingValue("appearance","richTextArea","renderRich")?o.createElement(o.Fragment,null,u.Z.parse(v.slice(0,T[0])),T[1]-T[0]>0&&o.createElement("span",{className:"SelectedText"},v.slice(T[0],T[1])),k,u.Z.parse(v.slice(T[1]))):o.createElement(o.Fragment,null,v.slice(0,T[0]),T[1]-T[0]>0&&o.createElement("span",{className:"SelectedText"},v.slice(T[0],T[1])),k,v.slice(T[1]))):o.createElement("div",{className:"Renderer Placeholder",ref:n},k,e.children))}},164:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(7294),i=n(3935),o=n(628),s=n(2048);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}class c extends r.Component{close(){c.activeWrapper&&c.activeWrapper.setState({menu:null,open:!1})}componentDidMount(){document.addEventListener("click",this.docClickEv)}componentWillUnmount(){document.removeEventListener("click",this.docClickEv)}render(){return r.createElement(s.Z,null,r.createElement("div",l({className:"ContextMenu"},this.props,{ref:this.ref}),this.props.children))}constructor(...e){super(...e),a(this,"ref",(0,r.createRef)()),a(this,"docClickEv",(e=>{!this.ref.current||this.ref.current.contains(e.target)||document.getElementsByClassName("ContextMenu")[0].contains(e.target)||this.close()}))}}c.Handler=function(){class e extends r.Component{render(){return r.createElement(s.Z,null,r.createElement("div",{ref:c.Handler.ref,className:"ContextMenuWrapper MainContextMenuContainer"}))}}return a(e,"ref",(0,r.createRef)()),e}(),c.Wrapper=class extends r.Component{get publicProps(){return function(e,...t){const n=Object.assign({},e);for(const e of t)delete n[e];return n}(this.props,"menu","openOnClick","wrapperClassName","overrideX","overrideY")}async componentDidUpdate(e,t,n){if(c.activeWrapper!==this||this.state.open||(c.activeWrapper=null),this.state.open&&this.ref.current){const[e]=document.getElementsByClassName("ContextMenuContainer"),t=e.getBoundingClientRect();e.style.transform=t.y+t.height>window.innerHeight?`translateY(${window.innerHeight-(t.y+t.height)-20}px)`:null}}render(){return this.props.menu?r.createElement(s.Z,null,r.createElement("div",l({ref:this.ref,className:"ContextMenuWrapper "+(this.props.wrapperClassName||""),onClick:this.props.openOnClick?e=>{"function"!=typeof e.target.onClick&&this.handleContextMenu(this.props.openOnClick())}:null},this.publicProps,{onContextMenu:this.handleContextMenu}),this.props.children,r.createElement(s.Z,null,this.state.open?this.state.menu:null))):this.props.children}constructor(...e){super(...e),a(this,"state",{menu:null,open:!1}),a(this,"ref",(0,r.createRef)()),a(this,"handleContextMenu",(e=>{var t,n,o,s;if("function"==typeof e.preventDefault&&e.preventDefault(),c.activeWrapper){if(this.ref.current.contains(c.activeWrapper.ref.current)&&c.activeWrapper.props.menu!==this.props.menu)return;c.activeWrapper.setState({menu:null,open:!1})}c.activeWrapper=this;let a=(null===(n=(t=this.props.menu.props).overrideY)||void 0===n?void 0:n.call(t))||e.clientY,u=(null===(s=(o=this.props.menu.props).overrideX)||void 0===s?void 0:s.call(o))||e.clientX;for(;u+200>window.innerWidth;)u-=10;this.setState({menu:i.createPortal(r.createElement("div",l({className:"ContextMenuContainer SecondaryBg"},this.publicProps,{style:{position:"fixed",top:a,left:u}}),this.props.menu),c.Handler.ref.current),open:!0})}))}},c.Item=class extends r.Component{render(){const e=Object.assign({},this.props);return delete e.autoClose,delete e.icon,r.createElement("div",l({className:"ContextMenuItem"},e,{onClick:this.handleClick}),this.props.icon,this.props.children)}constructor(...e){super(...e),a(this,"handleClick",(e=>{e.preventDefault(),e.stopPropagation(),c.activeWrapper&&this.props.autoClose&&c.activeWrapper.setState({menu:null,open:!1}),this.props.onClick&&this.props.onClick(this)}))}},c.SubMenuItem=class extends r.Component{mount(e){if(!e)return;const t=e.getBoundingClientRect();e.style.transform=t.y+t.height>window.innerHeight?`translateY(${window.innerHeight-(t.y+t.height)-20}px)`:null,t.x+t.width>window.innerWidth&&(e.style.left="unset",e.style.right="100%")}render(){const e=Object.assign({},this.props);return delete e.autoClose,delete e.label,delete e.icon,r.createElement("div",l({className:"ContextMenuItem HasSubMenu"},e,{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),this.props.icon,this.props.label," ",r.createElement(o.Z,{className:"ContextSubMenuChevron"}),this.state.open?r.createElement("div",{className:"ContextMenuContainer SubMenuContainer SecondaryBg",ref:this.mount},r.createElement("div",{className:"ContextMenu SubMenu"},this.props.children)):null)}constructor(...e){super(...e),a(this,"state",{open:!1}),a(this,"handleMouseEnter",(()=>{this.setState({open:!0})})),a(this,"handleMouseLeave",(()=>{this.setState({open:!1})})),a(this,"handleClick",(e=>{e.target===e.currentTarget&&(c.activeWrapper&&this.props.autoClose&&c.activeWrapper.setState({menu:null,open:!1}),this.props.onClick&&this.props.onClick(this))}))}},c.ToggleItem=class extends r.Component{componentDidMount(){this.setState({checked:this.props.checked})}render(){const e=Object.assign({},this.props);return delete e.autoClose,delete e.callback,r.createElement("div",l({className:"ContextMenuItem ToggleItem"},e,{onClick:this.callback}),r.createElement("div",{className:"ToggleBox"+(this.state.checked?" Checked":"")},this.state.checked?r.createElement("div",{className:"ToggleBoxTick"}):null),this.props.children)}constructor(...e){super(...e),a(this,"state",{checked:!1}),a(this,"callback",(()=>{c.activeWrapper&&this.props.autoClose&&c.activeWrapper.setState({menu:null,open:!1});const e=!this.state.checked;this.props.callback&&this.props.callback(e),this.setState({checked:e})}))}},c.Divider=class extends r.Component{render(){return r.createElement("div",l({className:"ContextMenuDivider"},this.props))}};const u=c},2048:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7294),i=n(9606);class o extends r.Component{componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}showErrorInfo(){const{error:e,errorInfo:t}=this.state;(0,i.h7)(r.createElement("div",{className:"ErrorInfoModal PrimaryBg",onClick:()=>(0,i.Mr)()},r.createElement("h1",null,e.message),t.componentStack.split("\n").slice(0,10).map(((e,t)=>r.createElement("h2",{key:t},e)))))}renderError(){const{moreInfo:e}=this.state;return r.createElement("div",{className:"ErrorBoundaryHandler"},r.createElement("h1",null,"There was an error with this component!"),r.createElement("h2",null,"This is due to a plugin error or application error."),r.createElement("div",{className:"ErrorBoundaryFooter"},r.createElement("div",{className:"ErrorBoundaryButton TertiaryBg",onClick:()=>this.showErrorInfo()},"More Info"),r.createElement("div",{className:"ErrorBoundaryButton BackgroundDanger",onClick:()=>this.setState({error:null})},"Retry")))}render(){return this.state.error?this.renderError():this.props.children}constructor(e){var t,n;super(e),n={error:null,errorInfo:null,moreInfo:!1},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}},9683:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7294);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e){return r.createElement("div",i({className:"InlineLoadingContainer"},e),r.createElement("div",{className:"Dot A"}),r.createElement("div",{className:"Dot B"}),r.createElement("div",{className:"Dot C"}))}},2126:(e,t,n)=>{"use strict";n.d(t,{BK:()=>o,ZP:()=>s,pC:()=>a});var r=n(7294),i=n(2126);const o=3;function s(){const e=({title:e,children:t})=>r.createElement("ul",null,r.createElement("li",null,r.createElement("b",null,e),r.createElement("ul",null,t)));return r.createElement("div",{className:"CommunityGuidelines",style:{margin:10,marginBottom:100}},r.createElement("h1",null,"Cirlos Community Guidelines"),r.createElement("div",null,"Last updated - ","8/11/2021"),r.createElement("h2",null,"These guidelines are basic rules to follow to protect the Cirlos community under individual categories.",r.createElement("br",null),"Read and follow these to ensure your place in the Cirlos community, help keep it a safe and comfortable place for all.",r.createElement("br",null),"Failure to follow these will result in punishment, including but not limited to - warnings, message/media removals, account suspensions, account terminations, and circle/group terminations."),r.createElement("h1",null,"General Guidelines"),r.createElement("p",null,"Participating in any of the following topics can and will result in punishment."),r.createElement(e,{title:"Harassment and bullying"},r.createElement("li",null,"Continuously bashing/making fun of someone or a group of people, repeated backlash or negativity."),r.createElement("li",null,"Arguments and disagreements are fine to a point, but repeated offenses or taking things too far will result in punishment if reported or caught.")),r.createElement(e,{title:"Hate speech"},r.createElement("li",null,"Attacking someone over their race, sexual orientation, sex, gender identity, ethnicity, religion, along with using slurs under these categories."),r.createElement("li",null,"This type of behaviour will not be tolerated. Directly-targeted hate speech will get your account terminated without warning. Using slurs generally (not directed towards an individual) will get you up to 3 warnings, then termination.")),r.createElement(e,{title:"Harmful activities"},r.createElement("li",null,"Sending malware, IP-grabbers, doxxing, DDoS attacks, phishings links, or threatening users."),r.createElement("li",null,"Punishment for this type of behaviour will depend on the severity of the situation. Actions may likely end with unwarned termination, threats will likely be let off with a single warning. Regardless of the reasoning, these situations are never funny or clever, and will not be tolerated.")),r.createElement(e,{title:"Nazism, extremism"},r.createElement("li",null,"While likely covered in the above posts, support of nazism/neo-nazism or violent extremism will not be tolerated."),r.createElement("li",null,"This includes posting imagery of swastikas, confederate flags, and similar content."),r.createElement("li",null,"Content posted under educational or news-related posts may be protected if not in support of said content."),r.createElement("li",null,"Threats towards anyone or anything is also covered under this post. Examples - I'm going to kill X, Death to X, etc.")),r.createElement(e,{title:"Promoting, supporting, or operating communities that partake in illegal activities"},r.createElement("li",null,"This includes but is not limited to - pirating, drug dealing, game cheats/hacks, leaked information, etc."),r.createElement("li",null,"Participating in these type of activities will get your account terminated and may get you reported to authorities.")),r.createElement(e,{title:"Circle/server raiding or trolling"},r.createElement("li",null,"This refers to joining a circle with the intent to cause problems, or otherwise post meaningless content."),r.createElement("li",null,"While this is the circle owner's job to deal with personally, it is against the guidelines and may get your account suspended or terminated.")),r.createElement(e,{title:"Pointless bashing of the platform"},r.createElement("li",null,"Constructive criticism is allowed and encouraged. If you dislike something, you should feel free to speak your mind."),r.createElement("li",null,"But if it feels like you're just here to bash the platform, then you have no reason to be on it in the first place, and will be removed."),r.createElement("li",null,"This, to a lesser degree, goes for other platforms too. Cirlos is not meant to be an enemy to any other platforms, let's try to keep it that way.")),r.createElement("h1",null,"NSFW Guidelines"),r.createElement(e,{title:"Where it's appropriate"},r.createElement(e,{title:"NSFW content must be labeled as such."},r.createElement("li",null,"You may not post NSFW or suggestive content in chat outside of groups marked as NSFW."),r.createElement("li",null,"You may not apply NSFW or suggestive images/videos as your profile avatar or background without labeling it as such. -",r.createElement("i",null,'You can label an image as NSFW by simply inserting "NSFW" into the filename before uploading it. This will blur the image and prevent minors from viewing such content.')),r.createElement("li",null,"You may not upload NSFW or suggestive emotes without labeling it as such."))),r.createElement(e,{title:"Sexualization of minors"},r.createElement("li",null,"This includes lolicon, shotacon, cubcon, foalcon, etc."),r.createElement("li",null,"If you are caught posting fictitious content depicting minors, as labeled above, your account will be terminated without warning."),r.createElement("li",null,"Anything genuine that depicts minors in a sexual, suggestive, or violet manner will result in immediate account termination and you and your data will be reported to the",r.createElement("a",{href:"https://www.missingkids.org/gethelpnow/cybertipline"},"National Center for Missing and Exploited Children"))),r.createElement(e,{title:"Sexualization of animals"},r.createElement("li",null,"Images, videos, and general content involving bestiality/zoophilia will not be tolerated."),r.createElement("li",null,"This does not include sexualization of anthromorphic or fantasy-based animals/creatures."),r.createElement("li",null,"If you are caught posting fictitious content sexualizing animals, you will receive a warning. Repeated offenses will result in account termination."),r.createElement("li",null,"Any genuine content depicting real-world animals will result in immediate account termination.")),r.createElement(e,{title:"Viewing sexual content as a minor"},r.createElement("li",null,"Verifying your date of birth allows you to view NSFW content in Cirlos. If this data is found to be incorrect, your account will be terminated."),r.createElement("li",null,"This includes using addons or modifications to bypass NSFW blurs and age gates.")),r.createElement(e,{title:"Gore and disturbing content"},r.createElement("li",null,'This includes but is not limited to - gore, NSFL, "leaked clips", self-harm, and suicide.'),r.createElement("li",null,"This does not include art depicting gore or violence, but keep in mind that this content must stay in designated channels and must not be directed towards an individual or group."),r.createElement("li",null,"This does not include news posts or discussions of such content, but must be kept in designated channels and must not be directed towards an individual or group.")),r.createElement("h1",null,"Addons and Modding Guidelines"),r.createElement(e,{title:"Bypassing built-in protections"},r.createElement("li",null,"This includes but is not limited to bypassing - rate limits, NSFW protections, Cirlos premium limitations, file size limits, etc."),r.createElement("li",null,"Bypassing built-in protections will result in a warning. Repeated offenses will result in account suspension or termination."),r.createElement("li",null,"If you're not sure of something, feel free to ask.")),r.createElement(e,{title:"API spam"},r.createElement("li",null,"Doing anything that makes rapid calls to any of Cirlos' APIs will result in a warning. Repeated offenses will result in account suspension or termination."),r.createElement("li",null,"If you're not sure of something, feel free to ask.")),r.createElement(e,{title:"Creation or distribution of harmful modifications"},r.createElement("li",null,"Any harmful addons or modifications, that participate in the following or similar activies to - stealing user information, intentionally freezing, crashing, or slowing the application, breeching user privacy, etc.")),r.createElement("h2",null,"Contact Us"),r.createElement("p",null,"If you have any questions or suggestions about our Community Guidelines, do not hesitate to contact us."))}function a(){return r.createElement("div",{style:{maxHeight:"100vh",overflowY:"auto",padding:20}},r.createElement(i.ZP,null))}},7611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,E:()=>o});var r=n(7294);function i(){return r.createElement("div",{className:"CookiesPolicy"},r.createElement("h2",null,"Cookies Policy"),r.createElement("p",null,"Last updated: 6/17/2021"),r.createElement("p",null,'Cirlos ("us", "we", or "our") uses cookies on Cirlos (the "Service"). By using the Service, you consent to the use of cookies.'),r.createElement("p",null,"Our Cookies Policy explains what cookies are, how we use cookies, how third-parties we may partner with may use cookies on the Service, your choices regarding cookies and further information about cookies."),r.createElement("p",null,r.createElement("b",null,"What are cookies")),r.createElement("p",null,"Cookies are small pieces of text sent by your web browser by a website you visit. A cookie file is stored in your web browser and allows the Service or a third-party to recognize you and make your next visit easier and the Service more useful to you."),r.createElement("p",null,'Cookies can be "persistent" or "session" cookies.'),r.createElement("h2",null,"How Cirlos uses cookies"),r.createElement("p",null,"When you use and access the Service, we may place a number of cookies files in your web browser."),r.createElement("p",null,"We use cookies for the following purposes: to enable certain functions of the Service, to provide analytics, to store your preferences, to enable advertisements delivery, including behavioral advertising."),r.createElement("p",null,"We use both session and persistent cookies on the Service and we use different types of cookies to run the Service:"),r.createElement("p",null,"- Essential cookies. We may use essential cookies to authenticate users and prevent fraudulent use of user accounts."),r.createElement("h2",null,"Third-party cookies"),r.createElement("p",null,"In addition to our own cookies, we may also use various third-parties cookies to report usage statistics of the Service, deliver advertisements on and through the Service, and so on."),r.createElement("h3",null,"What are your choices regarding cookies"),r.createElement("p",null,"If you'd like to delete cookies or instruct your web browser to delete or refuse cookies, please visit the help pages of your web browser."),r.createElement("p",null,"Please note, however, that if you delete cookies or refuse to accept them, you might not be able to use all of the features we offer, you may not be able to store your preferences, and some of our pages might not display properly."),r.createElement("h2",null,"Where can your find more information about cookies"),r.createElement("h3",null,"You can learn more about cookies and the following third-party websites:"),r.createElement("ul",null,r.createElement("li",null,"AllAboutCookies: ",r.createElement("a",{href:"http://www.allaboutcookies.org/"},"http://www.allaboutcookies.org/")),r.createElement("li",null,"Network Advertising Initiative: ",r.createElement("a",{href:"http://www.networkadvertising.org/"},"http://www.networkadvertising.org/"))))}function o(){return r.createElement("div",{style:{maxHeight:"100vh",overflowY:"auto",padding:20}},r.createElement(i,null))}},7595:(e,t,n)=>{"use strict";function r(){return null}n.d(t,{I:()=>r})},4728:(e,t,n)=>{"use strict";n.d(t,{bW:()=>i,ZP:()=>o,i6:()=>s});var r=n(7294);const i=2;function o(){return r.createElement("div",{className:"PrivacyPolicy"},r.createElement("h1",null,"Privacy Policy of Cirlos"),r.createElement("p",null,"Cirlos operates the https://www.cirlos.net/ website, which provides a public chat platform/service."),r.createElement("p",null,"This page is used to inform website visitors regarding our policies with the collection, use, and disclosure of Personal Information if anyone decided to use our Service, the Cirlos website."),r.createElement("p",null,"If you choose to use our Service, then you agree to the collection and use of information in relation with this policy. The Personal Information that we collect are used for providing and improving the Service. We will not use or share your information with anyone except as described in this Privacy Policy. Our Privacy Policy was created with the help of the ",r.createElement("a",{href:"https://www.privacypolicytemplate.net"},"Privacy Policy Template Generator"),"."),r.createElement("p",null,"The terms used in this Privacy Policy have the same meanings as in our Terms and Conditions, which is accessible at https://www.cirlos.net, unless otherwise defined in this Privacy Policy."),r.createElement("h2",null,"Information Collection and Use"),r.createElement("p",null,"For a better experience while using our Service, we may require you to provide us with certain personally identifiable information, including but not limited to your name, phone number, and postal address. The information that we collect will be used to contact or identify you."),r.createElement("h2",null,"Log Data"),r.createElement("p",null,'We want to inform you that whenever you visit our Service, we collect information that your browser sends to us that is called Log Data. This Log Data may include information such as your computer’s Internet Protocol ("IP") address, browser version, pages of our Service that you visit, the time and date of your visit, the time spent on those pages, and other statistics.'),r.createElement("h2",null,"Cookies"),r.createElement("p",null,"Cookies are files with small amount of data that is commonly used an anonymous unique identifier. These are sent to your browser from the website that you visit and are stored on your computer’s hard drive."),r.createElement("p",null,'Our website uses these "cookies" to collection information and to improve our Service. You have the option to either accept or refuse these cookies, and know when a cookie is being sent to your computer. If you choose to refuse our cookies, you may not be able to use some portions of our Service.'),r.createElement("p",null,"For more general information on cookies, please read ",r.createElement("a",{href:"https://www.privacypolicyonline.com/what-are-cookies/"},'"What Are Cookies"'),"."),r.createElement("h2",null,"Service Providers"),r.createElement("p",null,"We may employ third-party companies and individuals due to the following reasons:"),r.createElement("ul",null,r.createElement("li",null,"To facilitate our Service;"),r.createElement("li",null,"To provide the Service on our behalf;"),r.createElement("li",null,"To perform Service-related services; or"),r.createElement("li",null,"To assist us in analyzing how our Service is used.")),r.createElement("p",null,"We want to inform our Service users that these third parties have access to your Personal Information. The reason is to perform the tasks assigned to them on our behalf. However, they are obligated not to disclose or use the information for any other purpose."),r.createElement("h2",null,"Security"),r.createElement("p",null,"We value your trust in providing us your Personal Information, thus we are striving to use commercially acceptable means of protecting it. But remember that no method of transmission over the internet, or method of electronic storage is 100% secure and reliable, and we cannot guarantee its absolute security."),r.createElement("h2",null,"Links to Other Sites"),r.createElement("p",null,"Our Service may contain links to other sites. If you click on a third-party link, you will be directed to that site. Note that these external sites are not operated by us. Therefore, we strongly advise you to review the Privacy Policy of these websites. We have no control over, and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services."),r.createElement("p",null,"Children's Privacy"),r.createElement("p",null,"Our Services do not address anyone under the age of 13. We do not knowingly collect personal identifiable information from children under 13. In the case we discover that a child under 13 has provided us with personal information, we immediately delete this from our servers. If you are a parent or guardian and you are aware that your child has provided us with personal information, please contact us so that we will be able to do necessary actions."),r.createElement("p",null,"Email Address"),r.createElement("p",null,"By signing up at https://www.cirlos.net/ you are giving us access to your view email address. We will never use or share this address, nor will we send any emails to this address without your input first. (Ex: password reset, account confirmation, email request, etc.)"),r.createElement("h2",null,"Changes to This Privacy Policy"),r.createElement("p",null,"We may update our Privacy Policy from time to time. Thus, we advise you to review this page periodically for any changes. We will notify you of any changes by posting the new Privacy Policy on this page. These changes are effective immediately, after they are posted on this page."),r.createElement("h2",null,"Contact Us"),r.createElement("p",null,"If you have any questions or suggestions about our Privacy Policy, do not hesitate to contact us."))}function s(){return r.createElement("div",{style:{maxHeight:"100vh",overflowY:"auto",padding:20}},r.createElement(o,null))}},2456:(e,t,n)=>{"use strict";n.d(t,{DJ:()=>i,ZP:()=>o,WS:()=>s});var r=n(7294);const i=2;function o(){return r.createElement("div",{className:"TermsOfService"},r.createElement("h2",null,r.createElement("strong",null,"Terms and Conditions")),r.createElement("h1",null,"Last updated - 7/14/2021"),r.createElement("h1",null,r.createElement("b",null,"NOTE - THESE MAY CHANGE AT ANY TIME, WITH OR WITHOUT NOTICE.")),r.createElement("p",null,"Welcome to Cirlos!"),r.createElement("p",null,"These terms and conditions outline the rules and regulations for the use of Cirlos's Website, Application, and Platform, located at https://www.cirlos.net."),r.createElement("p",null,"By accessing this website/platform, you accept these terms and conditions. Do not continue to use Cirlos if you do not agree to all of the terms and conditions stated on this page and our privacy policy."),r.createElement("h3",null,r.createElement("strong",null,"Cookies")),r.createElement("p",null,"We employ the use of cookies. By accessing Cirlos, you agreed to use cookies in agreement with the Cirlos's Privacy Policy."),r.createElement("p",null,"Most interactive websites use cookies to let us retrieve the user’s details for each visit. Cookies are used by our website to enable the functionality of certain areas to make it easier for people visiting our website. Some of our affiliate/advertising partners may also use cookies."),r.createElement("h3",null,r.createElement("strong",null,"License")),r.createElement("p",null,"Unless otherwise stated, Cirlos and/or its licensors own the intellectual property rights for all material on Cirlos. All intellectual property rights are reserved. You may access this from Cirlos for your own personal use subjected to restrictions set in these terms and conditions."),r.createElement("p",null,"You must not:"),r.createElement("ul",null,r.createElement("li",null,"Republish material from Cirlos"),r.createElement("li",null,"Sell, rent or sub-license material from Cirlos"),r.createElement("li",null,"Reproduce, duplicate or copy material from Cirlos"),r.createElement("li",null,"Redistribute content from Cirlos")),r.createElement("p",null,"This Agreement shall begin on the date hereof."),r.createElement("h2",null,'"User Content" refers to any content posted on Cirlos by users, which includes but is not limited to - messages, posts, comments, profile avatars, circle icons, images, photographs, etc.'),r.createElement("p",null,"This website offers opportunity for users to post and exchange opinions and information in certain areas of the website. Cirlos does not edit, publish or review User Content prior to their presence on the website. User Content does not reflect the views and opinions of Cirlos, its agents and/or affiliates. User Content reflects the views and opinions of the person who post their views and opinions. To the extent permitted by applicable laws, Cirlos shall not be liable for the User Content or for any liability, damages or expenses caused and/or suffered as a result of any use of and/or posting of and/or appearance of the User Content on this website."),r.createElement("p",null,"Cirlos reserves the right to monitor all User Content and to filter or remove any User Content which can be considered inappropriate, offensive or causes breach of these Terms and Conditions."),r.createElement("p",null,"You warrant and represent that:"),r.createElement("ul",null,r.createElement("li",null,"You are entitled to post the User Content on our website and have all necessary licenses and consents to do so;"),r.createElement("li",null,"The User Content does not invade any intellectual property right, including without limitation copyright, patent or trademark of any third party;"),r.createElement("li",null,"The User Content does not contain any defamatory, libelous, offensive, indecent or otherwise unlawful material which is an invasion of privacy;"),r.createElement("li",null,"The User Content follows all guidelines specified within our ",r.createElement("a",{href:"https://www.cirlos.net/guidelines"},"Community Guidelines"),";"),r.createElement("li",null,"The User Content will not be used to solicit or promote any unlawful activities.")),r.createElement("p",null,"You hereby grant Cirlos a non-exclusive license to use, reproduce, edit and authorize others to use, reproduce and edit any of your User Content in any and all forms, formats or media."),r.createElement("h3",null,r.createElement("strong",null,"Copyright")),r.createElement("p",null,"As previously stated, any User Content that you post/edit, you must have valid and legal rights to use."),r.createElement("p",null,"No use of Cirlos's logo or other artwork is permitted without receiving permission beforehand."),r.createElement("h3",null,r.createElement("strong",null,"iFrames")),r.createElement("p",null,"Without prior approval and written permission, you may not create frames around our Webpages that alter in any way the visual presentation or appearance of our Website."),r.createElement("h3",null,r.createElement("strong",null,"Content Liability")),r.createElement("p",null,"In regards to using our logo or artwork and iframes, we shall not be hold responsible for any content that appears on your Website. You agree to protect and defend us against all claims that is rising on your Website. No link(s) should appear on any Website that may be interpreted as libelous, obscene or criminal, or which infringes, otherwise violates, or advocates the infringement or other violation of, any third party rights."),r.createElement("h3",null,r.createElement("strong",null,"Reservation of Rights")),r.createElement("p",null,"We reserve the right to request that you remove all links/content or any particular link/content to/from our Website. You approve to immediately remove all links/content to our Website upon request. We also reserve the right to amen these terms and conditions and it’s linking policy at any time. By continuously linking to our Website, you agree to be bound to and follow these linking terms and conditions."),r.createElement("h3",null,r.createElement("strong",null,"Removal of links from our website")),r.createElement("p",null,"If you find any link on our Website that is offensive for any reason, you are free to contact and inform us any moment. We will consider requests to remove links but we are not obligated to or so or to respond to you directly."),r.createElement("p",null,"We do not ensure that the information on this website is correct, we do not warrant its completeness or accuracy; nor do we promise to ensure that the website remains available or that the material on the website is kept up to date."),r.createElement("h3",null,r.createElement("strong",null,"Disclaimer")),r.createElement("p",null,"To the maximum extent permitted by applicable law, we exclude all representations, warranties and conditions relating to our website and the use of this website. Nothing in this disclaimer will:"),r.createElement("ul",null,r.createElement("li",null,"limit or exclude our or your liability for death or personal injury;"),r.createElement("li",null,"limit or exclude our or your liability for fraud or fraudulent misrepresentation;"),r.createElement("li",null,"limit any of our or your liabilities in any way that is not permitted under applicable law; or"),r.createElement("li",null,"exclude any of our or your liabilities that may not be excluded under applicable law.")),r.createElement("p",null,"The limitations and prohibitions of liability set in this Section and elsewhere in this disclaimer: (a) are subject to the preceding paragraph; and (b) govern all liabilities arising under the disclaimer, including liabilities arising in contract, in tort and for breach of statutory duty."),r.createElement("p",null,"As long as the website and the information and services on the website are provided free of charge, we will not be liable for any loss or damage of any nature."),r.createElement("h2",null,"Contact Us"),r.createElement("p",null,"If you have any questions or suggestions about our Terms of Service, do not hesitate to contact us."))}function s(){return r.createElement("div",{style:{maxHeight:"100vh",overflowY:"auto",padding:20}},r.createElement(o,null))}},9606:(e,t,n)=>{"use strict";n.d(t,{nK:()=>M,Mr:()=>N,vQ:()=>P,Up:()=>D,jY:()=>R,h7:()=>O,kg:()=>L});var r=n(7294),i=n(5697),o=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,a=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.createElement("polyline",{points:"15 18 9 12 15 6"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="ChevronLeft";const l=a;function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),r.createElement("polyline",{points:"4 14 10 14 10 20"}),r.createElement("polyline",{points:"20 10 14 10 14 4"}),r.createElement("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),r.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))}));u.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},u.displayName="Minimize2";const d=u;function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var f=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",h({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),r.createElement("polyline",{points:"15 3 21 3 21 9"}),r.createElement("polyline",{points:"9 21 3 21 3 15"}),r.createElement("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),r.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))}));f.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},f.displayName="Maximize2";const p=f;function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var g=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return r.createElement("svg",m({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),r.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),r.createElement("polyline",{points:"15 3 21 3 21 9"}),r.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))}));g.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},g.displayName="ExternalLink";const v=g;var y=n(616),b=n(628),w=n(2846),_=n(2048),E=n(9683);function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}class T extends r.Component{render(){return r.createElement("a",C({className:"LinkWrapper"},this.props),this.props.children)}}var S=n(1832),k=n(6856);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function O(e){M.push(e)}function N(){M.pop().catch(console.error.bind(console,"Failed to pop modal!"))}async function P(e){try{await window.navigator.clipboard.writeText(e),S.Z.showToast(r.createElement("span",null,r.createElement("b",null,e.length>=100?e.substr(0,100)+"...":e)," copied to clipboard"),"Success")}catch(t){L({title:"Failed To Copy",description:"Your browser does not support copying to clipboard, you can manually copy here.",value:e})}}function A({url:e,getSources:t}){const n="function"==typeof t?t().filter((e=>e)):[e],[i,o]=r.useState(n.indexOf(e)),s=e=>n[i+e]?(h(!1),m(!1),o(i+e)):S.Z.showToast("No more images in this direction!","Failure"),[a,c]=r.useState(!1),[u,h]=r.useState(!1),[f,m]=r.useState(!1);return r.createElement("div",{className:"ImageModal",onClick:e=>e.target===e.currentTarget&&M.pop()},r.createElement("div",{className:(0,w.Ch)("ImageContainer",[a,"Expanded"])},r.createElement("img",{src:n[i],alt:"Image failed to load",onLoad:()=>(h(!0),m(!1)),onError:()=>(h(!0),m(!0))})),r.createElement("div",{className:"Footer"},r.createElement("div",{className:(0,w.Ch)("Button Arrow Left",[!n.length||!i,"Disabled"]),onClick:()=>s(-1)},r.createElement(l,null),r.createElement(k.Z,null,"Previous Image")),r.createElement("div",{className:"Divider"}),r.createElement("div",{className:"Filename"},n[i].split("?")[0].split("/").slice(-1)[0].split("_").slice(-1)[0].replaceAll("%20"," ")),r.createElement("div",{className:"Divider"}),r.createElement("div",{className:"Button",onClick:()=>c(!a)},a?r.createElement(d,null):r.createElement(p,null),r.createElement(k.Z,null,a?"Compress":"Expand")),r.createElement("div",{className:"Button",onClick:()=>P(n[i])},r.createElement(y.Z,null),r.createElement(k.Z,null,"Copy URL")),r.createElement(T,{className:"Button",style:{display:"block",color:"white"},href:n[i]},r.createElement(v,null),r.createElement(k.Z,null,"Open In Browser")),r.createElement("div",{className:"Divider"}),r.createElement("div",{className:(0,w.Ch)("Button Arrow Right",[!n.length||i+1>=n.length,"Disabled"]),onClick:()=>s(1)},r.createElement(b.Z,null),r.createElement(k.Z,null,"Next Image"))))}function R(e,t=null){M.push(r.createElement(A,{url:e,getSources:t}))}async function D({title:e="",description:t="",yesText:n="Yes",noText:i="No",yesColor:o="var(--busy-color)",noColor:s=""}){const a=await new Promise((a=>{M.push(r.createElement("div",{className:"BoolModal PrimaryBg"},r.createElement("div",{className:"Title",dangerouslySetInnerHTML:{__html:e}}),r.createElement("div",{className:"Description",dangerouslySetInnerHTML:{__html:t}}),r.createElement("div",{className:"Footer"},r.createElement("div",{className:"Button TertiaryBg",onClick:()=>a(!1),style:{backgroundColor:s}},i),r.createElement("div",{className:"Button TertiaryBg",onClick:()=>a(!0),style:{backgroundColor:o}},n))))}));return M.pop(),a}async function L(e={}){const{async:t=!1}=e,n=await new Promise((t=>{M.push(r.createElement(F,x({resolve:t},e)))}));return!t&&M.pop(),n}class M extends r.Component{static push(e){this.instance.setState({stack:[...this.instance.state.stack,e]})}static async pop(){const{stack:e,closing:t}=this.instance.state,n=e[e.length-1];e.length&&n&&(this.instance.setState({closing:[...t,n]}),await new Promise((e=>setTimeout(e,150))),this.instance.setState({stack:this.instance.state.stack.filter((e=>e!==n)),closing:this.instance.state.closing.filter((e=>e!==n))}))}componentDidMount(){M.instance=this,document.addEventListener("keydown",this.handleKey)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKey)}handleBackdropClick(e){var t;if(e.target!==e.currentTarget)return;const{stack:n}=this.state;if(n[n.length-1]&&"function"==typeof(null===(t=n[n.length-1].props)||void 0===t?void 0:t.onBackdropClick))return n[n.length-1].props.onBackdropClick();M.pop().catch(console.error.bind(console,"Failed to pop modal!"))}render(){const{stack:e,closing:t}=this.state;return r.createElement("div",{className:"ModalStack"+(e.length>t.length?" Active":"")},e.map(((n,i)=>r.createElement(_.Z,{key:i},r.createElement("div",{className:"ModalContainer"+(~t.indexOf(n)||i<e.length-1?" Closing":""),onMouseDown:this.handleBackdropClick.bind(this),style:{zIndex:10*i}},n)))))}constructor(...e){super(...e),I(this,"state",{stack:[],closing:[]}),I(this,"handleKey",(e=>{"Escape"===e.key&&M.pop()}))}}function F(e){const{title:t="",description:n="",yesText:i="Confirm",noText:o="Cancel",yesColor:s="",noColor:a="",value:l="",onChange:c=null,rich:u=!1,resolve:d,id:h}=e,[f,p]=r.useState(!1),[m,g]=r.useState(!1);return r.createElement("div",{className:"StringModal PrimaryBg"},r.createElement("div",{className:"Title",dangerouslySetInnerHTML:{__html:t}}),r.createElement("div",{className:"Description",dangerouslySetInnerHTML:{__html:n}}),r.createElement("input",{id:h,className:"Field TertiaryBg",defaultValue:l,onChange:c}),r.createElement("div",{className:"Footer"},r.createElement("div",{className:"Button TertiaryBg",onClick:()=>(d(null),p(!0)),style:{backgroundColor:a}},f?r.createElement(E.Z,null):o),r.createElement("div",{className:"Button TertiaryBg",onClick:()=>(d(document.getElementById(h).value),g(!0)),style:{backgroundColor:s}},m?r.createElement(E.Z,null):i)))}I(M,"instance",void 0)},9894:(e,t,n)=>{"use strict";n.d(t,{d:()=>N,Z:()=>O});var r=n(6486),i=n.n(r),o=n(7294),s=n(5697),a=n.n(s);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}),o.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},c.displayName="XSquare";const u=c;function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var h=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,s=void 0===i?24:i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return o.createElement("svg",d({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),o.createElement("polyline",{points:"9 11 12 14 22 4"}),o.createElement("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}))}));h.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},h.displayName="CheckSquare";const f=h;var p=n(6445),m=n(2846),g=n(4702),v=n(9818),y=n(1756),b=n(3513),w=n(3095),_=n(5295),E=n(5744),C=n(5833),T=n(2284),S=n(164),k=n(9683),I=n(6856);function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function O({circleId:e,groupId:t}){g.e.useForceUpdater(m.MF.CHAT_UPDATE,(n=>n.circleId==e&&n.groupId==t));const n=o.useRef(),r=_.Z.getMessageGroups(e,t),s=(0,v.ac)("max-width",700),a=o.useMemo((()=>s?{onTouchStart:e=>{const t=e.touches[0].clientX,r=e.touches[0].clientY,o=y.Z.getStyle("groupPanelSize")+60;let s=0,a=parseFloat(n.current.style.transform.match(/[0-9]+/g));isNaN(a)&&(a=0);const l=e=>{s=e.touches[0].clientX-t,Math.abs(s)<50||Math.abs(e.touches[0].clientY-r)>50||(s<0?s+=50:s-=50,Object.assign(n.current.style,{transform:`translateX(${i().clamp(a+s,0,o)}px)`}))};let c;document.addEventListener("touchmove",l),document.addEventListener("touchend",c=()=>{setTimeout((()=>{Object.assign(n.current.style,{transition:"transform 70ms linear",transform:s>o/5?`translateX(${o}px)`:"none"}),setTimeout((()=>{n.current&&delete n.current.style.transition}),70),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",c)}),100)})}}:{}),[s]);return(0,v.Yz)((()=>_.Z.tickCache(e,t)),1e3,!0,[e,t]),o.createElement("div",x({className:"Panel PanelChat",ref:n},a),r?o.createElement("div",{className:"Messages",onScroll:function({target:n}){Math.abs(n.scrollTop-window.innerHeight)>n.scrollHeight&&(_.Z.isFetching(e,t)||g.e.dispatch({type:m.MF.FETCH_MORE_MESSAGES,circleId:e,groupId:t}))}},r.map((e=>o.createElement(N,x({},e)))),0===r.length&&"dms"===e&&b.Z.getSelectedGroup()&&o.createElement("div",{className:"ChatHead MessageGroup FlexCenter"},o.createElement("h3",null,"Message ",o.createElement("b",null,o.createElement(E.default.getUser(b.Z.getSelectedGroup().userId).Mention))))):o.createElement("div",{className:"FlexCenter",style:{marginTop:50}},o.createElement(k.Z,null)))}function N({userId:e,messages:t,minimal:n=!1}){var r;const i=E.default.useState((()=>E.default.getUser(e)));return o.createElement("div",{className:(0,m.Ch)("MessageGroup",[e===(null===(r=E.default.getLocalUser())||void 0===r?void 0:r.id),"LocalUser"])},o.createElement(S.Z.Wrapper,{menu:o.createElement(i.ContextMenu,null),wrapperClassName:"UserSection Flex"},i&&o.createElement(i.AvatarComponent,null),o.createElement("div",{className:"Details"},o.createElement("h3",{className:"Username",style:{color:i.getColor()}},i.displayName),o.createElement("div",{className:"Flex"},o.createElement(i.StatusText,null),o.createElement(i.BadgesList,null)))),t.map((e=>o.createElement(P,{message:e,key:e.id,minimal:n}))))}function P({message:e,minimal:t=!1}){var n;const r=b.Z.getSelectedGroup(),i=_.Z.useState((()=>_.Z.isEditingMessage(e.id)));g.e.useForceUpdater(m.MF.UPDATE_READS,(({circleId:e,groupId:t})=>(null==r?void 0:r.circleId)===e&&(null==r?void 0:r.id)===t));const s=w.Z.getReadsForMessage(null==r?void 0:r.circleId,null==r?void 0:r.id,e.id).filter((({userId:e})=>e!==E.default.getLocalUser().id)),a={onClick:t=>{t.shiftKey&&g.e.dispatch({type:m.MF.RTA_APPEND_TEXT,text:` re:${e.id} `})}};return o.createElement(S.Z.Wrapper,{menu:o.createElement(e.ContextMenu,null),wrapperClassName:(0,m.Ch)("Message","Flex",[i,"Editing"]),"data-message-id":e.id},o.createElement("div",{className:"TimestampContainer"},o.createElement("span",{className:"Timestamp"},null===(n=e.creationDate)||void 0===n?void 0:n.toDate().toLocaleTimeString("en-US",{hour12:!1}).slice(0,-3)),o.createElement(I.Z,{direction:"right"},o.createElement("div",null,"Sent ",e.getCreationDate()),e.editedAt&&o.createElement("div",null,"Edited ",e.getCreationDate(e.editedAt)))),i?o.createElement("div",{className:"FlexCenter"},o.createElement(T.Z,{className:"MessageContent Editing",defaultValue:e.content,onSend:t=>{t.trim()?g.e.dispatch({type:m.MF.EDIT_MESSAGE,messageId:e.id,group:r,content:t}):g.e.dispatch({type:m.MF.DELETE_MESSAGE,messageId:e.id,group:r})},onKeyDown:t=>{"Escape"===t.key&&g.e.dispatch({type:m.MF.EDIT_MESSAGE,messageId:e.id,group:r,content:e.content})}}),o.createElement(u,{className:"Button",onClick:e=>e.currentTarget.parentElement.querySelector("textarea").dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",shiftKey:!1,bubbles:!0}))}),o.createElement(f,{className:"Button",onClick:e=>e.currentTarget.parentElement.querySelector("textarea").dispatchEvent(new KeyboardEvent("keydown",{key:"Enter",shiftKey:!1,bubbles:!0}))})):o.createElement("div",x({className:"MessageContent"},a),e.getContent({minimal:t})),!!s.length&&o.createElement("div",{className:"ReadIndicators"},o.createElement(p.Z,{className:"Icon"}),o.createElement(I.Z,{direction:"left"},o.createElement("h4",null,"Read by"),o.createElement("div",{className:"Flex Indicators"},s.map((({userId:e,timestamp:t})=>o.createElement("div",{key:e},o.createElement(C.cB,{user:E.default.getUser(e)})," ",(0,m.i$)(t))))))))}},1832:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(7294),i=n(2846);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{resume(){this.startTime=Date.now(),clearTimeout(this.id),this.id=setTimeout(this.callback,this.remainingTime)}pause(){clearTimeout(this.id),this.remainingTime-=Date.now()-this.startTime}end(){clearTimeout(this.id),this.callback()}constructor(e,t,n=!0){o(this,"id",void 0),o(this,"startTime",void 0),o(this,"remainingTime",void 0),o(this,"callback",void 0),o(this,"duration",void 0),this.callback=e,this.duration=t,this.remainingTime=t,n&&this.resume()}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l({children:e,type:t,life:n,remove:o,callback:a,color:l,fixedTime:c=!1}){const u=()=>{h(!0),setTimeout(o,500)},[d,h]=r.useState(!1),f=r.useMemo((()=>new s(u,1e3*n,!1)),[]),p=r.useRef(),m=()=>{f.pause(),p.current.style.animationPlayState="paused"},g=()=>{f.resume(),p.current.style.animationPlayState="running"};return r.useEffect((()=>{const e=()=>!c&&g(),t=()=>!c&&m();return window.addEventListener("focus",e),window.addEventListener("blur",t),(c||document.hasFocus())&&g(),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}})),r.createElement("div",{className:(0,i.Ch)("Toast",[d,"Closing"],t),onMouseEnter:c?null:m,onMouseLeave:c?null:g,onClick:a?e=>{a(e),f.end()}:()=>{f.end()},style:{cursor:a?"pointer":null,backgroundColor:l}},e,r.createElement("div",{className:"ProgressBarContainer"},r.createElement("div",{ref:p,className:"ProgressBar",style:{animationDuration:n+"s"}})))}class c extends r.Component{componentDidMount(){c.instance=this}static showToast(e,t="",n=5,o={}){const{callback:s=null,color:a=null,fixedTime:c=!1}=o,u=r.createElement(l,{key:(0,i.dA)(),children:e,type:t,life:n,color:a,fixedTime:c,remove:()=>{this.instance.setState({toasts:this.instance.state.toasts.filter((e=>e!==u))})},callback:s});return this.instance.setState({toasts:[...this.instance.state.toasts,u]}),u}get horizontalStyle(){return"Center"}get verticalStyle(){return"Bottom"}render(){var e;return r.createElement("div",{ref:c.ref,className:(0,i.Ch)("ToastsContainer",this.horizontalStyle,this.verticalStyle)},r.createElement("div",{className:(0,i.Ch)("ClearButton",[!!(null===(e=this.state.toasts)||void 0===e?void 0:e.length),"Visible"]),onClick:()=>this.setState({toasts:[]})},r.createElement("u",null,"Close all")),this.state.toasts)}constructor(...e){super(...e),a(this,"state",{toasts:[]})}}a(c,"instance",void 0),a(c,"ref",r.createRef())},6856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7294),i=n(2846);function o({children:e=null,direction:t="up",className:n="",color:o=null,style:s=null,onClick:a=null}){const[l,c]=r.useState(!1),u=r.useRef();return r.useEffect((()=>(u.current.parentElement.classList.add("HasTooltip"),()=>{u.current&&u.current.parentElement.classList.remove("HasTooltip")})),[e,t]),r.createElement("div",{ref:u,className:(0,i.Ch)("TooltipContainer",t.toLowerCase(),[l,"Visible"],n),style:s,onClick:a},r.createElement("div",{className:"Tooltip",style:{backgroundColor:o}},e),r.createElement("div",{className:"TooltipArrow",style:{backgroundColor:o}}))}n(3935)},655:(e,t,n)=>{"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}n.d(t,{_T:()=>r,mG:()=>i,Jh:()=>o,XA:()=>s,CR:()=>a,ev:()=>l}),Object.create,Object.create},4559:(e,t,n)=>{"use strict";e.exports=n.p+"assets/media/alert.ogg"},7451:(e,t,n)=>{"use strict";e.exports=n.p+"assets/media/ascend.ogg"},2345:(e,t,n)=>{"use strict";e.exports=n.p+"assets/media/descend.ogg"},1025:(e,t,n)=>{"use strict";e.exports=n.p+"assets/media/icon50x50.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../../"})(),(()=>{"use strict";var e=n(7294),t=n(3935),r=n(8623);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),t.render(e.createElement(e.StrictMode,null,e.createElement(r.ZP,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)}))})()})();